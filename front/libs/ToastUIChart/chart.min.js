/*!
 * @fileoverview tui.chart
 * @author NHN Ent. FE Development Lab <dl_javascript@nhnent.com>
 * @version 2.6.2
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 * bundle created at "Fri Dec 30 2016 11:19:56 GMT+0900 (KST)"
 */
!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="/dist/",e(0)}([function(t,e,i){"use strict";function n(t,e,i,n){var o,u,c,d;return e&&(e.table&&(e=l.makeDataWithTable(e.table)),e.series&&(e=h.deepCopy(e),"combo"!==n&&(d=e.series,e.series={},e.series[n]=d),i=i?h.deepCopy(i):{},i.chartType=n,o=i.theme||a.DEFAULT_THEME_NAME,u=r.get(o,n,e.series),c=s.get(i.chartType,e,u,i),t.appendChild(c.render()),c.animateChart())),c}var a=i(2),s=i(3),o=i(7),r=i(8),u=i(10),h=i(11),l=i(12);i(13),i(15),i(16),i(119),tui.util.defineNamespace("tui.chart"),tui.chart.barChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_BAR)},tui.chart.columnChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_COLUMN)},tui.chart.lineChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_LINE)},tui.chart.areaChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_AREA)},tui.chart.bubbleChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_BUBBLE)},tui.chart.scatterChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_SCATTER)},tui.chart.heatmapChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_HEATMAP)},tui.chart.treemapChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_TREEMAP)},tui.chart.comboChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_COMBO)},tui.chart.pieChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_PIE)},tui.chart.mapChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_MAP)},tui.chart.radialChart=function(t,e,i){return n(t,e,i,a.CHART_TYPE_RADIAL)},tui.chart.registerTheme=function(t,e){r.register(t,e)},tui.chart.registerMap=function(t,e){u.register(t,e)},tui.chart.registerPlugin=function(t,e){o.register(t,e)},i(120)},,function(t,e){"use strict";var i={CLASS_NAME_LEGEND_LABEL:"tui-chart-legend-label",CLASS_NAME_LEGEND_CHECKBOX:"tui-chart-legend-checkbox",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CLASS_NAME_RESET_ZOOM_BTN:"tui-chart-reset-zoom-btn",CLASS_NAME_CHART_EXPORT_MENU_AREA:"tui-chart-chartExportMenu-area",CLASS_NAME_CHART_EXPORT_MENU_ITEM:"tui-chart-chartExportMenu-item",CLASS_NAME_CHART_EXPORT_MENU_BUTTON:"tui-chart-chartExportMenu-button",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_COLUMN_LINE_COMBO:"columnLineCombo",CHART_TYPE_LINE_SCATTER_COMBO:"lineScatterCombo",CHART_TYPE_LINE_AREA_COMBO:"lineAreaCombo",CHART_TYPE_PIE_DONUT_COMBO:"pieDonutCombo",CHART_TYPE_PIE:"pie",CHART_TYPE_BUBBLE:"bubble",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_HEATMAP:"heatmap",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_MAP:"map",CHART_TYPE_RADIAL:"radial",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,OVERLAPPING_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_LABEL_PADDING:5,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",MAX_HEIGHT_WORLD:"A",NORMAL_STACK_TYPE:"normal",PERCENT_STACK_TYPE:"percent",DEFAULT_STACK:"___DEFAULT___STACK___",DUMMY_KEY:"___DUMMY___KEY___",TREEMAP_ROOT_ID:"___TUI_TREEMAP_ROOT___",TREEMAP_ID_PREFIX:"___TUI_TREEMAP_ID___",TREEMAP_DEPTH_KEY_PREFIX:"___TUI_TREEMAP_DEPTH___",TREEMAP_PARENT_KEY_PREFIX:"___TUI_TREEMAP_PARENT___",TREEMAP_LEAF_KEY_PREFIX:"___TUI_TREEMAP_LEAF___",TREEMAP_LIMIT_DEPTH_KEY_PREFIX:"___TUI_TREEMAP_LIMIT_DEPTH___",TREEMAP_DEFAULT_BORDER:"#ccc",EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,RERENDER_TIME:700,ADDING_DATA_ANIMATION_DURATION:300,LABEL_ALIGN_OUTER:"outer",LEGEND_ALIGN_TOP:"top",LEGEND_ALIGN_BOTTOM:"bottom",LEGEND_ALIGN_LEFT:"left",SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATIO:.8,PIE_GRAPH_SMALL_RATIO:.65,SPECTRUM_LEGEND_TICK_COUNT:4,MAP_CHART_LABEL_DEFAULT_POSITION_RATIO:{x:.5,y:.5},DOT_RADIUS:4,SCATTER_RADIUS:5,THEME_PROPS_MAP:{yAxis:["tickColor","title","label"],series:["label","colors","borderColor","borderWidth","singleColors","selectionColor","startColor","endColor","overColor"]},TITLE_AREA_WIDTH_PADDING:20,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",TOOLTIP_ZINDEX:500,TOOLTIP_ANIMATION_TIME:100,TOOLTIP_PIE_ANIMATION_TIME:50,MIN_PIXEL_TYPE_STEP_SIZE:45,MAX_PIXEL_TYPE_STEP_SIZE:65,PERCENT_STACKED_AXIS_SCALE:{limit:{min:0,max:100},step:25,labels:[0,25,50,75,100]},MINUS_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:0},step:25,labels:[0,-25,-50,-75,-100]},DUAL_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[-100,-75,-50,-25,0,25,50,75,100]},DIVERGING_PERCENT_STACKED_AXIS_SCALE:{limit:{min:-100,max:100},step:25,labels:[100,75,50,25,0,25,50,75,100]},AXIS_TYPE_DATETIME:"datetime",DEFAULT_DATE_FORMAT:"YYYY.MM.DD hh:mm:dd",DATE_TYPE_YEAR:"year",DATE_TYPE_MONTH:"month",DATE_TYPE_DATE:"date",DATE_TYPE_HOUR:"hour",DATE_TYPE_MINUTE:"minute",DATE_TYPE_SECOND:"second",TITLE_PADDING:10,LEGEND_AREA_PADDING:10,LEGEND_CHECKBOX_WIDTH:20,LEGEND_RECT_WIDTH:12,LEGEND_LABEL_LEFT_PADDING:5,MIN_LEGEND_WIDTH:100,MAP_LEGEND_SIZE:200,MAP_LEGEND_GRAPH_SIZE:25,MAP_LEGEND_LABEL_PADDING:5,CIRCLE_LEGEND_LABEL_FONT_SIZE:9,CIRCLE_LEGEND_PADDING:10,HALF_RATIO:.5,AXIS_LABEL_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],TICK_INTERVAL_AUTO:"auto",YAXIS_ALIGN_CENTER:"center",XAXIS_LABEL_COMPARE_MARGIN:20,XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10,20,50,100],AXIS_LAST_STANDARD_MULTIPLE_NUM:100,LABEL_PADDING_TOP:2,LINE_MARGIN_TOP:5,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200,OLD_BROWSER_OPACITY_100:100,SERIES_LABEL_OPACITY:.3,WHEEL_TICK:120,MAX_ZOOM_MAGN:32,FF_WHEELDELTA_ADJUSTING_VALUE:-40,IE7_ROTATION_FILTER_STYLE_MAP:{25:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.9063077870366499, M12=0.42261826174069944, M21=-0.42261826174069944, M22=0.9063077870366499)\"",45:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)\"",65:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.42261826174069944, M12=0.9063077870366499, M21=-0.9063077870366499, M22=0.42261826174069944)\"",85:" style=\"filter: progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.08715574274765814, M12=0.9961946980917455, M21=-0.9961946980917455, M22=0.08715574274765814)\""},PUBLIC_EVENT_PREFIX:"public_",PUBLIC_EVENT_MAP:{load:!0,selectLegend:!0,selectSeries:!0,unselectSeries:!0,beforeShowTooltip:!0,afterShowTooltip:!0,zoom:!0},RADIAL_PLOT_PADDING:15,RADIAL_MARGIN_FOR_CATEGORY:60,RADIAL_CATEGORY_PADDING:20};t.exports=i},function(t,e,i){"use strict";var n=i(2),a=i(4),s=i(5),o={},r={_findKey:function(t,e){var i,o=null;return s.isComboChart(t)?(i=a.getChartTypeMap(e),i[n.CHART_TYPE_COLUMN]&&i[n.CHART_TYPE_LINE]?o=n.CHART_TYPE_COLUMN_LINE_COMBO:i[n.CHART_TYPE_LINE]&&i[n.CHART_TYPE_SCATTER]?o=n.CHART_TYPE_LINE_SCATTER_COMBO:i[n.CHART_TYPE_AREA]&&i[n.CHART_TYPE_LINE]?o=n.CHART_TYPE_LINE_AREA_COMBO:i[n.CHART_TYPE_PIE]&&(o=n.CHART_TYPE_PIE_DONUT_COMBO)):o=t,o},get:function(t,e,i,n){var a,s=this._findKey(t,e),r=o[s];if(!r)throw new Error("Not exist "+t+" chart.");return a=new r(e,i,n)},register:function(t,e){o[t]=e}};t.exports=r},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(6),o={pickStacks:function(t,e){var i,a,o;return i=tui.util.map(t,function(t){return t.stack}),a=s.unique(i),e&&(a=a.slice(0,2)),o=tui.util.filter(a,function(t){return!!t}),o.length<a.length&&o.push(n.DEFAULT_STACK),o},_sortSeriesData:function(t,e){var i=[];return e||(e=this.pickStacks(t)),tui.util.forEachArray(e,function(e){var a=tui.util.filter(t,function(t){return(t.stack||n.DEFAULT_STACK)===e});i=i.concat(a)}),i},removeSeriesStack:function(t){tui.util.forEachArray(t,function(t){delete t.stack})},findChartType:function(t,e){var i;return t&&(i=t[e]),i||e},getChartTypeMap:function(t){var e=this,i={};return tui.util.isObject(t.series)&&tui.util.forEach(t.series,function(n,a){i[e.findChartType(t.seriesAlias,a)]=!0}),i},_createMinusValues:function(t){return tui.util.map(t,function(t){return t<0?0:-t})},_createPlusValues:function(t){return tui.util.map(t,function(t){return t<0?0:t})},_makeNormalDivergingRawSeriesData:function(t){return t.length=Math.min(t.length,2),t[0].data=this._createMinusValues(t[0].data),t[1]&&(t[1].data=this._createPlusValues(t[1].data)),t},_makeRawSeriesDataForStackedDiverging:function(t){var e=this,i=this.pickStacks(t,!0),a=[],s=i[0],o=i[1];return t=this._sortSeriesData(t,i),tui.util.forEachArray(t,function(t){var i=t.stack||n.DEFAULT_STACK;i===s?(t.data=e._createMinusValues(t.data),a.push(t)):i===o&&(t.data=e._createPlusValues(t.data),a.push(t))}),a},_makeRawSeriesDataForDiverging:function(t,e){return t=a.isValidStackOption(e)?this._makeRawSeriesDataForStackedDiverging(t):this._makeNormalDivergingRawSeriesData(t)},updateRawSeriesDataByOptions:function(t,e){var i=this;e=e||{},a.isValidStackOption(e.stackType)&&tui.util.forEach(t.series,function(e,n){t.series[n]=i._sortSeriesData(t.series[n])}),e.diverging&&tui.util.forEach(t.series,function(n,a){t.series[a]=i._makeRawSeriesDataForDiverging(n,e.stackType)})},filterCheckedRawData:function(t,e){var i=JSON.parse(JSON.stringify(t));return e&&tui.util.forEach(i.series,function(t,n){e[n]?e[n].length&&(i.series[n]=tui.util.filter(t,function(t,i){return e[n][i]})):i.series[n]=[]}),i}};t.exports=o},function(t,e,i){"use strict";var n=i(2),a=i(6),s={isBarChart:function(t){return t===n.CHART_TYPE_BAR},isColumnChart:function(t){return t===n.CHART_TYPE_COLUMN},isBarTypeChart:function(t){return s.isBarChart(t)||s.isColumnChart(t)},isRadialChart:function(t){return t===n.CHART_TYPE_RADIAL},isDivergingChart:function(t,e){return this.isBarTypeChart(t)&&e},isNormalStackChart:function(t,e){var i=s.isAllowedStackOption(t),n=s.isNormalStack(e);return i&&n},isPercentStackChart:function(t,e){var i=s.isAllowedStackOption(t),n=s.isPercentStack(e);return i&&n},isComboChart:function(t){return t===n.CHART_TYPE_COMBO},isPieDonutComboChart:function(t,e){var i=a.all(e,function(t){return s.isPieChart(t)});return s.isComboChart(t)&&i},isLineChart:function(t){return t===n.CHART_TYPE_LINE},isAreaChart:function(t){return t===n.CHART_TYPE_AREA},isLineAreaComboChart:function(t,e){var i=a.all(e||[],function(t){return s.isLineChart(t)||s.isAreaChart(t)});return s.isComboChart(t)&&i},hasLineChart:function(t,e){var i=a.any(e||[],function(t){return s.isLineChart(t)});return s.isComboChart(t)&&i},isLineScatterComboChart:function(t,e){var i=a.all(e||[],function(t){return s.isLineChart(t)||s.isScatterChart(t)});return s.isComboChart(t)&&i},isLineTypeChart:function(t,e){return s.isLineChart(t)||s.isAreaChart(t)||s.isLineAreaComboChart(t,e)},isBubbleChart:function(t){return t===n.CHART_TYPE_BUBBLE},isScatterChart:function(t){return t===n.CHART_TYPE_SCATTER},isHeatmapChart:function(t){return t===n.CHART_TYPE_HEATMAP},isTreemapChart:function(t){return t===n.CHART_TYPE_TREEMAP},isBoxTypeChart:function(t){return s.isHeatmapChart(t)||s.isTreemapChart(t)},isPieChart:function(t){return t===n.CHART_TYPE_PIE},isMapChart:function(t){return t===n.CHART_TYPE_MAP},isCoordinateTypeChart:function(t){return s.isBubbleChart(t)||s.isScatterChart(t)},allowMinusPointRender:function(t){return s.isLineTypeChart(t)||s.isCoordinateTypeChart(t)||s.isBoxTypeChart(t)},isChartToDetectMouseEventOnSeries:function(t){return s.isPieChart(t)||s.isMapChart(t)||s.isCoordinateTypeChart(t)},isLabelAlignOuter:function(t){return t===n.LABEL_ALIGN_OUTER},isShowLabel:function(t){return t.showLabel||t.showLegend},isShowOuterLabel:function(t){return s.isShowLabel(t)&&s.isLabelAlignOuter(t.labelAlign)},isLegendAlignLeft:function(t){return t===n.LEGEND_ALIGN_LEFT},isLegendAlignTop:function(t){return t===n.LEGEND_ALIGN_TOP},isLegendAlignBottom:function(t){return t===n.LEGEND_ALIGN_BOTTOM},isHorizontalLegend:function(t){return s.isLegendAlignTop(t)||s.isLegendAlignBottom(t)},isVerticalLegend:function(t){return!s.isHorizontalLegend(t)},isAllowedStackOption:function(t){return s.isBarChart(t)||s.isColumnChart(t)||s.isAreaChart(t)},isNormalStack:function(t){return t===n.NORMAL_STACK_TYPE},isPercentStack:function(t){return t===n.PERCENT_STACK_TYPE},isValidStackOption:function(t){return t&&(s.isNormalStack(t)||s.isPercentStack(t))},isAllowRangeData:function(t){return s.isBarTypeChart(t)||s.isAreaChart(t)},isYAxisAlignCenter:function(t,e){return!t&&e===n.YAXIS_ALIGN_CENTER},isMinusLimit:function(t){return t.min<=0&&t.max<=0},isAutoTickInterval:function(t){return t===n.TICK_INTERVAL_AUTO},isValidLabelInterval:function(t,e){return t&&t>1&&!e},isDatetimeType:function(t){return t===n.AXIS_TYPE_DATETIME}};t.exports=s},function(t,e){"use strict";var i=function(t,e,i){var n,a,s;return e?(n=t[0],a=e.call(i,n,0),s=t.slice(1),tui.util.forEachArray(s,function(t,s){var o=e.call(i,t,s+1);o<a&&(a=o,n=t)})):n=Math.min.apply(null,t),n},n=function(t,e,i){var n,a,s;return e?(n=t[0],a=e.call(i,n,0),s=t.slice(1),tui.util.forEachArray(s,function(t,s){var o=e.call(i,t,s+1);o>a&&(a=o,n=t)})):n=Math.max.apply(null,t),n},a=function(t,e,i){var n=!1;return tui.util.forEach(t,function(a,s){return e.call(i,a,s,t)&&(n=!0),!n}),n},s=function(t,e,i){var n=!!(t||[]).length;return tui.util.forEach(t,function(a,s){return e.call(i,a,s,t)||(n=!1),n!==!1}),n},o=function(t,e,i,n){var a,s=[];return tui.util.isBoolean(e)||(n=i,i=e,e=!1),i=i||function(t){return t},e?tui.util.forEachArray(t,function(e,o){e=i.call(n,e,o,t),o&&a===e||s.push(e),a=e}):tui.util.forEachArray(t,function(e,a){e=i.call(n,e,a,t),tui.util.inArray(e,s)===-1&&s.push(e)}),s},r=function(t){var e,i=[],a=n(tui.util.map(t,function(t){return t.length}));return tui.util.forEachArray(t,function(t){for(e=0;e<a;e+=1)i[e]||(i[e]=[]),i[e].push(t[e])}),i},u={min:i,max:n,any:a,all:s,unique:o,pivot:r};tui.util.defineNamespace("tui.chart"),tui.chart.arrayUtil=u,t.exports=u},function(t,e){"use strict";var i={},n={get:function(t,e){var n,a,s=i[t];if(!s)throw new Error("Not exist "+t+" plugin.");if(n=s[e],!n)throw new Error("Not exist "+e+" chart renderer.");return a=new n},register:function(t,e){i[t]=e}};t.exports=n},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(9),o={};t.exports={register:function(t,e){e=JSON.parse(JSON.stringify(e)),o[t]=e},_pickSeriesNames:function(t,e){var i=[];return a.isComboChart(t)?tui.util.forEach(e,function(t,e){i.push(e)}):i.push(t),i},_overwriteTheme:function(t,e){var i=this;tui.util.forEach(e,function(n,a){var s=t[a];s&&(tui.util.isArray(s)?e[a]=s.slice():tui.util.isObject(s)?i._overwriteTheme(s,n):e[a]=s)})},_pickValidTheme:function(t,e){var i={};return tui.util.forEachArray(n.THEME_PROPS_MAP[e],function(e){tui.util.isExisty(t[e])&&(i[e]=t[e])}),i},_createComponentThemeWithSeriesName:function(t,e,i,n){var a=this,o={};return e=e||{},tui.util.forEachArray(t,function(t){var r=e[t]||a._pickValidTheme(e,n);tui.util.keys(r).length?(o[t]=JSON.parse(JSON.stringify(s[n])),a._overwriteTheme(r,o[t])):o[t]=JSON.parse(JSON.stringify(i))}),o},_setSingleColorsThemeIfNeed:function(t,e,i){e&&e.singleColors&&e.singleColors.length&&(t.singleColors=e.singleColors.concat(i))},_makeEachSeriesColors:function(t,e,i){var n,a=[],s=t.length,o=i||0;for(n=0;n<e;n+=1)a.push(t[o]),o+=1,o>=s&&(o=0);return a},_setSeriesColors:function(t,e,i,n){var a,o,r,u=this,h=0;i=i||{},tui.util.forEachArray(t,function(t){i[t]?(a=i[t].colors,r=!0):(a=i.colors||s.series.colors,r=!1),o=n[t]?n[t].length:0,e[t].colors=u._makeEachSeriesColors(a,o,!r&&h),u._setSingleColorsThemeIfNeed(e[t],i,a),r||(h=(o+h)%a.length)})},_initTheme:function(t,e,i,a){var o;return t!==n.DEFAULT_THEME_NAME?(o=JSON.parse(JSON.stringify(s)),this._overwriteTheme(e,o)):o=JSON.parse(JSON.stringify(e)),o.yAxis=this._createComponentThemeWithSeriesName(i,e.yAxis,o.yAxis,"yAxis"),o.series=this._createComponentThemeWithSeriesName(i,e.series,o.series,"series"),this._setSeriesColors(i,o.series,e.series,a),o},_createTargetThemesForFontInherit:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label,t.plot.label];return tui.util.forEach(t.yAxis,function(t){e.push(t.title,t.label)}),tui.util.forEach(t.series,function(t){e.push(t.label)}),e},_inheritThemeFont:function(t){var e=this._createTargetThemesForFontInherit(t),i=t.chart.fontFamily;tui.util.forEachArray(e,function(t){t.fontFamily||(t.fontFamily=i)})},_copySeriesColorTheme:function(t,e,i){e[i]={colors:t.colors,singleColors:t.singleColors,borderColor:t.borderColor,selectionColor:t.selectionColor}},_copySeriesColorThemeToOther:function(t){var e=this;tui.util.forEach(t.series,function(i,n){e._copySeriesColorTheme(i,t.legend,n),e._copySeriesColorTheme(i,t.tooltip,n)})},get:function(t,e,i){var n,a,s=o[t];if(!s)throw new Error("Not exist "+t+" theme.");return a=this._pickSeriesNames(e,i),n=this._initTheme(t,s,a,i),this._inheritThemeFont(n,a),this._copySeriesColorThemeToOther(n),n}}},function(t,e){"use strict";var i="#000000",n="#ffffff",a="normal",s="",o={tickColor:i,title:{fontSize:12,fontFamily:s,color:i,fontWeight:a},label:{fontSize:12,fontFamily:s,color:i,fontWeight:a}},r={chart:{background:n,fontFamily:"Verdana"},title:{fontSize:18,fontFamily:s,color:i,fontWeight:a},yAxis:o,xAxis:o,plot:{lineColor:"#dddddd",background:"#ffffff",label:{fontSize:11,fontFamily:s,color:"#888"}},series:{label:{fontSize:11,fontFamily:s,color:i,fontWeight:a},colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],singleColors:[],borderColor:s,borderWidth:s,selectionColor:s,startColor:"#F4F4F4",endColor:"#345391",overColor:"#F0C952"},legend:{label:{fontSize:12,fontFamily:s,color:i,fontWeight:a}},tooltip:{}};t.exports=r},function(t,e){"use strict";var i={};t.exports={get:function(t){var e=i[t];if(!e)throw new Error("Not exist "+t+" map.");return e},register:function(t,e){i[t]=e}}},function(t,e){"use strict";var i=function(t){var e;return tui.util.isArray(t)?(e=[],tui.util.forEachArray(t,function(t,n){e[n]=i(t)})):tui.util.isFunction(t)||tui.util.isDate(t)?e=t:tui.util.isObject(t)?(e={},tui.util.forEach(t,function(t,n){e[n]=i(t)})):e=t,e},n={deepCopy:i};t.exports=n},function(t,e,i){"use strict";function n(t){var e;return t.length>0&&(e={},e.categories=[],e.series=[],e.categories=t.shift().slice(1),tui.util.forEach(t,function(t){var i={};i.name=t[0],i.data=t.slice(1),e.series.push(i)})),e}function a(t){var e=[],i=[],n=[];return t&&(e=tui.util.toArray(t.getElementsByTagName("TR")),tui.util.forEach(e,function(t,e){var n=0===e?"TH":"TD",a=tui.util.toArray(t.getElementsByTagName(n)),s=tui.util.pluck(a,"innerText");i.push(s)}),i[0].length<i[1].length&&i[0].unshift(""),n=o.pivot(i)),n}function s(t){var e,i;return t.element&&"TABLE"===t.element.tagName?e=t.element:t.elementId&&(e=document.getElementById(t.elementId)),i=n(a(e))}var o=i(6);t.exports={makeDataWithTable:s}},function(t,e){},,function(module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},a=/[\\"\u0000-\u001F\u2028\u2029]/g;return function i(s){if(null==s)return"null";if("number"==typeof s)return isFinite(s)?s.toString():"null";if("boolean"==typeof s)return s.toString();if("object"==typeof s){if("function"==typeof s.toJSON)return i(s.toJSON());if(e(s)){for(var o="[",r=0;r<s.length;r++)o+=(r?", ":"")+i(s[r]);return o+"]"}if("[object Object]"===t.call(s)){var u=[];for(var h in s)s.hasOwnProperty(h)&&u.push(i(h)+": "+i(s[h]));return"{"+u.join(", ")+"}"}}return'"'+s.toString().replace(a,n)+'"'}}()}),"function"!=typeof Object.create&&(Object.create=function(t){var e=function(){};return function(i,n){if(i!==Object(i)&&null!==i)throw TypeError("Argument must be an object, or null");e.prototype=i||{},n!==t&&Object.defineProperties(e.prototype,n);var a=new e;return e.prototype=null,null===i&&(a.__proto__=null),a}}()),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),a=window.setTimeout(function(){e(i+n)},n);return t=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,e,i){"use strict";var n=i(2),a=i(3),s=i(17),o=i(95),r=i(96),u=i(100),h=i(101),l=i(104),c=i(105),d=i(106),p=i(108),f=i(109),m=i(110),_=i(111),g=i(114),T=i(115),v=i(118);a.register(n.CHART_TYPE_BAR,s),a.register(n.CHART_TYPE_COLUMN,o),a.register(n.CHART_TYPE_LINE,r),a.register(n.CHART_TYPE_AREA,u),a.register(n.CHART_TYPE_COLUMN_LINE_COMBO,h),a.register(n.CHART_TYPE_LINE_SCATTER_COMBO,l),a.register(n.CHART_TYPE_LINE_AREA_COMBO,c),a.register(n.CHART_TYPE_PIE_DONUT_COMBO,d),a.register(n.CHART_TYPE_PIE,p),a.register(n.CHART_TYPE_BUBBLE,f),a.register(n.CHART_TYPE_SCATTER,m),a.register(n.CHART_TYPE_HEATMAP,_),a.register(n.CHART_TYPE_TREEMAP,g),a.register(n.CHART_TYPE_MAP,T),a.register(n.CHART_TYPE_RADIAL,v)},function(t,e,i){"use strict";var n=i(18),a=i(2),s=i(94),o=i(4),r=i(5),u=tui.util.defineClass(n,{className:"tui-bar-chart",init:function(t,e,i){o.updateRawSeriesDataByOptions(t,i.series),this._updateOptionsRelatedDiverging(i),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0})},_updateOptionsRelatedDiverging:function(t){var e;t.series=t.series||{},this.hasRightYAxis=!1,t.series.diverging&&(t.yAxis=t.yAxis||{},t.xAxis=t.xAxis||{},t.plot=t.plot||{},t.series.stackType=t.series.stackType||a.NORMAL_STACK_TYPE,this.hasRightYAxis=tui.util.isArray(t.yAxis)&&t.yAxis.length>1,e=r.isYAxisAlignCenter(this.hasRightYAxis,t.yAxis.align),t.yAxis.isCenter=e,t.xAxis.divided=e,t.series.divided=e,t.plot.divided=e)},_addComponents:function(){var t=[{name:"yAxis",isVertical:!0},{name:"xAxis"}];this.hasRightYAxis&&t.push({name:"rightYAxis",isVertical:!0}),this._addComponentsForAxisType({axis:t,series:[{name:"barSeries"}],plot:!0})},_getScaleOption:function(){return{xAxis:!0}},onChangeCheckedLegends:function(t){var e;this.hasRightYAxis&&(e={optionChartTypes:["bar","bar"]}),n.prototype.onChangeCheckedLegends.call(this,t,null,e)}});tui.util.extend(u.prototype,s),t.exports=u},function(t,e,i){"use strict";var n=i(2),a=i(19),s=i(74),o=i(4),r=i(20),u=i(23),h=i(82),l=tui.util.defineClass({init:function(t){this.theme=t.theme,this._initializeOptions(t.options),this.chartType=this.options.chartType,this.hasAxes=t.hasAxes,this.isVertical=!!t.isVertical,this.dataProcessor=this._createDataProcessor(t),this.eventBus=new tui.util.CustomEvents,this.prevXAxisData=null,this.componentManager=this._createComponentManager(),this._addComponents(),this._attachToEventBus()},_attachToEventBus:function(){this.eventBus.on("changeCheckedLegends",this.onChangeCheckedLegends,this),this.onZoom&&this.eventBus.on({zoom:this.onZoom,resetZoom:this.onResetZoom},this)},_setOffsetProperty:function(t,e,i){tui.util.isExisty(t[e])&&(t.offset=t.offset||{},t.offset[i]=t[e],delete t[e])},_initializeOffset:function(t){t&&(this._setOffsetProperty(t,"offsetX","x"),this._setOffsetProperty(t,"offsetY","y"))},_initializeTitleOptions:function(t){var e,i=this;t&&(e=tui.util.isArray(t)?t:[t],tui.util.forEachArray(e,function(t){var e=t.title;tui.util.isString(e)&&(t.title={text:e}),i._initializeOffset(t.title)}))},_initializeTooltipOptions:function(t){var e=t.position;t.grouped=!!t.grouped,this._initializeOffset(t),!t.offset&&e&&(t.offset={x:e.left,y:e.top}),delete t.position},_initializeOptions:function(t){t.xAxis=t.xAxis||{},t.series=t.series||{},t.tooltip=t.tooltip||{},t.legend=t.legend||{},t.chartExportMenu=t.chartExportMenu||{},this._initializeTitleOptions(t.chart),this._initializeTitleOptions(t.xAxis),this._initializeTitleOptions(t.yAxis),tui.util.isUndefined(t.legend.visible)&&(t.legend.visible=!0),tui.util.isUndefined(t.chartExportMenu.visible)&&(t.chartExportMenu.visible=!0),this._initializeTooltipOptions(t.tooltip),this.options=t},_createDataProcessor:function(t){var e,i;return e=t.DataProcessor||s,i=new e(t.rawData,this.chartType,t.options,this.seriesNames)},_createComponentManager:function(){return new a({options:this.options,theme:this.theme,dataProcessor:this.dataProcessor,hasAxes:this.hasAxes,eventBus:this.eventBus})},_makeTooltipData:function(t,e){return{isVertical:this.isVertical,chartType:this.chartType,chartTypes:this.chartTypes,xAxisType:this.options.xAxis.type,dateFormat:this.options.xAxis.dateFormat,tooltipOptions:e||{},classType:t||"tooltip"}},_addComponents:function(){},_renderTitle:function(t){var e=this.options.chart||{},i=e.title||{},n=u.renderTitle(i.text,this.theme.title,"tui-chart-title");i.offset&&u.renderPosition(n,{left:i.offset.x,top:i.offset.y}),r.append(t,n)},_getScaleOption:function(){},_buildBoundsAndScaleData:function(t,e){return h.build(this.dataProcessor,this.componentManager,{chartType:this.chartType,seriesNames:this.seriesNames,options:this.options,theme:this.theme,hasAxes:this.hasAxes,scaleOption:this._getScaleOption(),isVertical:this.isVertical,hasRightYAxis:this.hasRightYAxis,addedDataCount:this.addedDataCount,prevXAxisData:t,addingDataMode:e})},_addDataRatios:function(){},_render:function(t,e){var i=this._buildBoundsAndScaleData(this.prevXAxisData,e);i.axisDataMap.xAxis&&(this.prevXAxisData=i.axisDataMap.xAxis),this._addDataRatios(i.limitMap),t(i)},render:function(){var t=r.create("DIV","tui-chart "+this.className),e=this.componentManager,i=this.dataProcessor,n=i.getLegendVisibility(),a=o.filterCheckedRawData(i.rawData,n);return this.dataProcessor.initData(a),this._renderTitle(t),u.renderBackground(t,this.theme.chart.background),u.renderFontFamily(t,this.theme.chart.fontFamily),this._render(function(i){u.renderDimension(t,i.dimensionMap.chart),e.render("render",i,{checkedLegends:n},t)}),this.chartContainer=t,t},_rerender:function(t,e){var i=this,n=this.dataProcessor;e||(e=o.filterCheckedRawData(n.getZoomedRawData(),t)),this.dataProcessor.initData(e),this._render(function(e){i.componentManager.render("rerender",e,{checkedLegends:t})})},onChangeCheckedLegends:function(t,e,i){this._rerender(t,e,i)},animateChart:function(){this.componentManager.execute("animateComponent")},on:function(t,e){n.PUBLIC_EVENT_MAP[t]&&this.eventBus.on(n.PUBLIC_EVENT_PREFIX+t,e)},_updateChartDimension:function(t){var e=!1,i=this.options;return i.chart=i.chart||{},t.width&&t.width>0&&i.chart.width!==t.width&&(i.chart.width=t.width,e=!0),t.height&&t.height>0&&i.chart.height!==t.height&&(i.chart.height=t.height,e=!0),e},resize:function(t){var e,i=this;t&&(e=this._updateChartDimension(t),e&&this._render(function(t){u.renderDimension(i.chartContainer,t.dimensionMap.chart),i.componentManager.render("resize",t)}))},setTooltipAlign:function(t){this.componentManager.get("tooltip").setAlign(t)},setTooltipOffset:function(t){this.componentManager.get("tooltip").setOffset(t)},setTooltipPosition:function(t){this.componentManager.get("tooltip").setPosition(t)},resetTooltipAlign:function(){this.componentManager.get("tooltip").resetAlign()},resetTooltipOffset:function(){this.componentManager.get("tooltip").resetOffset()},resetTooltipPosition:function(){this.resetTooltipOffset()},showSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.showLabel()})},hideSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.hideLabel()})},addData:function(){},addPlotLine:function(){},addPlotBand:function(){},removePlotLine:function(){},removePlotBand:function(){}});t.exports=l},function(t,e,i){"use strict";var n=i(20),a=i(21),s=i(26),o=i(28),r=i(30),u=i(33),h=i(36),l=i(37),c=i(38),d=i(42),p=i(44),f=i(45),m=i(51),_=i(52),g=i(53),T=i(54),v=i(55),A=i(60),D=i(61),x=i(63),y=i(64),C=i(65),L=i(67),E=i(68),S=i(69),P=i(70),b=i(71),M=i(73),k={axis:a,plot:s,radialPlot:o,legend:u,spectrumLegend:h,circleLegend:l,tooltip:c,groupTooltip:d,mapChartTooltip:p,areaTypeEventDetector:f,boundsTypeEventDetector:m,groupTypeEventDetector:_,mapChartEventDetector:g,simpleEventDetector:T,barSeries:v,columnSeries:A,lineSeries:D,radialSeries:x,areaSeries:y,bubbleSeries:C,scatterSeries:L,mapSeries:E,pieSeries:S,heatmapSeries:P,treemapSeries:b,zoom:M,chartExportMenu:r},I=tui.util.defineClass({init:function(t){this.components=[],this.componentMap={},this.theme=t.theme||{},this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.hasAxes=t.hasAxes,this.eventBus=t.eventBus},_makeComponentOptions:function(t,e,i){return t=t||this.options[e],t=tui.util.isArray(t)?t[i]:t||{}},register:function(t,e){var i,n,a,s,o;e=e||{},a=e.componentType||t,s=e.classType||a||t,i=e.index||0,e.theme=e.theme||this.theme[a],e.options=this._makeComponentOptions(e.options,a,i),e.dataProcessor=this.dataProcessor,e.hasAxes=this.hasAxes,e.eventBus=this.eventBus,o=k[s],n=new o(e),n.componentName=t,n.componentType=a,this.components.push(n),this.componentMap[t]=n},_makeDataForRendering:function(t,e,i,n,a){var s=tui.util.extend({paper:i},a);return n&&(tui.util.extend(s,n),s.layout={dimension:s.dimensionMap[t]||s.dimensionMap[e],position:s.positionMap[t]||s.positionMap[e]}),s},render:function(t,e,i,a){var s,o,r,u=this,h=tui.util.map(this.components,function(n){var a,h,l=null;return n[t]&&(s=n.componentName,o=n.componentType,a=u._makeDataForRendering(s,o,r,e,i),h=n[t](a),h&&h.container?(l=h.container,r=h.paper):l=h),l});a&&n.append(a,h)},where:function(t){return tui.util.filter(this.components,function(e){var i=!0;return tui.util.forEach(t,function(t,n){return e[n]!==t&&(i=!1),i}),i})},execute:function(t){var e=Array.prototype.slice.call(arguments,1);tui.util.forEachArray(this.components,function(i){i[t]&&i[t].apply(i,e)})},get:function(t){return this.componentMap[t]},has:function(t){return!!this.get(t)}});t.exports=I},function(t,e){"use strict";var i=Array.prototype.slice,n={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e,n;return t.classList?n=i.call(t.classList):(e=t.className||"",n=e&&tui.util.isString(e)?e.split(" "):[]),n},addClass:function(t,e){var i,n;t&&e&&(i=this._getClassNames(t),n=tui.util.inArray(e,i),n>-1||(i.push(e),t.className=i.join(" ")))},removeClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);n!==-1&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n,a=t.parentNode;return n=a?this.hasClass(a,e)?a:"BODY"===a.nodeName||this.hasClass(a,i)?null:this.findParentByClass(a,e,i):null},append:function(t,e){t&&e&&(e=tui.util.isArray(e)?e:[e],tui.util.forEachArray(e,function(e){e&&t.appendChild(e)}))}};t.exports=n},function(t,e,i){"use strict";var n=i(20),a=i(2),s=i(5),o=i(22),r=i(23),u=i(24),h=tui.util.defineClass({init:function(t){this.className="tui-chart-axis-area",this.dataProcessor=t.dataProcessor,this.options=t.options||{},this.theme=t.theme[t.seriesName]||t.theme,this.isLabel=null,this.isVertical=t.isVertical,this.data={},this.layout=null,this.dimensionMap=null,this.axisDataMap=null},_isValidAxis:function(){var t=!0;return"rightYAxis"===this.componentName&&(t=this.dataProcessor.isValidAllSeriesDataModel()),t},_renderOppositeSideTickArea:function(t){var e;return this.options.isCenter&&(e=n.create("DIV","tui-chart-tick-area opposite-side"),
e.innerHTML=t),e},_addCssClasses:function(t){n.addClass(t,this.isVertical?"vertical":"horizontal"),n.addClass(t,this.options.isCenter?"center":""),n.addClass(t,this.options.divided?"division":""),n.addClass(t,this.data.isPositionRight?"right":"")},_renderChildContainers:function(t,e,i,n,a){var s,o,r=this._renderTitleArea(t),u=this._renderLabelArea(t,e,i,n,a),h=[r,u],l=this.isVertical&&this.data.aligned;return l||(s=this._renderTickArea(t,i,a),o=this._renderOppositeSideTickArea(s.innerHTML),h=h.concat([s,o])),h},_renderDividedAxis:function(t,e){var i=Math.round(e/2),a=e-i,s=this.data,o=s.tickCount,r=parseInt(o/2,10)+1,u=s.labels,h=u.slice(0,r),l=u.slice(r-1,o),c=i+this.dimensionMap.yAxis.width,d=this._renderChildContainers(i,i,r,h,0),p=this._renderChildContainers(a,a,r,l,c),f=p[0];n.addClass(f,"right"),n.append(t,d.concat(p))},_renderNotDividedAxis:function(t,e){var i,a=this.data,s=this.isVertical,o=e.width,r=s?e.height:o,u=0;a.positionRatio&&(u=r*a.positionRatio),i=this._renderChildContainers(r,o,a.tickCount,a.labels,u),n.append(t,i)},_renderAxisArea:function(t){var e=this.layout.dimension,i=this.data;this.isLabel=i.isLabelAxis,this._addCssClasses(t),this.options.divided?(this.containerWidth=e.width+this.dimensionMap.yAxis.width,this._renderDividedAxis(t,e.width),e.width=this.containerWidth):(this._renderNotDividedAxis(t,e),e.width+=this.options.isCenter?2:0),r.renderDimension(t,e),r.renderPosition(t,this.layout.position)},_setDataForRendering:function(t){this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.data=t.axisDataMap[this.componentName],this.options=this.data.options},render:function(t){var e=n.create("DIV",this.className);return this._setDataForRendering(t),this._renderAxisArea(e),this.axisContainer=e,e},rerender:function(t){this.axisContainer.innerHTML="",this._isValidAxis()&&(this._setDataForRendering(t),this._renderAxisArea(this.axisContainer))},resize:function(t){this.rerender(t)},zoom:function(t){this.rerender(t)},_moveToLeft:function(t){var e=this.ticksElement,i=e.firstChild,n=this.labelContainer,a=n.firstChild,s=parseInt(e.style.left,10)||0,o=parseInt(n.style.left,10)||0,u=this.data.startIndex||0;r.startAnimation(300,function(h){var l=t*h,c=1-h;e.style.left=s-l+"px",n.style.left=o-l+"px",0===u&&r.setOpacity([i,a],c)})},_resizeByTickSize:function(t){var e=this.ticksElement,i=this.labelContainer,n=parseInt(e.style.width,10)||e.offsetWidth;r.startAnimation(a.ADDING_DATA_ANIMATION_DURATION,function(a){var s=n-t*a;e.style.width=s+"px",i.style.width=s+"px"})},animateForAddingData:function(t){this.isVertical||this.dataProcessor.isCoordinateType()||(t.shifting?this._moveToLeft(t.tickSize):this._resizeByTickSize(t.tickSize))},_makeCssTextFromPositionMap:function(t){return tui.util.forEach(t,function(e,i){t[i]=e+"px"}),r.makeCssTextFromMap(t)},_makePositionMapForCenterAlign:function(){var t=this.options.title,e=t.offset||{},i=r.getRenderedLabelWidth(t.text,this.theme.title),n=this.dimensionMap.yAxis.width,a=(n-i)/2,s=-this.dimensionMap.xAxis.height;return s-=e.y||0,a+=e.x||0,{left:a,bottom:s}},_makeRightPosition:function(t){var e,i=this.options.title.offset||{};return e=r.isIE7()||this.options.rotateTitle===!1?0:-t,e-=i.x||0},_makeTopPosition:function(t){var e,i=this.options.title.offset,n=null;return this.options.rotateTitle===!1?(e=r.getRenderedLabelHeight(this.options.title,this.theme.title),n=(t-e)/2):this.data.isPositionRight?n=0:r.isOldBrowser()||(n=t),i&&(n=n||0,n+=i.y||0),n},_makePositionMapForNotCenterAlign:function(t){var e,i={},n=this.options.title.offset||{};return this.data.isPositionRight?i.right=this._makeRightPosition(t):i.left=n.x||0,e=this._makeTopPosition(t),tui.util.isNull(e)||(i.top=e),i},_renderTitleAreaStyleForVertical:function(t,e){var i,n;i=this.options.isCenter?this._makePositionMapForCenterAlign():this._makePositionMapForNotCenterAlign(e),this.options.rotateTitle!==!1&&(i.width=e),n=this._makeCssTextFromPositionMap(i),t.style.cssText+=";"+n},_renderTitlePositionForHorizontal:function(t,e){r.renderPosition(t,{left:e.x,bottom:-e.y})},_renderTitleAreaStyle:function(t,e){var i=this.options.title.offset;this.isVertical?this._renderTitleAreaStyleForVertical(t,e):i&&this._renderTitlePositionForHorizontal(t,i)},_renderTitleArea:function(t){var e=this.options.title||{},i=r.renderTitle(e.text,this.theme.title,"tui-chart-title-area");return i&&this._renderTitleAreaStyle(i,t),this.options.rotateTitle!==!1&&n.addClass(i,"rotation"),i},_makePercentagePositions:function(t,e){return e=this.containerWidth||e,tui.util.map(t,function(t){return o.makePercentageValue(t,e)})},_makeTickHtml:function(t,e,i,n){var a,s,h=this.theme.tickColor,l=this.data,c=l.sizeRatio||1,d=this.isVertical?"bottom":"left",p=o.makeTickPixelPositions(t*c,e),f=this.containerWidth||t;return p.length=l.tickCount,n=o.makePercentageValue(n,f),p=this._makePercentagePositions(p,t),a=u.tplAxisTick,s=tui.util.map(p,function(t,e){var s,u;return t-=0===e&&i?o.makePercentageValue(1,f):0,t+=n,u=[r.concatStr("background-color:",h),r.concatStr(d,": ",t,"%")].join(";"),s=a({cssText:u})}).join("")},_renderTickLine:function(t,e,i){var s,o,r,u=n.create("DIV","tui-chart-tick-line"),h=e?a.OVERLAPPING_WIDTH:0,l=this.data,c=-h,d={};return this.isVertical?(s="height",o="bottom"):(s="width",o="left"),r=t+h,l.sizeRatio||(c+=i),d[o]=c,d[s]=r,u.style.cssText=this._makeCssTextFromPositionMap(d),u},_renderTicks:function(t,e,i,a){var s=n.create("DIV","tui-chart-ticks"),o=this._makeTickHtml(t,e,i,a);return s.innerHTML=o,s},_renderTickArea:function(t,e,i){var a,s,o=n.create("DIV","tui-chart-tick-area"),r=!this.isVertical&&!this.options.divided;return i=i||0,a=this._renderTickLine(t,r,i),s=this._renderTicks(t,e,r,i),n.append(o,a),n.append(o,s),this.ticksElement=s,o},_makeVerticalLabelCssText:function(t,e){return";width:"+(t-e+a.V_LABEL_RIGHT_PADDING)+"px"},_applyLabelAreaStyle:function(t,e){var i,n=r.makeFontCssText(this.theme.label);this.isVertical&&(i=this._getRenderedTitleHeight()+a.TITLE_AREA_WIDTH_PADDING,n+=this._makeVerticalLabelCssText(e,i)),t.style.cssText=n},_renderLabelArea:function(t,e,i,a,r){var u,h=n.create("DIV","tui-chart-label-area"),l=this.data.sizeRatio||1,c=o.makeTickPixelPositions(t*l,i),d=c[1]-c[0],p=this.options,f=this.containerWidth||t;return s.isValidLabelInterval(p.labelInterval,p.tickInterval)&&(r-=d*p.labelInterval/2-d/2,d*=p.labelInterval),r=r?o.makePercentageValue(r,f):0,u=this._makeLabelsHtml(t,c,a,d,r),h.innerHTML=u,this._applyLabelAreaStyle(h,e),this._changeLabelAreaPosition(h,d),this.labelContainer=h,h},_getRenderedTitleHeight:function(){var t=this.options.title,e=this.theme.title,i=t?r.getRenderedLabelHeight(t.text,e):0;return i},_makeLabelCssText:function(t){var e=this.isVertical,i=[];return e&&this.isLabel?(i.push(r.concatStr("height:",t,"px")),i.push(r.concatStr("line-height:",t,"px"))):e||i.push(r.concatStr("width:",t,"px")),i.length?i.join(";")+";":""},_calculateRotationMovingPosition:function(t){var e=t.moveLeft,i=this.data.degree,n=this.containerWidth||t.size;return this.data.degree===a.ANGLE_85&&(e+=o.calculateAdjacent(a.ANGLE_90-i,t.labelHeight/2)),{top:t.top,left:t.left-o.makePercentageValue(e,n)}},_calculateRotationMovingPositionForOldBrowser:function(t){var e=r.getRenderedLabelWidth(t.label,t.theme),i=this.data.degree,n=o.calculateAdjacent(a.ANGLE_90-i,t.labelHeight/2),s=2*(o.calculateAdjacent(i,e/2)+n),u=r.isIE7()?0:e-s,h=t.labelWidth/2-2*n,l=this.containerWidth||t.size;return i===a.ANGLE_85&&(h+=n),{top:a.XAXIS_LABEL_TOP_MARGIN,left:t.left+o.makePercentageValue(u-h,l)}},_makeCssTextForRotationMoving:function(t){var e;return e=r.isOldBrowser()?this._calculateRotationMovingPositionForOldBrowser(t):this._calculateRotationMovingPosition(t),r.concatStr("left:",e.left,"%",";top:",e.top,"px")},_makeRotationLabelsHtml:function(t,e,i,n,s){var h,l=this,c=this.data.degree,d=u.tplAxisLabel,p=r.getRenderedLabelHeight(i[0],this.theme.label),f=this._makeLabelCssText(n),m=" tui-chart-xaxis-rotation tui-chart-xaxis-rotation"+c,_=n/2,g=o.calculateAdjacent(c,_),T=o.calculateOpposite(c,_)+a.XAXIS_LABEL_TOP_MARGIN,v=r.isIE7()&&c?a.IE7_ROTATION_FILTER_STYLE_MAP[c]:"";return s=s||0,h=tui.util.map(e,function(e,a){var o=i[a],r=l._makeCssTextForRotationMoving({size:t,labelHeight:p,labelWidth:n,top:T,left:e+s,moveLeft:g,label:o,theme:l.theme.label});return d({additionalClass:m,cssText:f+r,spanCssText:v,label:o})}).join("")},_makeNormalLabelsHtml:function(t,e,i,n){var a,s,o=u.tplAxisLabel,h=this._makeLabelCssText(i);return a=this.isVertical?this.isLabel?"top":"bottom":"left",s=tui.util.map(t,function(t,i){var s=r.concatStr(a,":",t+n,"%");return o({additionalClass:"",cssText:h+s,label:e[i],spanCssText:""})}).join("")},_makeLabelsHtml:function(t,e,i,n,a){var s,o=!this.isVertical&&this.isLabel&&this.options.rotateLabel===!1,r="xAxis"===this.componentName&&this.data.degree;return o&&(i=this.data.multilineLabels),i.length&&(e.length=i.length),e=this._makePercentagePositions(e,t),s=r?this._makeRotationLabelsHtml(t,e,i,n,a):this._makeNormalLabelsHtml(e,i,n,a)},_changeLabelAreaPosition:function(t,e){var i;this.isLabel&&!this.data.aligned||(this.isVertical?(i=r.getRenderedLabelHeight("ABC",this.theme.label),t.style.top=r.concatStr(parseInt(i/2,10),"px")):t.style.left=r.concatStr("-",parseInt(e/2,10),"px"))}});t.exports=h},function(t,e,i){"use strict";var n=i(2),a=i(6),s=100,o={calculateLimit:function(t,e){var i,n=0,a={};return t<0&&(n=t,e-=t,t=0),i=(e-t)/20,a.max=e+i+n,e/6>t?a.min=n:a.min=t-i+n,a},makeTickPixelPositions:function(t,e,i){var n=[];return i=i||0,e>0&&(n=tui.util.map(tui.util.range(0,e),function(n){var a=0===n?0:n/(e-1);return a*t+i}),n[n.length-1]-=1),n},makeLabelsFromLimit:function(t,e){var i=o.findMultipleNum(e),n=Math.round(t.min*i),a=Math.round(t.max*i),s=tui.util.range(n,a+1,e*i);return tui.util.map(s,function(t){return t/i})},calculateStepFromLimit:function(t,e){return o.divide(o.subtract(t.max,t.min),e-1)},calculateAdjacent:function(t,e){return Math.cos(t*n.RAD)*e},calculateOpposite:function(t,e){return Math.sin(t*n.RAD)*e},calculateRotatedWidth:function(t,e,i){var a=o.calculateAdjacent(t,e/2),s=o.calculateAdjacent(n.ANGLE_90-t,i/2);return 2*(a+s)},calculateRotatedHeight:function(t,e,i){var a=o.calculateOpposite(t,e/2),s=o.calculateOpposite(n.ANGLE_90-t,i/2);return 2*(a+s)},sumPlusValues:function(t){var e=tui.util.filter(t,function(t){return t>0});return o.sum(e)},sumMinusValues:function(t){var e=tui.util.filter(t,function(t){return t<0});return o.sum(e)},makePercentageValue:function(t,e){return t/e*s},calculateRatio:function(t,e,i,n){return(t-i)/e*n}},r=function(t){var e=String(t).split(".");return 2===e.length?e[1].length:0},u=function(){var t=[].slice.call(arguments),e=tui.util.map(t,function(t){return o.getDecimalLength(t)}),i=a.max(e);return Math.pow(10,i)},h=function(t,e){var i,n=o.findMultipleNum(e);return i=1===n?t%e:t*n%(e*n)/n},l=function(t,e){var i=o.findMultipleNum(t,e);return(t*i+e*i)/i},c=function(t,e){var i=o.findMultipleNum(t,e);return(t*i-e*i)/i},d=function(t,e){var i=o.findMultipleNum(t,e);return t*i*(e*i)/(i*i)},p=function(t,e){var i=o.findMultipleNum(t,e);return t*i/(e*i)},f=function(t){var e=t.slice();return e.unshift(0),tui.util.reduce(e,function(t,e){return o.add(parseFloat(t),parseFloat(e))})};o.getDecimalLength=r,o.findMultipleNum=u,o.mod=h,o.add=l,o.subtract=c,o.multiply=d,o.divide=p,o.sum=f,t.exports=o},function(t,e,i){"use strict";function n(t,e){t=tui.util.isArray(t)?t:[t],tui.util.forEachArray(t,e)}function a(t){return"alpha(opacity="+t*s.OLD_BROWSER_OPACITY_100+")"}var s=i(2),o=i(20),r=i(6),u=Array.prototype.concat,h=tui.util.browser,l=h.msie&&7===h.version,c=h.msie&&h.version<=8,d={concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),t.fontWeight&&e.push(this.concatStr("font-weight:",t.fontWeight)),e.join(";")):""},checkEl:null,_createSizeCheckEl:function(){var t,e;return this.checkEl?this.checkEl.style.cssText="":(t=o.create("DIV","tui-chart-size-check-element"),e=o.create("SPAN"),t.appendChild(e),this.checkEl=t),this.checkEl},_makeCachingKey:function(t,e,i){var n=[t,i];return tui.util.forEach(e,function(t,e){n.push(t+e)}),n.join("-")},_addCssStyle:function(t,e){t.style.fontSize=(e.fontSize||s.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(t.style.fontFamily=e.fontFamily),e.fontWeight&&(t.style.fontWeight=e.fontWeight),e.cssText&&(t.style.cssText+=e.cssText)},sizeCache:{},_getRenderedLabelSize:function(t,e,i){var n,a,s,o;return e=e||{},(t=tui.util.isExisty(t)?String(t):"")?(n=this._makeCachingKey(t,e,i),o=this.sizeCache[n],o||(a=this._createSizeCheckEl(),s=a.firstChild,s.innerHTML=t,this._addCssStyle(a,e),document.body.appendChild(a),o=s[i],document.body.removeChild(a),this.sizeCache[n]=o),o):0},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n,a=0;return t&&t.length&&(n=tui.util.map(t,function(t){return i(t,e)}),a=r.max(n)),a},getRenderedLabelsMaxWidth:function(t,e){var i=tui.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=tui.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){t.style.cssText=[this.concatStr("width:",e.width,"px"),this.concatStr("height:",e.height,"px")].join(";")},renderPosition:function(t,e){tui.util.isUndefined(e)||tui.util.forEachArray(["top","bottom","left","right"],function(i){var n=e[i];n&&(t.style[i]=e[i]+"px")})},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){var n,a;return t?(n=o.create("DIV",i),n.innerHTML=t,a=d.makeFontCssText(e),e.background&&(a+=";"+this.concatStr("background:",e.background)),n.style.cssText=a,n):null},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*s.SERIES_EXPAND_SIZE,height:e.height+2*s.SERIES_EXPAND_SIZE},position:{left:i.left-s.SERIES_EXPAND_SIZE,top:i.top-s.SERIES_EXPAND_SIZE}}},_properCase:function(t){return t.substring(0,1).toUpperCase()+t.substring(1)},makeMouseEventDetectorName:function(t,e,i){return t+this._properCase(e)+this._properCase(i)},formatValue:function(t,e,i,n,a){var s=[String(t)].concat(e||[]);return a=a||"value",tui.util.reduce(s,function(t,e){return e(t,i,n,a)})},formatValues:function(t,e,i,n,a){var s;return e&&e.length?s=tui.util.map(t,function(t){return d.formatValue(t,e,i,n,a)}):t},formatDate:function(t,e){var i=tui.util.isDate(t)?t:new Date(t);return e=e||s.DEFAULT_DATE_FORMAT,tui.util.formatDate(e,i)||t},formatDates:function(t,e){var i=this.formatDate;return e=e||s.DEFAULT_DATE_FORMAT,tui.util.map(t,function(t){return i(t,e)})},cancelAnimation:function(t){t&&t.id&&(cancelAnimationFrame(t.id),delete t.id)},startAnimation:function(t,e,i){function n(){var o=(new Date).getTime()-a,r=Math.min(o/t,1);e(r),1===r?(delete s.id,i&&i()):s.id=requestAnimationFrame(n)}var a,s={};return a=(new Date).getTime(),s.id=requestAnimationFrame(n),s},isIE7:function(){return l},isOldBrowser:function(){return c},formatToZeroFill:function(t,e){var i="0";if(t=String(t),t.length>=e)return t;for(;t.length<e;)t=i+t;return t},formatToDecimal:function(t,e){var i,n=10;return 0===e?Math.round(t):(i=Math.pow(n,e),t=Math.round(t*i)/i,t=parseFloat(t).toFixed(e))},formatToComma:function(t){var e,i,n,a,s=",",o="",r=3,h=t;return t=String(t),e=t.indexOf("-")>-1?"-":"",t.indexOf(".")>-1?(i=t.split("."),t=String(Math.abs(i[0])),o="."+i[1]):t=String(Math.abs(t)),t.length<=r?a=h:(i=t.split("").reverse(),n=i.length-1,i=tui.util.map(i,function(t,e){var i=[t];return e<n&&(e+1)%r===0&&i.push(s),i}),a=e+u.apply([],i).reverse().join("")+o),a},makeCssTextFromMap:function(t){return tui.util.map(t,function(t,e){return d.concatStr(e,":",t)}).join(";")}};c?(d.makeOpacityCssText=function(t){var e="";return tui.util.isExisty(t)&&(e=";filter:"+a(t)),e},d.setOpacity=function(t,e){var i=a(e);n(t,function(t){t.style.filter=i})}):(d.makeOpacityCssText=function(t){var e="";return tui.util.isExisty(t)&&(e=";opacity:"+t),e},d.setOpacity=function(t,e){n(t,function(t){t.style.opacity=e})}),tui.util.defineNamespace("tui.chart"),tui.chart.renderUtil=d,t.exports=d},function(t,e,i){"use strict";var n=i(25),a={HTML_AXIS_TICK_LINE:'<div class="tui-chart-tick-line" style="{{ positionType }}:{{ positionValue }}px;{{ sizeType }}:{{ size }}px"></div>',HTML_AXIS_TICK:'<div class="tui-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="tui-chart-label{{ additionalClass }}" style="{{ cssText }}"><span{{ spanCssText }}>{{ label }}</span></div>'};t.exports={tplTickLine:n.template(a.HTML_AXIS_TICK_LINE),tplAxisTick:n.template(a.HTML_AXIS_TICK),tplAxisLabel:n.template(a.HTML_AXIS_LABEL)}},function(t,e){"use strict";t.exports={template:function(t){return function(e){var i=t;return tui.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,String(t).replace("$","＄"))}),i}}}},function(t,e,i){"use strict";var n=i(2),a=i(20),s=i(5),o=i(22),r=i(23),u=i(27),h=tui.util.defineClass({init:function(t){this.className="tui-chart-plot-area",this.dataProcessor=t.dataProcessor,this.options=t.options||{},this.options.showLine=!!tui.util.isUndefined(this.options.showLine)||this.options.showLine,this.options.lines=this.options.lines||[],this.options.bands=this.options.bands||[],this.xAxisTypeOption=t.xAxisTypeOption,this.theme=t.theme||{},this.chartType=t.chartType,this.chartTypes=t.chartTypes,this.layout=null,this.axisDataMap=null},_renderPlotArea:function(t){var e;e=this.layout.dimension,r.renderDimension(t,e),r.renderPosition(t,this.layout.position),s.isLineTypeChart(this.chartType,this.chartTypes)&&this._renderOptionalLines(t,e),this.options.showLine&&this._renderPlotLines(t,e)},_setDataForRendering:function(t){t&&(this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.axisDataMap=t.axisDataMap)},render:function(t){var e=a.create("DIV",this.className);return this._setDataForRendering(t),this._renderPlotArea(e),this.plotContainer=e,e},rerender:function(t){this.plotContainer.innerHTML="",this._setDataForRendering(t),this._renderPlotArea(this.plotContainer)},resize:function(t){this.rerender(t)},_makeVerticalLineTemplateParams:function(t){return tui.util.extend({className:"vertical",positionType:"left",width:"1px"},t)},_makeHorizontalLineTemplateParams:function(t){return tui.util.extend({className:"horizontal",positionType:"bottom",height:"1px"},t)},_makeLineHtml:function(t,e,i){return i.positionValue=t+"%",i.opacity=i.opacity||"",u.tplPlotLine(i)},_createOptionalLineValueRange:function(t){var e=t.range||[t.value];return s.isDatetimeType(this.xAxisTypeOption)&&(e=tui.util.map(e,function(t){var e=new Date(t);return e.getTime()||t})),e},_createOptionalLinePosition:function(t,e,i){var n=(i-t.dataMin)/t.distance,a=n*e;return 1===n&&(a-=1),a<0&&(a=null),a},_createOptionalLinePositionWhenLabelAxis:function(t,e){var i,n=this.dataProcessor,a=n.findCategoryIndex(e),s=null;return tui.util.isNull(a)||(i=0===a?0:a/(n.getCategoryCount()-1),s=i*t),1===i&&(s-=1),s},_createOptionalLinePositionMap:function(t,e,i){var n,a,s=this._createOptionalLineValueRange(t);return e.isLabelAxis?(n=this._createOptionalLinePositionWhenLabelAxis(i,s[0]),a=this._createOptionalLinePositionWhenLabelAxis(i,s[1])):(n=this._createOptionalLinePosition(e,i,s[0]),a=s[1]&&this._createOptionalLinePosition(e,i,s[1])),tui.util.isExisty(a)&&tui.util.isNull(n)&&(n=0),{start:n,end:a}},_makeOptionalLineHtml:function(t,e,i,n){var a,s,u=this._createOptionalLinePositionMap(n,t,e),h="1px",l="";return tui.util.isExisty(u.start)&&u.start>=0&&u.start<=e&&(a=o.makePercentageValue(u.start,e),tui.util.isExisty(u.end)?(s=o.makePercentageValue(u.end-u.start,e),a+s>100&&(s=100-a),i.width=s+"%"):i.width=h,i.color=n.color||"transparent",i.opacity=r.makeOpacityCssText(n.opacity),l=this._makeLineHtml(a,e,i)),l},_makeOptionalLinesHtml:function(t,e){var i=e.width,n=this.axisDataMap.xAxis,a=this._makeVerticalLineTemplateParams({height:e.height+"px"}),s=tui.util.bind(this._makeOptionalLineHtml,this,n,i,a);return tui.util.map(t,s).join("")},_renderOptionalLines:function(t,e){var i=a.create("DIV","tui-chart-plot-optional-lines-area"),n=this._makeOptionalLinesHtml(this.options.bands,e),s=this._makeOptionalLinesHtml(this.options.lines,e);this.optionalContainer=i,a.append(t,i),i.innerHTML=n+s},_makeLinesHtml:function(t,e,i){var n,a=this,s=tui.util.map(t,function(t){return n=o.makePercentageValue(t,e),a._makeLineHtml(n,e,i)}).join("");return s},_makeVerticalLinesHtml:function(t,e){var i=this._makeHorizontalPositions(t.width),n=this._makeVerticalLineTemplateParams({height:t.height+"px",color:e});return this._makeLinesHtml(i,t.width,n)},_makeHorizontalLinesHtml:function(t,e){var i=this._makeVerticalPositions(t.height),n=this._makeHorizontalLineTemplateParams({width:t.width+"px",color:e});return this._makeLinesHtml(i,t.height,n)},_renderPlotLines:function(t,e){var i=a.create("DIV","tui-chart-plot-lines-area"),n=this.theme,o="";s.isLineTypeChart(this.chartType)||(o+=this._makeVerticalLinesHtml(e,n.lineColor)),o+=this._makeHorizontalLinesHtml(e,n.lineColor),a.append(t,i),i.innerHTML+=o,r.renderBackground(t,n.background)},_makeVerticalPositions:function(t){var e=this.axisDataMap,i=e.yAxis||e.rightYAxis,n=o.makeTickPixelPositions(t,i.validTickCount);return n.shift(),n},_makeDividedPlotPositions:function(t,e){var i,n,a,s,r=this.dimensionMap.yAxis.width;return e=parseInt(e/2,10)+1,t-=r,i=Math.round(t/2),n=t-i,a=o.makeTickPixelPositions(i,e),s=o.makeTickPixelPositions(n,e,i+r),a.pop(),s.shift(),a.concat(s)},_makeHorizontalPositions:function(t){var e,i=this.axisDataMap.xAxis.validTickCount;return this.options.divided?e=this._makeDividedPlotPositions(t,i):(e=o.makeTickPixelPositions(t,i),e.shift()),e},addPlotLine:function(t){this.options.lines.push(t),this.rerender()},addPlotBand:function(t){this.options.bands.push(t),this.rerender()},removePlotLine:function(t){this.options.lines=tui.util.filter(this.options.lines,function(e){return e.id!==t}),this.rerender()},removePlotBand:function(t){this.options.bands=tui.util.filter(this.options.bands,function(e){return e.id!==t}),this.rerender()},animateForAddingData:function(t){var e,i=this,a=0,s=t.tickSize;this.dataProcessor.isCoordinateType()?this.optionalContainer.innerHTML="":t.shifting?r.startAnimation(n.ADDING_DATA_ANIMATION_DURATION,function(t){var e=s*t;i.optionalContainer.style.left=a-e+"px"}):(e=this.layout.dimension.width,r.startAnimation(n.ADDING_DATA_ANIMATION_DURATION,function(t){var n=s*t;i.optionalContainer.style.width=e-n+"px"},function(){}))}});t.exports=h},function(t,e,i){"use strict";var n=i(25),a={HTML_PLOT_LINE:'<div class="tui-chart-plot-line {{ className }}" style="{{ positionType }}:{{ positionValue }};width:{{ width }};height:{{ height }};background-color:{{ color }}{{ opacity }}"></div>'};t.exports={tplPlotLine:n.template(a.HTML_PLOT_LINE)}},function(t,e,i){"use strict";function n(t){var e,i,n,a,s,r,u=t.width,h=t.height,l=t.centerX,c=t.centerY,d=t.angleStepCount,p=t.stepCount,f=Math.min(u,h)/2,m=360/d,_=[];for(a=f/(p-1),s=0;s<p;s+=1){for(e=[],i=c+a*s,r=0;r<d;r+=1)n=o.rotatePointAroundOrigin(l,c,l,i,m*r),e.push({left:n.x,top:h-n.y});e.push(e[0]),_[s]=e}return _}function a(t){var e,i,n,a,s,r=t.width,u=t.height,h=t.centerX,l=t.centerY,c=t.angleStepCount,d=Math.min(u,r)/2,p=360/c,f=[];for(a=l+d,n=0;n<c;n+=1)s=360-p*n,i=o.rotatePointAroundOrigin(h,l,h,a,s),e=s>0&&s<180?"end":s>180&&s<360?"start":"middle",f.push({left:i.x,top:u-i.y,anchor:e});return f}var s=i(20),o=i(29),r=i(2),u=i(23),h=i(7),l=tui.util.defineClass({className:"tui-chart-plot-area",init:function(t){this.options=tui.util.extend({type:"spiderweb"},t.options),this.theme=t.theme||{},this.graphRenderer=h.get("raphael","radialPlot")},_renderPlotArea:function(t,e,i,n){var a={container:t,dimension:e,plotPositions:i,labelData:n,theme:this.theme,options:this.options};return this.graphRenderer.render(a)},_makePositions:function(t,e){var i=e.width-r.RADIAL_PLOT_PADDING-r.RADIAL_MARGIN_FOR_CATEGORY,a=e.height-r.RADIAL_PLOT_PADDING-r.RADIAL_MARGIN_FOR_CATEGORY,s=i/2+r.RADIAL_PLOT_PADDING/2+r.RADIAL_MARGIN_FOR_CATEGORY/2,o=a/2-r.RADIAL_PLOT_PADDING/2-r.RADIAL_MARGIN_FOR_CATEGORY/2,u=t.yAxis.tickCount,h=t.xAxis.labels.length;return n({width:i,height:a,centerX:s,centerY:o,angleStepCount:h,stepCount:u})},_makeCategoryPositions:function(t,e){var i=e.width-r.RADIAL_PLOT_PADDING-r.RADIAL_CATEGORY_PADDING,n=e.height-r.RADIAL_PLOT_PADDING-r.RADIAL_CATEGORY_PADDING,s=i/2+r.RADIAL_PLOT_PADDING/2+r.RADIAL_CATEGORY_PADDING/2,o=n/2-r.RADIAL_PLOT_PADDING/2-r.RADIAL_CATEGORY_PADDING/2,u=t.xAxis.labels.length;return a({width:i,height:n,centerX:s,centerY:o,angleStepCount:u})},_makeLabelData:function(t,e,i){var n,a,s=t.xAxis.labels,o=t.yAxis.labels,r=this._makeCategoryPositions(t,e),u=[],h=[];for(n=0;n<s.length;n+=1)u.push({text:s[n],position:r[n]});for(a=0;a<o.length-1;a+=1)h.push({text:o[a],position:i[a][0]});return{category:u,step:h}},render:function(t){var e,i=this._makePositions(t.axisDataMap,t.layout.dimension),n=this._makeLabelData(t.axisDataMap,t.layout.dimension,i);return this.plotContainer=s.create("DIV",this.className),this._renderContainerPosition(this.plotContainer,t.positionMap.plot),e=this._renderPlotArea(this.plotContainer,t.layout.dimension,i,n),{container:this.plotContainer,paper:e}},rerender:function(t){var e=this._makePositions(t.axisDataMap,t.layout.dimension),i=this._makeLabelData(t.axisDataMap,t.layout.dimension,e);this.plotContainer.innerHTML="",this._renderPlotArea(this.plotContainer,t.layout.dimension,e,i)},_renderContainerPosition:function(t,e){var i=u.isOldBrowser()?1:0;u.renderPosition(t,{top:e.top-i,left:e.left-2*i})},resize:function(t){this.rerender(t)}});t.exports=l},function(t,e){"use strict";function i(t,e,i,n,a){var s=a*(Math.PI/180),o=(i-t)*Math.cos(s)-(n-e)*Math.sin(s),r=(i-t)*Math.sin(s)+(n-e)*Math.cos(s);return o+=t,r+=e,{x:o,y:r}}t.exports={rotatePointAroundOrigin:i}},function(t,e,i){"use strict";var n=i(2),a=i(31),s=i(20),o=i(23),r=i(32),u=["xls","csv"],h="menu-opened",l=tui.util.defineClass({init:function(t){this.className="tui-chart-chartExportMenu-area",this.dataProcessor=t.dataProcessor,this.chartTitle=t.chartTitle,this.layout=null,this.chartExportMenuContainer=null,this.chartExportMenu=null},_createChartExportMenuButton:function(){var t=s.create("div",n.CLASS_NAME_CHART_EXPORT_MENU_BUTTON);return t.innerHTML="menu",t},_renderChartExportMenuArea:function(t){var e=this._createChartExportMenuButton(),i=this.layout.dimension;t.appendChild(e),o.renderDimension(t,i),o.renderPosition(t,this.layout.position)},_renderChartExportMenu:function(t){var e=r.isBrowserSupportClientSideDownload(),i=s.create("ul"),a=i.style,o=[];e?o=tui.util.map(u,function(t){var e=s.create("li",n.CLASS_NAME_CHART_EXPORT_MENU_ITEM);return e.id=t,e.innerHTML="Export to ."+t,e}):(a.width="200px",o[0]=s.create("li",n.CLASS_NAME_CHART_EXPORT_MENU_ITEM),o[0].innerHTML="Browser does not support client-side download."),s.append(i,o),this.chartExportMenu=i,s.append(t,i)},_setDataForRendering:function(t){t&&(this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.axisDataMap=t.axisDataMap)},render:function(t){var e=s.create("DIV",this.className);return this._setDataForRendering(t),this._renderChartExportMenuArea(e),this._renderChartExportMenu(e),this.chartExportMenuContainer=e,this._attachEvent(e),e},rerender:function(){this._hideChartExportMenu()},resize:function(){},_showChartExportMenu:function(){s.addClass(this.chartExportMenuContainer,h),this.chartExportMenu.style.display="block"},_hideChartExportMenu:function(){s.removeClass(this.chartExportMenuContainer,h),this.chartExportMenu.style.display="none"},_onClick:function(t){var e=t.target||t.srcElement;s.hasClass(e,n.CLASS_NAME_CHART_EXPORT_MENU_ITEM)?(e.id&&r.exportChartData(e.id,this.dataProcessor.rawData,this.chartTitle),this._hideChartExportMenu()):s.hasClass(e,n.CLASS_NAME_CHART_EXPORT_MENU_BUTTON)&&(s.hasClass(this.chartExportMenuContainer,h)?this._hideChartExportMenu():this._showChartExportMenu())},_attachEvent:function(t){a.on(t,"click",this._onClick,this)},_detachEvent:function(t){a.off(t,"click",this._onClick)}});t.exports=l},function(t,e){"use strict";var i={},n={_attachEvent:function(t,e,n,a){var s;s=a?tui.util.bind(n,a):n,i[e+n]=s,t.attachEvent("on"+e,s)},_addEventListener:function(t,e,n,a){var s;s=a?tui.util.bind(n,a):n,i[e+n]=s,t.addEventListener(e,s)},_bindEvent:function(t,e,i,a){var s;"addEventListener"in t?s=this._addEventListener:"attachEvent"in t&&(s=this._attachEvent),n._bindEvent=s,s(t,e,i,a)},on:function(t,e,i,a){var s={};tui.util.isString(e)?s[e]=i:(s=e,a=i),tui.util.forEach(s,function(e,i){n._bindEvent(t,i,e,a)})},_detachEvent:function(t,e,n){i[e+n]&&(t.detachEvent("on"+e,i[e+n]),delete i[e+n])},_removeEventListener:function(t,e,n){t.removeEventListener(e,i[e+n]),delete i[e+n]},_unbindEvent:function(t,e,i){var a;"removeEventListener"in t?a=n._removeEventListener:"detachEvent"in t&&(a=n._detachEvent),n._unbindEvent=a,a(t,e,i)},off:function(t,e,i){var a={};tui.util.isString(e)?a[e]=i:a=e,tui.util.forEach(a,function(e,i){n._unbindEvent(t,i,e)})}};t.exports=n},function(t,e){"use strict";function i(t){var e,i,n,a=[],s=t.categories&&tui.util.isExisty(t.categories.x);return t&&(s?e=t.categories.x:t.categories&&(e=t.categories),a.push([""].concat(e)),tui.util.forEach(t.series,function(e){tui.util.forEach(e,function(e,o){s?(i=t.categories.y[o],n=e):(i=e.name,n=e.data),a.push([i].concat(n))})})),a}function n(){var t=tui.util.isExisty(document.createElement("a").download),e=window.Blob&&window.navigator.msSaveOrOpenBlob,i="none";return e?i="msSaveOrOpenBlob":t&&(i="downloadAttribute"),i}function a(t){var e="<table>";return tui.util.forEach(t,function(t,i){var n=0===i?"th":"td";e+="<tr>",tui.util.forEach(t,function(t,a){var s=0!==i||0===a?' class="number"':"",o="<"+n+s+">"+t+"</"+n+">";e+=o}),e+="</tr>"}),e+="</table>"}function s(t){var e=i(t),n='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+a(e)+"</body></html>";return n}function o(t,e,n){var a=i(t),s="",o=n?n:"\n",r=e?e:",",u=a.length-1;return tui.util.forEachArray(a,function(t,e){var i=t.length-1;tui.util.forEachArray(t,function(t,e){var n="number"==typeof t?t:'"'+t+'"';s+=n,e<i&&(s+=r)}),e<u&&(s+=o)}),s}function r(t,e,i){var n=new Blob([t]);window.navigator.msSaveOrOpenBlob(n,e,i)}function u(t,e,i){var n=document.createElement("a"),a="csv"!==i?window.btoa(unescape(encodeURIComponent(t))):encodeURIComponent(t),s=d[i]+a;n.href=s,n.target="_blank",n.download=e+"."+i,document.body.appendChild(n),n.click(),n.remove()}function h(t,e,i){var a=n();a&&f[a](t,e,i)}function l(t,e,i){var n=i,a=p[t](e);h(a,n,t)}function c(){var t=n();return"none"!==t}var d={xls:"data:application/vnd.ms-excel;base64,",csv:"data:text/csv,"},p={xls:s,csv:o},f={downloadAttribute:u,msSaveOrOpenBlob:r};t.exports={exportChartData:l,isBrowserSupportClientSideDownload:c}},function(t,e,i){"use strict";var n=i(34),a=i(2),s=i(20),o=i(5),r=i(31),u=i(23),h=i(6),l=i(35),c=tui.util.defineClass({init:function(t){this.theme=t.theme,this.options=t.options||{},this.chartType=t.chartType,this.seriesNames=t.seriesNames||[this.chartType],this.eventBus=t.eventBus,this.className="tui-chart-legend-area",this.checkedIndexes=[],
this.dataProcessor=t.dataProcessor,this.legendModel=new n({theme:this.theme,labels:t.dataProcessor.getLegendLabels(),legendData:t.dataProcessor.getLegendData(),seriesNames:this.seriesNames,chartType:this.chartType}),this.layout=null},_renderLegendArea:function(t){t.innerHTML=this._makeLegendHtml(this.legendModel.getData()),u.renderPosition(t,this.layout.position),t.style.cssText+=";"+u.makeFontCssText(this.theme.label)},_setDataForRendering:function(t){t&&(this.layout=t.layout)},render:function(t){var e=s.create("DIV",this.className);return this.legendContainer=e,o.isHorizontalLegend(this.options.align)&&s.addClass(e,"horizontal"),this._setDataForRendering(t),this._renderLegendArea(e),this._attachEvent(e),e},rerender:function(t){this._setDataForRendering(t),this._renderLegendArea(this.legendContainer)},resize:function(t){this.rerender(t)},_makeLegendRectCssText:function(t,e){var i,n,s=t.theme,o=s.borderColor?u.concatStr(";border:1px solid ",s.borderColor):"";return n="line"===t.chartType?e+a.LINE_MARGIN_TOP:e,i=u.concatStr(";margin-top:",n,"px"),u.concatStr("background-color:",s.singleColor||s.color,o,i)},_makeLabelsWidth:function(t){var e=this;return tui.util.map(t,function(t){var i=u.getRenderedLabelWidth(t.label,e.theme.label);return i+a.LEGEND_AREA_PADDING})},_makeLegendHtml:function(t){var e=this,i=l.tplLegend,n=l.tplCheckbox,s=this._makeLabelsWidth(t),r=u.getRenderedLabelHeight(t[0].label,t[0].theme),h=o.isHorizontalLegend(this.options.align),c=r+2*a.LABEL_PADDING_TOP,d=parseInt((c-a.LEGEND_RECT_WIDTH)/2,10)-1,p=tui.util.map(t,function(t,a){var o=e._makeLegendRectCssText(t,d),u=e.options.showCheckbox===!1?"":n({index:a,checked:e.legendModel.isCheckedIndex(a)?" checked":""}),l={rectCssText:o,height:c,labelHeight:r,unselected:e.legendModel.isUnselectedIndex(a)?" unselected":"",labelWidth:h?";width:"+s[a]+"px":"",iconType:t.chartType||"rect",label:t.label,checkbox:u,index:a};return i(l)}).join("");return p},_findLegendLabelElement:function(t){var e;return e=s.hasClass(t,a.CLASS_NAME_LEGEND_LABEL)?t:s.findParentByClass(t,a.CLASS_NAME_LEGEND_LABEL)},_fireChangeCheckedLegendsEvent:function(){this.eventBus.fire("changeCheckedLegends",this.legendModel.getCheckedIndexes())},_fireSelectLegendEvent:function(t){var e=this.legendModel.getSelectedIndex(),i=tui.util.isNull(e)?e:t.seriesIndex;this.eventBus.fire("selectLegend",t.chartType,i)},_fireSelectLegendPublicEvent:function(t){this.eventBus.fire(a.PUBLIC_EVENT_PREFIX+"selectLegend",{legend:t.label,chartType:t.chartType,index:t.index})},_selectLegend:function(t){var e=this.legendModel.getDatum(t);this.legendModel.toggleSelectedIndex(t),tui.util.isNull(this.legendModel.getSelectedIndex())||this.legendModel.isCheckedSelectedIndex()||(this.legendModel.checkSelectedIndex(),this._fireChangeCheckedLegendsEvent()),this._renderLegendArea(this.legendContainer),this._fireSelectLegendEvent(e),this._fireSelectLegendPublicEvent(e)},_getCheckedIndexes:function(){var t=[];return tui.util.forEachArray(this.legendContainer.getElementsByTagName("input"),function(e,i){e.checked&&t.push(i)}),t},_checkLegend:function(){var t,e=this._getCheckedIndexes(),i=e.length,n=this.dataProcessor.seriesDataModelMap,a=h.all(this.seriesNames,function(t){var e=n[t];return e&&o.isPieChart(e.chartType)});a&&1===i||0===i?this._renderLegendArea(this.legendContainer):(this.legendModel.updateCheckedLegendsWith(e),t=this.legendModel.getSelectedDatum(),this.legendModel.isCheckedSelectedIndex()||this.legendModel.updateSelectedIndex(null),this._renderLegendArea(this.legendContainer),this._fireChangeCheckedLegendsEvent(),t&&this._fireSelectLegendEvent(t))},_onClick:function(t){var e,i,n=t.target||t.srcElement;return s.hasClass(n,a.CLASS_NAME_LEGEND_CHECKBOX)?void this._checkLegend():(e=this._findLegendLabelElement(n),void(e&&(i=parseInt(e.getAttribute("data-index"),10),this._selectLegend(i))))},_attachEvent:function(t){r.on(t,"click",this._onClick,this)}});tui.util.CustomEvents.mixin(c),t.exports=c},function(t,e){"use strict";var i=Array.prototype.concat,n=tui.util.defineClass({init:function(t){this.theme=t.theme,this.labels=t.labels,this.legendData=t.legendData,this.seriesNames=t.seriesNames||[],this.chartType=t.chartType,this.data=null,this.selectedIndex=null,this.checkedIndexesMap={},this.checkedWholeIndexes=[],this._setData(),this._initCheckedIndexes()},_initCheckedIndexes:function(){var t=this,e=[];tui.util.forEachArray(this.legendData,function(i,n){i.visible&&e.push(n),t.checkedWholeIndexes[n]=i.visible}),this.updateCheckedLegendsWith(e)},_setThemeToLegendData:function(t,e,i){var n=0;tui.util.forEachArray(t,function(t,a){var s={color:e.colors[a]};e.singleColors&&e.singleColors.length&&(s.singleColor=e.singleColors[a]),e.borderColor&&(s.borderColor=e.borderColor),t.theme=s,t.index=a,i&&tui.util.isUndefined(i[a])?t.seriesIndex=-1:(t.seriesIndex=n,n+=1)})},_setData:function(){var t,e,n=this,a=this.theme,s=this.chartType,o=this.seriesNames,r=this.legendData,u=this.checkedIndexesMap;!o||o.length<2?(this._setThemeToLegendData(r,a[s],u[s]),t=r):(e=0,t=i.apply([],tui.util.map(o,function(t){var i,s,o=n.labels[t].length,h=e+o;return i=r.slice(e,h),s=u[t],e=h,n._setThemeToLegendData(i,a[t],s),i}))),this.data=t},getData:function(){return this.data},getDatum:function(t){return this.data[t]},getSelectedDatum:function(){return this.getDatum(this.selectedIndex)},updateSelectedIndex:function(t){this.selectedIndex=t},toggleSelectedIndex:function(t){var e;e=this.selectedIndex===t?null:t,this.updateSelectedIndex(e)},getSelectedIndex:function(){return this.selectedIndex},isUnselectedIndex:function(t){return!tui.util.isNull(this.selectedIndex)&&this.selectedIndex!==t},isCheckedSelectedIndex:function(){return this.isCheckedIndex(this.selectedIndex)},_updateCheckedIndex:function(t){this.checkedWholeIndexes[t]=!0},isCheckedIndex:function(t){return!!this.checkedWholeIndexes[t]},_addSendingDatum:function(t){var e=this.getDatum(t);this.checkedIndexesMap[e.chartType]||(this.checkedIndexesMap[e.chartType]=[]),this.checkedIndexesMap[e.chartType][e.index]=!0},checkSelectedIndex:function(){this._updateCheckedIndex(this.selectedIndex),this._addSendingDatum(this.selectedIndex),this._setData()},getCheckedIndexes:function(){return this.checkedIndexesMap},_resetCheckedData:function(){this.checkedWholeIndexes=[],this.checkedIndexesMap={}},updateCheckedLegendsWith:function(t){var e=this;this._resetCheckedData(),tui.util.forEachArray(t,function(t){e._updateCheckedIndex(t),e._addSendingDatum(t)}),this._setData()}});t.exports=n},function(t,e,i){"use strict";var n=i(25),a={HTML_CHECKBOX:'<div class="tui-chart-legend-checkbox-area"><input class="tui-chart-legend-checkbox" type="checkbox" value="{{ index }}"{{ checked }} /></div>',HTML_LEGEND:'<div class="tui-chart-legend{{ unselected }}" style="height:{{ height }}px">{{ checkbox }}<div class="tui-chart-legend-rect {{ iconType }}" style="{{ rectCssText }}"></div><div class="tui-chart-legend-label" style="height:{{ labelHeight }}px{{ labelWidth }}" data-index="{{ index }}">{{ label }}</div></div>',HTML_TICK:'<div class="tui-chart-map-legend-tick" style="{{ position }}"></div><div class="tui-chart-map-legend-tick-label" style="{{ labelPosition }}">{{ label }}</div>',HTML_CIRCLE_LEGEND_LABEL:'<div class="tui-chart-circle-legend-label" style="left: {{ left }}px;top: {{ top }}px">{{ label }}</div>'};t.exports={tplCheckbox:n.template(a.HTML_CHECKBOX),tplLegend:n.template(a.HTML_LEGEND),tplTick:n.template(a.HTML_TICK),tplCircleLegendLabel:n.template(a.HTML_CIRCLE_LEGEND_LABEL)}},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(20),o=i(23),r=i(7),u=i(35),h=tui.util.defineClass({init:function(t){var e=t.libType||n.DEFAULT_PLUGIN;this.className="tui-chart-legend-area",this.chartType=t.chartType,this.theme=t.theme,this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.colorSpectrum=t.colorSpectrum,this.eventBus=t.eventBus,this.graphRenderer=r.get(e,"mapLegend"),this.isHorizontal=a.isHorizontalLegend(this.options.align),this.scaleData=null,this._attachToEventBus()},_attachToEventBus:function(){this.eventBus.on({showWedge:this.onShowWedge,hideTooltip:this.onHideWedge},this)},_makeBaseDataToMakeTickHtml:function(){var t,e=this.layout.dimension,i=this.scaleData,n=i.stepCount||i.tickCount-1,a={};return this.isHorizontal?(a.startPositionValue=5,a.step=e.width/n,a.positionType="left:"):(a.startPositionValue=0,a.step=e.height/n,a.positionType="top:",t=i.labels[0],a.labelSize=parseInt(o.getRenderedLabelHeight(t,this.theme.label)/2,10)-1),a},_makeTickHtml:function(){var t,e=this,i=this._makeBaseDataToMakeTickHtml(),n=i.startPositionValue;return t=tui.util.map(this.scaleData.labels,function(t){var a,s;return a=e.isHorizontal?parseInt(o.getRenderedLabelWidth(t,e.theme.label)/2,10):i.labelSize,s=u.tplTick({position:i.positionType+n+"px",labelPosition:i.positionType+(n-a)+"px",label:t}),n+=i.step,s}),t.join("")},_renderTickArea:function(){var t=s.create("div","tui-chart-legend-tick-area");return t.innerHTML=this._makeTickHtml(),this.isHorizontal&&s.addClass(t,"horizontal"),t},_makeVerticalGraphDimension:function(){return{width:n.MAP_LEGEND_GRAPH_SIZE,height:this.layout.dimension.height}},_makeHorizontalGraphDimension:function(){return{width:this.layout.dimension.width+10,height:n.MAP_LEGEND_GRAPH_SIZE}},_renderGraph:function(t){var e;e=this.isHorizontal?this._makeHorizontalGraphDimension():this._makeVerticalGraphDimension(),this.graphRenderer.render(t,e,this.colorSpectrum,this.isHorizontal)},_renderLegendArea:function(t){var e;t.innerHTML="",o.renderPosition(t,this.layout.position),this._renderGraph(t),e=this._renderTickArea(),t.appendChild(e),t.style.cssText+=";"+o.makeFontCssText(this.theme.label)},_setDataForRendering:function(t){this.layout=t.layout,this.scaleData=t.legendScaleData},render:function(t){var e=s.create("DIV",this.className);return this.legendContainer=e,this._setDataForRendering(t),this._renderLegendArea(e),e},resize:function(t){this._setDataForRendering(t),this._renderLegendArea(this.legendContainer)},onShowWedge:function(t){this.graphRenderer.showWedge(n.MAP_LEGEND_SIZE*t)},onHideWedge:function(){this.graphRenderer.hideWedge()}});t.exports=h},function(t,e,i){"use strict";var n=i(2),a=i(20),s=i(22),o=i(23),r=i(7),u=i(35),h=tui.util.defineClass({className:"tui-chart-circle-legend-area",circleRatios:[1,.5,.25],init:function(t){var e=t.libType||n.DEFAULT_PLUGIN;this.chartType=t.chartType,this.dataProcessor=t.dataProcessor,this.labelTheme={fontSize:n.CIRCLE_LEGEND_LABEL_FONT_SIZE,fontFamily:t.baseFontFamily},this.graphRenderer=r.get(e,"circleLegend"),this.layout=null,this.maxRadius=null},_formatLabel:function(t,e){var i=this.dataProcessor.getFormatFunctions();return 0===e?t=String(parseInt(t,10)):(t=String(t),t=o.formatToDecimal(t,e)),o.formatValue(t,i,this.chartType,"circleLegend","r")},_makeLabelHtml:function(){var t=this,e=this.layout.dimension,i=e.width/2,n=this.maxRadius,a=this.dataProcessor.getMaxValue(this.chartType,"r"),r=s.getDecimalLength(a),h=o.getRenderedLabelHeight(a,this.labelTheme);return tui.util.map(this.circleRatios,function(s){var l=n*s*2,c=t._formatLabel(a*s,r),d=o.getRenderedLabelWidth(c,t.labelTheme);return u.tplCircleLegendLabel({left:i-d/2,top:e.height-l-h,label:c})}).join("")},_renderLabelArea:function(){var t=a.create("DIV","tui-chart-circle-legend-label-area");t.innerHTML=this._makeLabelHtml(),this.container.appendChild(t)},_render:function(){var t=a.create("DIV","tui-chart-circle-area");this.container.appendChild(t),this.graphRenderer.render(t,this.layout.dimension,this.maxRadius,this.circleRatios),this._renderLabelArea(),o.renderPosition(this.container,this.layout.position)},_setDataForRendering:function(t){this.layout=t.layout,this.maxRadius=t.maxRadius},render:function(t){var e=a.create("DIV",this.className);return this.container=e,this._setDataForRendering(t),this._render(t),e},rerender:function(t){this.container.innerHTML="",this._setDataForRendering(t),this._render()},resize:function(t){this.rerender(t)}});t.exports=h},function(t,e,i){"use strict";var n=i(39),a=i(40),s=i(2),o=i(5),r=i(23),u=i(41),h=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeTooltipHtml:function(t,e){var i,n=o.isPieChart(this.chartType)||o.isPieDonutComboChart(this.chartType,this.chartTypes);return(i=n?u.tplPieChart:this.dataProcessor.coordinateType?u.tplCoordinatetypeChart:u.tplDefault)(tui.util.extend({categoryVisible:t?"show":"hide",category:t},e))},_makeHtmlForValueTypes:function(t,e){return tui.util.map(e,function(e){return t[e]?"<div>"+e+": "+t[e]+"</div>":""}).join("")},_makeSingleTooltipHtml:function(t,e){var i=tui.util.pick(this.data,t,e.groupIndex,e.index);return i=tui.util.extend({suffix:this.suffix},i),i.valueTypes=this._makeHtmlForValueTypes(i,["x","y","r"]),this.templateFunc(i.category,i)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=s.TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},_makeShowTooltipParams:function(t,e){var i,n=t.index,a=this.dataProcessor.getLegendItem(n);return a?i=tui.util.extend({chartType:a.chartType,legend:a.label,legendIndex:n,index:t.groupIndex},e):null},_makeTooltipDatum:function(t,e,i){var n=t&&i.label?":&nbsp;":"",a=i.tooltipLabel,s=this.tooltipOptions&&this.tooltipOptions.labelFormatter,u={legend:t||""};return u.label=a||(i.label?n+i.label:""),s&&(u=s(i,u,n)),e&&o.isDatetimeType(this.xAxisType)&&(e=r.formatDate(e,this.dateFormat)),u.category=e||"",tui.util.extend(u,i.pickValueMapForTooltip())},_makeTooltipData:function(){var t=this,e=this.dataProcessor.getLegendLabels(),i=o.isTreemapChart(this.chartType),n={},a={};return tui.util.isArray(e)?n[this.chartType]=e:n=e,this.dataProcessor.eachBySeriesGroup(function(e,i,s){var o;s=s||t.chartType,o=e.map(function(e,a){var o=t.dataProcessor.makeTooltipCategory(i,a,t.isVertical);return e?t._makeTooltipDatum(n[s][a],o,e):null}),a[s]||(a[s]=[]),a[s].push(o)},i),a}});a.mixin(h),t.exports=h},function(t,e,i){"use strict";var n=i(2),a=i(20),s=i(5),o=i(23),r=tui.util.defineClass({init:function(t){var e=s.isPieChart(t.chartType);this.chartType=t.chartType,this.chartTypes=t.chartTypes,this.dataProcessor=t.dataProcessor,this.options=t.options,this.theme=t.theme,this.isVertical=t.isVertical,this.eventBus=t.eventBus,this.labelTheme=t.labelTheme,this.xAxisType=t.xAxisType,this.dateFormat=t.dateFormat,this.tooltipOptions=t.tooltipOptions,this.className="tui-chart-tooltip-area",this.tooltipContainer=null,this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this.templateFunc=this.options.template||tui.util.bind(this._makeTooltipHtml,this),this.animationTime=e?n.TOOLTIP_PIE_ANIMATION_TIME:n.TOOLTIP_ANIMATION_TIME,this.data=[],this.layout=null,this.dimensionMap=null,this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions(),this._attachToEventBus()},_attachToEventBus:function(){this.eventBus.on({showTooltip:this.onShowTooltip,hideTooltip:this.onHideTooltip},this),this.onShowTooltipContainer&&this.eventBus.on({showTooltipContainer:this.onShowTooltipContainer,hideTooltipContainer:this.onHideTooltipContainer},this)},_makeTooltipHtml:function(){},_setDefaultTooltipPositionOption:function(){},_saveOriginalPositionOptions:function(){this.orgPositionOptions={align:this.options.align,offset:this.options.offset}},_makeTooltipData:function(){},_setDataForRendering:function(t){this.layout=t.layout,this.dimensionMap=t.dimensionMap},render:function(t){var e=a.create("DIV",this.className);return this._setDataForRendering(t),this.data=this._makeTooltipData(),o.renderPosition(e,this.layout.position),this.tooltipContainer=e,e},rerender:function(t){this.resize(t),this.data=this._makeTooltipData()},resize:function(t){this._setDataForRendering(t),o.renderPosition(this.tooltipContainer,this.layout.position),this.positionModel&&this.positionModel.updateBound(this.layout)},zoom:function(){this.data=this._makeTooltipData()},_getTooltipElement:function(){var t;return this.tooltipElement||(this.tooltipElement=t=a.create("DIV","tui-chart-tooltip"),a.append(this.tooltipContainer,t)),this.tooltipElement},onShowTooltip:function(t){var e,i=this._getTooltipElement(),n=s.isComboChart(this.chartType)&&s.isScatterChart(t.chartType);s.isChartToDetectMouseEventOnSeries(t.chartType)&&!n||!i.offsetWidth||(e={left:i.offsetLeft,top:i.offsetTop}),this._showTooltip(i,t,e)},getTooltipDimension:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},_moveToPosition:function(t,e,i){i?this._slideTooltip(t,i,e):o.renderPosition(t,e)},_slideTooltip:function(t,e,i){var n=i.top-e.top,a=i.left-e.left;o.cancelAnimation(this.slidingAnimation),this.slidingAnimation=o.startAnimation(this.animationTime,function(i){var s=a*i,o=n*i;t.style.left=e.left+s+"px",t.style.top=e.top+o+"px"})},onHideTooltip:function(t){var e=this._getTooltipElement();this._hideTooltip(e,t)},setAlign:function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},_updateOffsetOption:function(t){this.options.offset=t,this.positionModel&&this.positionModel.updateOptions(this.options)},setOffset:function(t){var e=tui.util.extend({},this.options.offset);tui.util.isExisty(t.x)&&(e.x=t.x),tui.util.isExisty(t.y)&&(e.y=t.y),this._updateOffsetOption(tui.util.extend({},this.options.offset,e))},setPosition:function(t){var e=tui.util.extend({},this.options.offset);tui.util.isExisty(t.left)&&(e.x=t.left),tui.util.isExisty(t.top)&&(e.y=t.y),this._updateOffsetOption(e)},resetAlign:function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},resetOffset:function(){this.options.offset=this.orgPositionOptions.offset,this._updateOffsetOption(this.options.offset)}});t.exports=r},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(20),o=i(23),r={_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return tui.util.isNull(e)||tui.util.isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},_makeLeftPositionOfNotBarChart:function(t,e,i,n){var a=t;return e.indexOf("left")>-1?a-=i+n:e.indexOf("center")>-1?a-=i/2:a+=n,a},_makeTopPositionOfNotBarChart:function(t,e,i,a){var s=t;return e.indexOf("bottom")>-1?s+=i+a:e.indexOf("middle")>-1?s+=i/2:s-=n.TOOLTIP_GAP,s},_makeTooltipPositionForNotBarChart:function(t){var e=t.bound,i=t.positionOption,a=t.dimension.width-(e.width||0),s=e.width?0:n.TOOLTIP_GAP,o=t.alignOption||"",r=t.dimension.height,u=e.left+i.left,h=e.top-r+i.top;return{left:this._makeLeftPositionOfNotBarChart(u,o,a,s),top:this._makeTopPositionOfNotBarChart(h,o,r,s)}},_makeTooltipPositionToMousePosition:function(t){return t.bound=t.bound||{},tui.util.extend(t.bound,t.mousePosition),this._makeTooltipPositionForNotBarChart(t)},_makeLeftPositionForBarChart:function(t,e,i){var a=t;return e.indexOf("left")>-1?a-=i:e.indexOf("center")>-1?a-=i/2:a+=n.TOOLTIP_GAP,a},_makeTopPositionForBarChart:function(t,e,i){var n=t;return e.indexOf("top")>-1?n-=i:e.indexOf("middle")>-1&&(n-=i/2),n},_makeTooltipPositionForBarChart:function(t){var e=t.bound,i=t.positionOption,n=t.dimension.height-(e.height||0),a=t.alignOption||"",s=t.dimension.width,o=e.left+e.width+i.left,r=e.top+i.top;return{left:this._makeLeftPositionForBarChart(o,a,s),top:this._makeTopPositionForBarChart(r,a,n)}},_makeTooltipPositionForTreemapChart:function(t){var e=t.bound,i=t.positionOption,a=o.getRenderedLabelHeight(n.MAX_HEIGHT_WORLD,this.labelTheme);return{left:e.left+(e.width-t.dimension.width)/2+i.left,top:e.top+(e.height-a)/2-t.dimension.height+i.top}},_adjustPosition:function(t,e){var i=this.dimensionMap.chart,n=this.layout.position;return e.left=Math.max(e.left,-n.left),e.left=Math.min(e.left,i.width-n.left-t.width),e.top=Math.max(e.top,-n.top),e.top=Math.min(e.top,i.height-n.top-t.height),e},_makeTooltipPosition:function(t){var e,i,n,s={};return t.mousePosition?s=this._makeTooltipPositionToMousePosition(t):(a.isBarChart(t.chartType)?(s=this._makeTooltipPositionForBarChart(t),e="width",i="left",n=1):a.isTreemapChart(t.chartType)?s=this._makeTooltipPositionForTreemapChart(t):(s=this._makeTooltipPositionForNotBarChart(t),e="height",i="top",n=-1),t.allowNegativeTooltip&&(s=this._moveToSymmetry(s,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:e,positionType:i,addPadding:n})),s=this._adjustPosition(t.dimension,s)),s},_moveToSymmetry:function(t,e){var i,n,a,s,o=e.bound,r=e.sizeType,u=e.positionType,h=e.seriesName||e.chartType,l=this.dataProcessor.getValue(e.indexes.groupIndex,e.indexes.index,h);return l<0&&(i=e.dimension[r]/2,n=o[u],a=o[r]/2,s=2*(n+a-i)-t[u],t[u]=s),t},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},_showTooltip:function(t,e,i){var n,a=e.indexes,o=this._getIndexesCustomAttribute(t),r=this.options.offset||{},u={},h=t&&t.getAttribute("data-chart-type");(this._isChangedIndexes(o,a)||h!==e.chartType)&&this.eventBus.fire("hoverOffSeries",o,h),t.innerHTML=this._makeSingleTooltipHtml(e.seriesName||e.chartType,a),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,a),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltipPublicEvent(a),s.addClass(t,"show"),u.left=r.x||0,u.top=r.y||0,n=this._makeTooltipPosition(tui.util.extend({dimension:this.getTooltipDimension(t),positionOption:u,alignOption:this.options.align||""},e)),this._moveToPosition(t,n,i),this.eventBus.fire("hoverSeries",a,e.chartType),this._fireAfterShowTooltipPublicEvent(a,{element:t,position:n})},_fireBeforeShowTooltipPublicEvent:function(t){var e=this._makeShowTooltipParams(t);this.eventBus.fire(n.PUBLIC_EVENT_PREFIX+"beforeShowTooltip",e)},_fireAfterShowTooltipPublicEvent:function(t,e){var i=this._makeShowTooltipParams(t,e);this.eventBus.fire(n.PUBLIC_EVENT_PREFIX+"afterShowTooltip",i)},_executeHidingTooltip:function(t){s.removeClass(t,"show"),t.removeAttribute("data-groupIndex"),t.removeAttribute("data-index"),t.style.cssText=""},_hideTooltip:function(t){var e=this,i=this._getIndexesCustomAttribute(t),s=t.getAttribute("data-chart-type");a.isChartToDetectMouseEventOnSeries(s)?(this.eventBus.fire("hoverOffSeries",i,s),this._executeHidingTooltip(t)):s&&(this._setShowedCustomAttribute(t,!1),this.eventBus.fire("hoverOffSeries",i,s),this._isChangedIndexes(this.prevIndexes,i)&&delete this.prevIndexes,setTimeout(function(){e._isShowedTooltip(t)||e._executeHidingTooltip(t)},n.HIDE_DELAY))},onShowTooltipContainer:function(){this.tooltipContainer.style.zIndex=n.TOOLTIP_ZINDEX},onHideTooltipContainer:function(){this.tooltipContainer.style.zIndex=0},mixin:function(t){tui.util.extend(t.prototype,this)}};t.exports=r},function(t,e,i){"use strict";var n=i(25),a={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="{{ categoryVisible }}">{{ category }}</div><div><span>{{ legend }}</span><span>{{ label }}</span><span>{{ suffix }}</span></div></div>',HTML_PIE_TEMPLATE:'<div class="tui-chart-default-tooltip"><div class="{{ categoryVisible }}">{{ category }}</div><div><span>{{ legend }}</span><span>{{ ratioLabel }}</span><span>( {{ label }} {{ suffix }})</span></div></div>',HTML_COORDINATE_TYPE_CHART_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span><span>{{ label }}</span></div>{{ valueTypes }}</div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div>{{ category }}</div>{{ items }}</div>',HTML_GROUP_ITEM:'<div><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div>&nbsp;<span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div>',GROUP_CSS_TEXT:"background-color:{{ color }}",HTML_MAP_CHART_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ name }}: {{ value }}{{ suffix }}</div></div>'};t.exports={tplDefault:n.template(a.HTML_DEFAULT_TEMPLATE),tplPieChart:n.template(a.HTML_PIE_TEMPLATE),tplCoordinatetypeChart:n.template(a.HTML_COORDINATE_TYPE_CHART_TEMPLATE),tplGroup:n.template(a.HTML_GROUP),tplGroupItem:n.template(a.HTML_GROUP_ITEM),tplGroupCssText:n.template(a.GROUP_CSS_TEXT),tplMapChartDefault:n.template(a.HTML_MAP_CHART_DEFAULT_TEMPLATE)}},function(t,e,i){"use strict";var n=i(39),a=i(43),s=i(2),o=i(20),r=i(23),u=i(9),h=i(41),l=tui.util.defineClass(n,{init:function(){this.prevIndex=null,n.apply(this,arguments)},_makeTooltipHtml:function(t,e){var i=h.tplGroupItem,n=h.tplGroupCssText,a=this._makeColors(this.theme),s=tui.util.map(e,function(t,e){return i(tui.util.extend({cssText:n({color:a[e]})},t))}).join("");return h.tplGroup({category:t,items:s})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=s.TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:this.options.align=s.TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION)},render:function(t){var e=n.prototype.render.call(this,t),i=this.dimensionMap.chart,s=this.layout;return t.checkedLegends&&(this.theme=this._updateLegendTheme(t.checkedLegends)),this.positionModel=new a(i,s,this.isVertical,this.options),e},rerender:function(t){n.prototype.rerender.call(this,t),this.prevIndex=null,t.checkedLegends&&(this.theme=this._updateLegendTheme(t.checkedLegends))},zoom:function(){this.prevIndex=null,n.prototype.zoom.call(this)},_updateLegendTheme:function(t){var e=[];return tui.util.forEachArray(this.dataProcessor.getOriginalLegendData(),function(i){var n=t[i.chartType]||t;n[i.index]&&e.push(i.theme.color)}),{colors:e}},_makeTooltipData:function(){var t=this;return tui.util.map(this.dataProcessor.getSeriesGroups(),function(e,i){return{category:t.dataProcessor.getCategory(i),values:e.pluck("label")}})},_makeColors:function(t){var e,i,n,a=0,s=this.dataProcessor.getLegendData();return t.colors?t.colors:(e=u.series.colors.slice(0,s.length),tui.util.map(tui.util.pluck(s,"chartType"),function(s){var o;return n!==s&&(i=t[s]?t[s].colors:e,a=0),n=s,o=i[a],a+=1,o}))},_makeItemRenderingData:function(t){var e=this.dataProcessor,i=this.suffix;return tui.util.map(t,function(t,n){var a=e.getLegendItem(n);return{value:t,legend:a.label,chartType:a.chartType,suffix:i}})},_makeGroupTooltipHtml:function(t){var e,i=this.data[t],n="";return i&&(e=this._makeItemRenderingData(i.values),n=this.templateFunc(i.category,e)),n},_getTooltipSectorElement:function(){var t;return this.groupTooltipSector||(this.groupTooltipSector=t=o.create("DIV","tui-chart-group-tooltip-sector"),o.append(this.tooltipContainer,t)),this.groupTooltipSector},_makeVerticalTooltipSectorBound:function(t,e,i){var n;return i?(n=1,t+=6):n=e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start+s.SERIES_EXPAND_SIZE,top:s.SERIES_EXPAND_SIZE}}},_makeHorizontalTooltipSectorBound:function(t,e){return{dimension:{width:t,height:e.end-e.start},position:{left:s.SERIES_EXPAND_SIZE,top:e.start+s.SERIES_EXPAND_SIZE}}},_makeTooltipSectorBound:function(t,e,i,n){var a;return a=i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},_showTooltipSector:function(t,e,i,n,a){var s=this._getTooltipSectorElement(),u=e.start===e.end,h=this._makeTooltipSectorBound(t,e,i,u);u?this.eventBus.fire("showGroupTooltipLine",h):(r.renderDimension(s,h.dimension),r.renderPosition(s,h.position),o.addClass(s,"show")),a&&(n-=1),this.eventBus.fire("showGroupAnimation",n)},_hideTooltipSector:function(t){var e=this._getTooltipSectorElement();o.removeClass(e,"show"),this.eventBus.fire("hideGroupAnimation",t),this.eventBus.fire("hideGroupTooltipLine")},_showTooltip:function(t,e,i){var n,a;tui.util.isNull(this.prevIndex)||this.eventBus.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeGroupTooltipHtml(e.index),this._fireBeforeShowTooltipPublicEvent(e.index,e.range),o.addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index,e.isMoving),n=this.getTooltipDimension(t),a=this.positionModel.calculatePosition(n,e.range),this._moveToPosition(t,a,i),this._fireAfterShowTooltipPublicEvent(e.index,e.range,{element:t,position:a}),this.prevIndex=e.index},_fireBeforeShowTooltipPublicEvent:function(t,e){this.eventBus.fire(s.PUBLIC_EVENT_PREFIX+"beforeShowTooltip",{chartType:this.chartType,index:t,range:e})},_fireAfterShowTooltipPublicEvent:function(t,e,i){this.eventBus.fire(s.PUBLIC_EVENT_PREFIX+"afterShowTooltip",tui.util.extend({chartType:this.chartType,index:t,range:e},i))},_hideTooltip:function(t,e){this.prevIndex=null,this._hideTooltipSector(e),o.removeClass(t,"show"),t.style.cssText=""}});t.exports=l},function(t,e,i){"use strict";var n=i(2),a=tui.util.defineClass({init:function(t,e,i,n){this.chartDimension=t,this.areaBound=e,this.isVertical=i,this.options=n,this.positions={},this._setData(t,e,i,n)},_getHorizontalDirection:function(t){var e;return t=t||"",e=t.indexOf("left")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?n.TOOLTIP_DIRECTION_CENTER:n.TOOLTIP_DIRECTION_FORWARD},_makeVerticalData:function(t,e,i){var a=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:a,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:n.SERIES_EXPAND_SIZE}},_getVerticalDirection:function(t){var e;return t=t||"",e=t.indexOf("top")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?n.TOOLTIP_DIRECTION_FORWARD:n.TOOLTIP_DIRECTION_CENTER},_makeHorizontalData:function(t,e,i){var a=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:a,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:n.SERIES_EXPAND_SIZE}},_setData:function(t,e,i,n){var a=this._makeVerticalData(t,e,n.align),s=this._makeHorizontalData(t,e,n.align),o=n.offset||{};i?(this.mainData=a,this.subData=s):(this.mainData=s,this.subData=a),this.positionOption={},this.positionOption.left=o.x||0,this.positionOption.top=o.y||0,this.positions={}},_calculateMainPositionValue:function(t,e,i){var a=e.start===e.end,s=9,o=5,r=a?s:o,u=i.basePosition;return u+=i.direction===n.TOOLTIP_DIRECTION_FORWARD?e.end+r:i.direction===n.TOOLTIP_DIRECTION_BACKWARD?e.start-t-r:a?e.start-t/2:e.start+(e.end-e.start-t)/2},_calculateSubPositionValue:function(t,e){var i,a=e.areaSize/2;return i=e.direction===n.TOOLTIP_DIRECTION_FORWARD?a+e.basePosition:e.direction===n.TOOLTIP_DIRECTION_BACKWARD?a-t+e.basePosition:a-t/2+e.basePosition},_makePositionValueDiff:function(t,e,i){return t+i.areaPosition+e-i.chartSize},_adjustBackwardPositionValue:function(t,e,i,a){var s;return t<-a.areaPosition&&(s=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_FORWARD,basePosition:a.basePosition}),t=this._makePositionValueDiff(s,i,a)>0?-a.areaPosition:s),t},_adjustForwardPositionValue:function(t,e,i,a){var s,o=this._makePositionValueDiff(t,i,a);return o>0&&(s=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_BACKWARD,basePosition:a.basePosition}),s<-a.areaPosition?t-=o:t=s),t},_adjustMainPositionValue:function(t,e,i,a){return a.direction===n.TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,a):a.direction===n.TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,a):(t=Math.max(t,-a.areaPosition),t=Math.min(t,a.chartSize-a.areaPosition-i)),t},_adjustSubPositionValue:function(t,e,i){return t=i.direction===n.TOOLTIP_DIRECTION_FORWARD?Math.min(t,i.chartSize-i.areaPosition-e):Math.max(t,-i.areaPosition)},_makeCachingKey:function(t){return t.start+"-"+t.end},_addPositionOptionValue:function(t,e){return t+this.positionOption[e]},_makeMainPositionValue:function(t,e,i){var n;return n=this._calculateMainPositionValue(t[i.sizeType],e,i),n=this._addPositionOptionValue(n,i.positionType),n=this._adjustMainPositionValue(n,e,t[i.sizeType],i)},_makeSubPositionValue:function(t,e){
var i;return i=this._calculateSubPositionValue(t[e.sizeType],e),i=this._addPositionOptionValue(i,e.positionType),i=this._adjustSubPositionValue(i,t[e.sizeType],e)},calculatePosition:function(t,e){var i=this._makeCachingKey(e),n=this.mainData,a=this.subData,s=this.positions[i];return s||(s={},s[n.positionType]=this._makeMainPositionValue(t,e,n),s[a.positionType]=this._makeSubPositionValue(t,a),this.positions[i]=s),s},updateOptions:function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},updateBound:function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)}});t.exports=a},function(t,e,i){"use strict";var n=i(2),a=i(39),s=i(40),o=i(41),r=tui.util.defineClass(a,{init:function(t){this.mapModel=t.mapModel,a.apply(this,arguments)},_makeTooltipHtml:function(t){return o.tplMapChartDefault(t)},_makeSingleTooltipHtml:function(t,e){var i=this.mapModel.getDatum(e.index),n=this.options.suffix?" "+this.options.suffix:"";return this.templateFunc({name:i.name||i.code,value:i.label,suffix:n})},_makeShowTooltipParams:function(t,e){var i,n=this.mapModel.getDatum(t.index);return i=tui.util.extend({chartType:this.chartType,code:n.code,name:n.name,value:n.label,index:t.index},e)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.options.align=n.TOOLTIP_DEFAULT_ALIGN_OPTION)}});s.mixin(r),t.exports=r},function(t,e,i){"use strict";var n=i(46),a=i(49),s=i(50),o=50,r=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.prevFoundData=null,this.zoomable=t.zoomable,this.zoomable&&(tui.util.extend(this,a),this._initForZoom(t.zoomable))},onReceiveSeriesData:function(t){var e=this.seriesItemBoundsData,i=this.seriesCount;e.length===i&&(e=[]),e.push(t),e.length===i&&(this.dataModel=new s(e)),this.zoomable&&this._showTooltipAfterZoom()},_findData:function(t,e){var i=this._calculateLayerPosition(t,e);return this.dataModel.findData(i,o)},_findDataForZoomable:function(t,e){var i=this._calculateLayerPosition(t,e);return this.dataModel.findData(i)},_getFirstData:function(t){return this.dataModel.getFirstData(t)},_getLastData:function(t){return this.dataModel.getLastData(t)},_showTooltip:function(t){this.eventBus.fire("showTooltip",t)},_hideTooltip:function(){this.eventBus.fire("hideTooltip",this.prevFoundData)},_onMousemove:function(t){var e,i;n.prototype._onMousemove.call(this,t),i=this._findData(t.clientX,t.clientY),this.zoomable&&(e=this._isAfterDragMouseup()),!e&&this._isChangedSelectData(this.prevFoundData,i)&&(i?this._showTooltip(i):this.prevFoundData&&this._hideTooltip(),this.prevFoundData=i)},_onMouseout:function(){this.prevFoundData&&this._hideTooltip(),n.prototype._onMouseout.call(this)}});t.exports=r},function(t,e,i){"use strict";var n=i(47),a=i(48),s=i(2),o=i(31),r=i(5),u=i(20),h=i(23),l=tui.util.defineClass({init:function(t){var e;this.chartType=t.chartType,this.chartTypes=t.chartTypes,this.isVertical=t.isVertical,this.dataProcessor=t.dataProcessor,this.allowSelect=t.allowSelect,this.eventBus=t.eventBus,this.layout=null,this.selectedData=null,this.prevClientPosition=null,this.prevFoundData=null,e=r.hasLineChart(this.chartType,this.chartTypes),this.expandSize=e?s.SERIES_EXPAND_SIZE:0,this.seriesItemBoundsData=[],this.seriesCount=r.isComboChart(this.chartType)?2:1,this._attachToEventBus()},_attachToEventBus:function(){this.eventBus.on("receiveSeriesData",this.onReceiveSeriesData,this)},_getRenderingBound:function(){var t=h.expandBound(this.layout);return t},_renderMouseEventDetectorArea:function(t,e){var i,a,s=this.layout.dimension;this.dimension=s,a=new n(s,e,this.chartType,this.isVertical,this.chartTypes),this.tickBaseCoordinateModel=a,i=this._getRenderingBound(),h.renderDimension(t,i.dimension),h.renderPosition(t,i.position)},_setDataForRendering:function(t){this.layout=t.layout},_pickTickCount:function(t){var e;return e=this.isVertical?t.xAxis.eventTickCount||t.xAxis.tickCount:t.yAxis.tickCount},render:function(t){var e,i=u.create("DIV","tui-chart-series-custom-event-area");return t.axisDataMap.xAxis&&(e=this._pickTickCount(t.axisDataMap)),this._setDataForRendering(t),this._renderMouseEventDetectorArea(i,e),this.attachEvent(i),this.mouseEventDetectorContainer=i,i},_calculateLayerPosition:function(t,e,i){var n,a,s=this.mouseEventDetectorContainer.getBoundingClientRect(),o={},r=this.expandSize;return i=!!tui.util.isUndefined(i)||i,i&&(n=s.right+r,a=s.left-r,t=Math.min(Math.max(t,a),n)),o.x=t-s.left,tui.util.isUndefined(e)||(o.y=e-s.top),o},onReceiveSeriesData:function(t){var e=this.seriesItemBoundsData,i=this.seriesCount;e.length===i&&(e=[]),e.push(t),e.length===i&&(this.boundsBaseCoordinateModel=new a(e))},rerender:function(t){var e;t.axisDataMap.xAxis&&(e=this._pickTickCount(t.axisDataMap)),this.selectedData=null,this._setDataForRendering(t),this._renderMouseEventDetectorArea(this.mouseEventDetectorContainer,e)},resize:function(t){this.containerBound=null,this.rerender(t)},_isChangedSelectData:function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},_findDataFromBoundsCoordinateModel:function(t){var e,i=t.x,n=t.y;return e=r.isTreemapChart(this.chartType)?0:this.tickBaseCoordinateModel.findIndex(this.isVertical?i:n),this.boundsBaseCoordinateModel.findData(e,i,n)},_findData:function(t,e){var i=this._calculateLayerPosition(t,e);return this._findDataFromBoundsCoordinateModel(i)},_showTooltip:function(){},animateForAddingData:function(){var t,e;this.prevClientPosition&&(t=this._findData(this.prevClientPosition.x,this.prevClientPosition.y),t&&(e=this.prevFoundData&&this.prevFoundData.indexes.groupIndex===t.indexes.groupIndex,this._showTooltip(t,e)),this.prevFoundData=t)},_onMouseEvent:function(t,e){u.addClass(this.mouseEventDetectorContainer,"hide"),this.eventBus.fire(t+"Series",{left:e.clientX,top:e.clientY}),u.removeClass(this.mouseEventDetectorContainer,"hide")},_unselectSelectedData:function(){this.eventBus.fire("unselectSeries",this.selectedData),this.selectedData=null},_onClick:function(t){var e=this._findData(t.clientX,t.clientY);this._isChangedSelectData(this.selectedData,e)?e&&(this.selectedData&&this._unselectSelectedData(),this.eventBus.fire("selectSeries",e),this.allowSelect&&(this.selectedData=e)):this._unselectSelectedData()},_onMousedown:function(){},_onMouseup:function(){},_onMousemove:function(t){this.prevClientPosition={x:t.clientX,y:t.clientY}},_onMouseout:function(){this.prevClientPosition=null,this.prevFoundData=null},attachEvent:function(t){o.on(t,{click:this._onClick,mousedown:this._onMousedown,mouseup:this._onMouseup,mousemove:this._onMousemove,mouseout:this._onMouseout},this)}});tui.util.CustomEvents.mixin(l),t.exports=l},function(t,e,i){"use strict";var n=i(5),a=i(6),s=tui.util.defineClass({init:function(t,e,i,a,s){this.isLineType=n.isLineTypeChart(i,s),this.data=this._makeData(t,e,a)},_makeLineTypeData:function(t,e){var i=(t+1)/(e-1),n=i/2,a=tui.util.map(tui.util.range(0,e),function(t){return{min:t*i-n,max:t*i+n}});return a[e-1].max-=1,a},_makeNormalData:function(t,e){var i=e-1,n=t/i,s=0;return tui.util.map(tui.util.range(0,i),function(e){var i=a.min([t,(e+1)*n]),o={min:s,max:i};return s=i,o})},_makeData:function(t,e,i){var n,a=i?"width":"height";return n=this.isLineType?this._makeLineTypeData(t[a],e):this._makeNormalData(t[a],e)},findIndex:function(t){var e=-1;return tui.util.forEachArray(this.data,function(i,n){return!(i.min<t&&i.max>=t)||(e=n,!1)}),e},getLastIndex:function(){return this.data.length-1},makeRange:function(t){var e,i,n=this.data[t];return this.isLineType?(i=parseInt(n.max-(n.max-n.min)/2,10),e={start:i,end:i}):e={start:n.min,end:n.max},e}});t.exports=s},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(6),o=tui.util.defineClass({init:function(t){this.data=this._makeData(t)},_makeRectTypePositionData:function(t,e){var i=!a.isBoxTypeChart(e);return tui.util.map(t,function(t,n){return tui.util.map(t,function(t,a){var s;return t?(s=t.end,{sendData:{chartType:e,indexes:{groupIndex:n,index:a},allowNegativeTooltip:i,bound:s},bound:{left:s.left,top:s.top,right:s.left+s.width,bottom:s.top+s.height}}):null})})},_makeDotTypePositionData:function(t,e){return t?tui.util.map(s.pivot(t),function(t,i){return tui.util.map(t,function(t,a){return t?{sendData:{chartType:e,indexes:{groupIndex:i,index:a},bound:t},bound:{left:t.left-n.DOT_RADIUS,top:t.top-n.DOT_RADIUS,right:t.left+n.DOT_RADIUS,bottom:t.top+n.DOT_RADIUS}}:null})}):[]},_joinData:function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){var n;e[i]?(n=e[i].length,tui.util.forEachArray(t,function(t){t&&(t.sendData.indexes.legendIndex=t.sendData.indexes.index+n)}),e[i]=e[i].concat(t)):e[i]=t})}),e},_makeData:function(t){var e=this,i=tui.util.map(t,function(t){var i;return i=a.isLineTypeChart(t.chartType)?e._makeDotTypePositionData(t.data.groupPositions,t.chartType):e._makeRectTypePositionData(t.data.groupBounds,t.chartType)});return this._joinData(i)},_findCandidates:function(t,e,i){return tui.util.filter(t,function(t){var n,a,s=t&&t.bound,o=!1;return s&&(n=s.left<=e&&s.right>=e,a=s.top<=i&&s.bottom>=i,o=n&&a),o})},findData:function(t,e,i){var n,a=1e4,s=null;return t>-1&&this.data[t]&&(n=this._findCandidates(this.data[t],e,i),tui.util.forEachArray(n,function(t){var e=Math.abs(i-t.bound.top);a>e&&(a=e,s=t.sendData)})),s}});t.exports=o},function(t,e,i){"use strict";var n=i(46),a=i(2),s=i(20),o=i(23),r=i(31),u={_initForZoom:function(t){this.zoomable=t,this.dragStartIndexes=null,this.startClientPosition=null,this.startLayerX=null,this.dragSelectionElement=null,this.containerBound=null,this.isShowTooltipAfterZoom=!1,this.afterMouseup=!1,this.prevDistanceOfRange=null,this.reverseMove=null,this.resetZoomBtn=null},_showTooltipAfterZoom:function(){var t,e=this.isShowTooltipAfterZoom;this.isShowTooltipAfterZoom=!1,e&&this.dragStartIndexes&&(t=this.reverseMove?this._getFirstData(this.dragStartIndexes.index):this._getLastData(this.dragEndIndexes.index),t&&this._showTooltip(t))},_updateDimensionForDragSelection:function(t){o.renderDimension(t,{height:this.layout.dimension.height})},_renderDragSelection:function(){var t=s.create("DIV","tui-chart-drag-selection");return this._updateDimensionForDragSelection(t),t},render:function(t){var e=n.prototype.render.call(this,t),i=this._renderDragSelection();return s.append(e,i),this.dragSelectionElement=i,e},resize:function(t){this.containerBound=null,n.prototype.resize.call(this,t),this._updateDimensionForDragSelection(this.dragSelectionElement)},_onClick:function(){},_isAfterDragMouseup:function(){var t=this.afterMouseup;return t&&(this.afterMouseup=!1),t},_bindDragEvent:function(t){t.setCapture&&t.setCapture(),r.on(document,"mousemove",this._onDrag,this),r.off(this.mouseEventDetectorContainer,"mouseup",this._onMouseup,this),r.on(document,"mouseup",this._onMouseupAfterDrag,this)},_unbindDragEvent:function(){this.downTarget&&this.downTarget.releaseCapture&&this.downTarget.releaseCapture(),r.off(document,"mousemove",this._onDrag,this),r.off(document,"mouseup",this._onMouseupAfterDrag,this),r.on(this.mouseEventDetectorContainer,"mouseup",this._onMouseup,this)},_onMousedown:function(t){var e;this.zoomable&&(e=t.target||t.srcElement,this.startClientPosition={x:t.clientX,y:t.clientY},this.startLayerX=this._calculateLayerPosition(t.clientX).x,this.downTarget=e,this._bindDragEvent(e))},_showDragSelection:function(t){var e=this._calculateLayerPosition(t).x,i=Math.min(e,this.startLayerX),n=Math.abs(e-this.startLayerX),o=this.dragSelectionElement;o.style.left=i+a.SERIES_EXPAND_SIZE+"px",o.style.width=n+"px",s.addClass(o,"show")},_hideDragSelection:function(){s.removeClass(this.dragSelectionElement,"show")},_onDrag:function(t){var e=this.startClientPosition;tui.util.isNull(this.dragStartIndexes)?this.dragStartIndexes=this._findDataForZoomable(e.x,e.y).indexes:this._showDragSelection(t.clientX)},_adjustIndexRange:function(t,e){var i=[t,e].sort(function(t,e){return t-e}),n=i[1]-i[0];return 0===n?0===i[0]?i[1]+=2:(i[0]-=1,i[1]+=1):1===n&&(0===i[0]?i[1]+=1:i[0]-=1),i},_fireZoom:function(t,e){var i=t>e,n=this._adjustIndexRange(t,e),a=n[1]-n[0];this.prevDistanceOfRange!==a&&(this.prevDistanceOfRange=a,this.reverseMove=i,this.eventBus.fire("zoom",n))},_setIsShowTooltipAfterZoomFlag:function(t,e){var i=this._calculateLayerPosition(t,e,!1).x,n=this._calculateLayerPosition(t,e).x;this.isShowTooltipAfterZoom=i===n},_onMouseupAfterDrag:function(t){var e;this._unbindDragEvent(),tui.util.isNull(this.dragStartIndexes)?(e=t.target||t.srcElement,s.hasClass(e,a.CLASS_NAME_RESET_ZOOM_BTN)?(this._hideTooltip(),this.prevDistanceOfRange=null,this.eventBus.fire("resetZoom")):n.prototype._onClick.call(this,t)):(this.dragEndIndexes=this._findDataForZoomable(t.clientX,t.clientY).indexes,this._setIsShowTooltipAfterZoomFlag(t.clientX,t.clientY),this._hideDragSelection(),this._fireZoom(this.dragStartIndexes.groupIndex,this.dragEndIndexes.groupIndex)),this.startClientPosition=null,this.dragStartIndexes=null,this.startLayerX=null,this.afterMouseup=!0},_renderResetZoomBtn:function(){var t=s.create("DIV",a.CLASS_NAME_RESET_ZOOM_BTN);return t.innerHTML="Reset Zoom",t},zoom:function(t){this.prevFoundData=null,this.rerender(t),this._updateDimensionForDragSelection(this.dragSelectionElement),this.resetZoomBtn?t.isResetZoom&&(this.mouseEventDetectorContainer.removeChild(this.resetZoomBtn),this.resetZoomBtn=null):(this.resetZoomBtn=this._renderResetZoomBtn(),s.append(this.mouseEventDetectorContainer,this.resetZoomBtn))}};t.exports=u},function(t,e,i){"use strict";var n=i(5),a=i(6),s=Array.prototype.concat,o=tui.util.defineClass({init:function(t){this.data=this._makeData(t),this.lastGroupIndex=0},_makeData:function(t){var e=0,i=t.length,o=tui.util.map(t,function(t,s){var o=t.data.groupPositions||t.data.groupBounds,r=t.chartType;return(n.isLineTypeChart(r)||n.isRadialChart(r))&&(o=a.pivot(o)),e=Math.max(o.length-1,e),tui.util.map(o,function(t,e){return tui.util.map(t,function(t,n){var a=null;return t&&(a={chartType:r,indexes:{groupIndex:e,index:n},bound:t}),i>1&&(a.indexes.legendIndex=s),a})})});return o=s.apply([],o),this.lastGroupIndex=e,tui.util.filter(s.apply([],o),function(t){return!!t})},findData:function(t,e){var i,n=1e5;return e=e||Number.MAX_VALUE,tui.util.forEach(this.data,function(a){var s=t.x-a.bound.left,o=t.y-a.bound.top,r=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));r<e&&r<n&&(n=r,i=a)}),i},_findDataByIndexes:function(t,e){var i=null;return tui.util.forEachArray(this.data,function(n){return n.indexes.groupIndex===t&&n.indexes.index===e&&(i=n),!i}),i},getFirstData:function(t){return this._findDataByIndexes(0,t)},getLastData:function(t){return this._findDataByIndexes(this.lastGroupIndex,t)}});t.exports=o},function(t,e,i){"use strict";var n=i(46),a=i(2),s=i(5),o=i(20),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments),this.prevFoundData=null,this.zoomHistory=[-1],this.historyBackBtn=null},_attachToEventBus:function(){n.prototype._attachToEventBus.call(this),this.eventBus.on("afterZoom",this.onAfterZoom,this)},_hideTooltip:function(){this.eventBus.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null,this.styleCursor(!1)},styleCursor:function(t){var e=this.mouseEventDetectorContainer;t?e.style.cursor="pointer":e.style.cursor="default"},_onMousemove:function(t){var e,i=this._calculateLayerPosition(t.clientX,t.clientY),n=this._findDataFromBoundsCoordinateModel(i);this._isChangedSelectData(this.prevFoundData,n)&&(this.prevFoundData&&this._hideTooltip(),this.prevFoundData=n,n&&(s.isTreemapChart(this.chartType)&&(e=this._getSeriesItemByIndexes(n.indexes),this.styleCursor(e.hasChild)),this.eventBus.fire("showTooltip",n)))},_zoomHistoryBack:function(){var t=this.zoomHistory[this.zoomHistory.length-2];this.zoomHistory.pop(),this.eventBus.fire("zoom",t),1===this.zoomHistory.length&&(this.mouseEventDetectorContainer.removeChild(this.historyBackBtn),this.historyBackBtn=null)},_getSeriesItemByIndexes:function(t){var e=this.dataProcessor.getSeriesDataModel(a.CHART_TYPE_TREEMAP);return e.getSeriesItem(t.groupIndex,t.index,!0)},_onClick:function(t){var e,i,r,u=t.target||t.srcElement;if(n.prototype._onClick.call(this,t),s.isTreemapChart(this.chartType)){if(o.hasClass(u,a.CLASS_NAME_RESET_ZOOM_BTN))return this._hideTooltip(),void this._zoomHistoryBack();if(e=this._calculateLayerPosition(t.clientX,t.clientY),i=this._findDataFromBoundsCoordinateModel(e)){if(r=this._getSeriesItemByIndexes(i.indexes),!r.hasChild)return;this._hideTooltip(),this.eventBus.fire("zoom",i.indexes.index)}}},_onMouseout:function(t){var e=this.mouseEventDetectorContainer.getBoundingClientRect(),i=t.clientX,a=t.clientY;e.left<=i&&e.top<=a&&e.right>=i&&e.bottom>=a||(this.prevFoundData&&this._hideTooltip(),n.prototype._onMouseout.call(this))},onAfterZoom:function(t){this.historyBackBtn||(this.historyBackBtn=o.create("DIV",a.CLASS_NAME_RESET_ZOOM_BTN),this.historyBackBtn.innerHTML="< Back",o.append(this.mouseEventDetectorContainer,this.historyBackBtn)),this.zoomHistory[this.zoomHistory.length-1]!==t&&this.zoomHistory.push(t)}});t.exports=r},function(t,e,i){"use strict";var n=i(46),a=i(49),s=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.prevIndex=null,this.zoomable=t.zoomable,this.sizeType=this.isVertical?"height":"width",this.zoomable&&(tui.util.extend(this,a),this._initForZoom(t.zoomable))},initMouseEventDetectorData:function(t){n.prototype.initMouseEventDetectorData.call(this,t),this.zoomable&&this._showTooltipAfterZoom()},_findGroupData:function(t,e){var i,n=this._calculateLayerPosition(t,e,!0);return i=this.isVertical?n.x:n.y,{indexes:{groupIndex:this.tickBaseCoordinateModel.findIndex(i)}}},_findDataForZoomable:function(t,e){return this._findGroupData(t,e)},_getFirstData:function(){return{indexes:{groupIndex:0}}},_getLastData:function(){return{indexes:{groupIndex:this.tickBaseCoordinateModel.getLastIndex()}}},_isOuterPosition:function(t,e){var i=this.dimension;return t<0||t>i.width||e<0||e>i.height},_showTooltip:function(t,e){var i=t.indexes.groupIndex;this.prevIndex=i,this.eventBus.fire("showTooltip",{index:i,range:this.tickBaseCoordinateModel.makeRange(i),size:this.dimension[this.sizeType],isVertical:this.isVertical,isMoving:e})},_hideTooltip:function(){this.eventBus.fire("hideTooltip",this.prevIndex),this.prevIndex=null},_onMousemove:function(t){var e,i;n.prototype._onMousemove.call(this,t),this.zoomable&&this._isAfterDragMouseup()||(e=this._findGroupData(t.clientX,t.clientY),i=e.indexes.groupIndex,i===-1?this._onMouseout(t):this.prevIndex!==i&&this._showTooltip(e))},_onMouseout:function(t){var e;e=this._calculateLayerPosition(t.clientX,t.clientY,!1),this._isOuterPosition(e.x,e.y)&&!tui.util.isNull(this.prevIndex)&&this._hideTooltip(),n.prototype._onMouseout.call(this)}});t.exports=s},function(t,e,i){"use strict";var n=i(46),a=i(2),s=i(31),o=i(20),r=i(23),u=tui.util.defineClass(n,{init:function(t){this.chartType=t.chartType,this.eventBus=t.eventBus,this.isDown=!1},_renderMouseEventDetectorArea:function(t){r.renderDimension(t,this.layout.dimension),r.renderPosition(t,this.layout.position)},_onClick:function(){},_onMousedown:function(t){this.isDown=!0,this.eventBus.fire("dragStartMapSeries",{left:t.clientX,top:t.clientY})},_dragEnd:function(){this.isDrag=!1,o.removeClass(this.mouseEventDetectorContainer,"drag"),this.eventBus.fire("dragEndMapSeries")},_onMouseup:function(t){this.isDown=!1,this.isDrag?this._dragEnd():this._onMouseEvent("click",t),this.isMove=!1},_onMousemove:function(t){this.isDown?(this.isDrag||o.addClass(this.mouseEventDetectorContainer,"drag"),this.isDrag=!0,this.eventBus.fire("dragMapSeries",{left:t.clientX,top:t.clientY})):(this.isMove=!0,this._onMouseEvent("move",t))},_onMouseout:function(t){this.isDrag?this._dragEnd():this._onMouseEvent("move",t),this.isDown=!1},_onMousewheel:function(t){var e=t.wheelDelta||t.detail*a.FF_WHEELDELTA_ADJUSTING_VALUE;return this.eventBus.fire("wheel",e,{left:t.clientX,top:t.clientY}),t.preventDefault&&t.preventDefault(),!1},attachEvent:function(t){n.prototype.attachEvent.call(this,t),tui.util.browser.firefox?s.on(t,"DOMMouseScroll",this._onMousewheel,this):s.on(t,"mousewheel",this._onMousewheel,this)}});t.exports=u},function(t,e,i){"use strict";var n=i(46),a=i(23),s=tui.util.defineClass(n,{init:function(t){this.chartType=t.chartType,this.eventBus=t.eventBus},_renderMouseEventDetectorArea:function(t){a.renderDimension(t,this.layout.dimension),a.renderPosition(t,this.layout.position)},onReceiveSeriesData:function(){},_onClick:function(t){this._onMouseEvent("click",t)},_onMousemove:function(t){this._onMouseEvent("move",t)},_onMouseout:function(t){this._onMouseEvent("move",t)}});t.exports=s},function(t,e,i){"use strict";var n=i(56),a=i(59),s=i(2),o=i(5),r=i(23),u=i(22),h=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t,e,i,n,a){return{start:{top:i,left:n,width:0,height:e},end:{top:i,left:a,width:t,height:e}}},_calculateAdditionalLeft:function(t){var e=0;return this.options.divided&&t>0&&(e=this.dimensionMap.yAxis.width+s.OVERLAPPING_WIDTH),e},_makeBarChartBound:function(t,e,i,n,a){var o,r,u,h,l=t.baseBarSize*n.ratioDistance,c=this._calculateAdditionalLeft(n.value),d=t.baseBarSize*n.startRatio,p=t.basePosition+d+c+s.SERIES_EXPAND_SIZE,f=n.stack!==e.prevStack;return(!i||!this.options.diverging&&f)&&(o=i?this.dataProcessor.findStackIndex(n.stack):a,e.top=e.baseTop+t.pointInterval*o,e.plusLeft=0,e.minusLeft=0),n.value>=0?(r=p+e.plusLeft,e.plusLeft+=l):(e.minusLeft-=l,r=p+e.minusLeft),e.prevStack=n.stack,h=e.top+t.pointInterval-t.barSize/2,u=this._makeBound(l,t.barSize,h,p,r)},_makeBounds:function(){var t=this,e=this._getSeriesDataModel(),i=o.isValidStackOption(this.options.stackType),n=this.layout.dimension,a=this._makeBaseDataForMakingBound(n.height,n.width);return e.map(function(e,n){var o=n*a.groupSize+s.SERIES_EXPAND_SIZE,r={baseTop:o,top:o,plusLeft:0,minusLeft:0,prevStack:null},u=tui.util.bind(t._makeBarChartBound,t,a,r,i);return e.map(u)})},_calculateTopPositionOfSumLabel:function(t,e){return t.top+(t.height-e+s.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,a,o,h="";return e&&(n=u.sumPlusValues(t),a=this.dataProcessor.getFormatFunctions(),o=r.formatValue(n,a,this.chartType,"series"),h=this._makeSeriesLabelHtml({left:e.left+e.width+s.SERIES_LABEL_PADDING,top:this._calculateTopPositionOfSumLabel(e,i)},o,-1)),h},_makeMinusSumLabelHtml:function(t,e,i){var n,a,o,h,l="";return e&&(n=u.sumMinusValues(t),this.options.diverging&&(n=Math.abs(n)),a=this.dataProcessor.getFormatFunctions(),o=r.formatValue(n,a,this.chartType,"series"),h=r.getRenderedLabelWidth(o,this.theme.label),l=this._makeSeriesLabelHtml({left:e.left-h-s.SERIES_LABEL_PADDING,top:this._calculateTopPositionOfSumLabel(e,i)},o,-1)),l}});a.mixin(h),t.exports=h},function(t,e,i){"use strict";var n=1e3,a="easeInQuint",s=i(57),o=i(2),r=i(20),u=i(5),h=i(23),l=i(7),c=tui.component.animation,d=tui.util.defineClass({className:"tui-chart-series-area",init:function(t){var e=t.libType||o.DEFAULT_PLUGIN;this.chartType=t.chartType,this.seriesName=t.seriesName||t.chartType,this.componentType=t.componentType,this.dataProcessor=t.dataProcessor,this.eventBus=t.eventBus,this.chartBackground=t.chartBackground,this.options=t.options||{},this.orgTheme=this.theme=t.theme[this.seriesName],this.graphRenderer=l.get(e,t.chartType),this.seriesContainer=null,this.seriesLabelContainer=null,this.seriesData=[],this.selectedLegendIndex=null,this.labelShowEffector=null,this.paper=null,this.limit=null,this.aligned=null,this.layout=null,this.dimensionMap=null,this.positionMap=null,this.axisDataMap=null,this.beforeAxisDataMap=null,this._attachToEventBus()},_attachToEventBus:function(){this.eventBus.on({selectLegend:this.onSelectLegend,selectSeries:this.onSelectSeries,unselectSeries:this.onUnselectSeries,hoverSeries:this.onHoverSeries,hoverOffSeries:this.onHoverOffSeries,showGroupAnimation:this.onShowGroupAnimation,hideGroupAnimation:this.onHideGroupAnimation},this),this.onShowTooltip&&this.eventBus.on("showTooltip",this.onShowTooltip,this),this.onShowGroupTooltipLine&&this.eventBus.on({showGroupTooltipLine:this.onShowGroupTooltipLine,hideGroupTooltipLine:this.onHideGroupTooltipLine},this),this.onClickSeries&&this.eventBus.on({clickSeries:this.onClickSeries,moveSeries:this.onMoveSeries},this)},_getSeriesDataModel:function(){return this.dataProcessor.getSeriesDataModel(this.seriesName)},_makeSeriesData:function(){},getSeriesData:function(){return this.seriesData},_renderSeriesLabel:function(){},_renderSeriesLabelArea:function(t){var e;return t||(t=r.create("div","tui-chart-series-label-area")),u.isChartToDetectMouseEventOnSeries(this.chartType)||(e=this.dimensionMap.extendedSeries,h.renderDimension(t,e)),this._renderSeriesLabel(t),t},_appendLabelContainer:function(t,e){this.seriesLabelContainer=e,r.append(t,e)},_sendBoundsToMouseEventDetector:function(t){this.eventBus.fire("receiveSeriesData",{chartType:this.chartType,data:t})},_renderSeriesArea:function(t,e,i){var n,a,s,o;return n=this.dimensionMap.extendedSeries,a=this.positionMap.extendedSeries,this.seriesData=s=this._makeSeriesData(),this._sendBoundsToMouseEventDetector(s),e||h.renderDimension(t,n),this._renderPosition(t,a),(this.hasDataForRendering(s)||"map"===this.chartType)&&(i&&(e=i(n,s,e)),u.isShowLabel(this.options)&&(o=this._renderSeriesLabelArea(this.seriesLabelContainer),this._appendLabelContainer(t,o))),e},_makeParamsForGraphRendering:function(t,e){return tui.util.extend({dimension:t,chartType:this.seriesName,theme:this.theme,options:this.options},e)},_renderGraph:function(t,e,i){var n=this._makeParamsForGraphRendering(t,e);return this.graphRenderer.render(this.seriesContainer,n,i)},_setDataForRendering:function(t){this.paper=t.paper,this.limit=t.limitMap[this.chartType],t.axisDataMap&&t.axisDataMap.xAxis&&(this.aligned=t.axisDataMap.xAxis.aligned),this.layout=t.layout,this.dimensionMap=t.dimensionMap,this.positionMap=t.positionMap,this.axisDataMap=t.axisDataMap},render:function(t){var e,i,n=r.create("DIV",this.className);return this.seriesContainer=n,this._setDataForRendering(t),this.beforeAxisDataMap=this.axisDataMap,t.checkedLegends&&(e=t.checkedLegends[this.seriesName],this.theme=this._getCheckedSeriesTheme(this.orgTheme,e)),i=this._renderSeriesArea(n,t.paper,tui.util.bind(this._renderGraph,this)),{container:n,paper:i}},_getCheckedSeriesTheme:function(t,e){var i;return e.length?(i=JSON.parse(JSON.stringify(t)),i.colors=tui.util.filter(i.colors,function(t,i){return e[i]}),i):t},_clearSeriesContainer:function(t){this.graphRenderer.clear&&!t&&this.graphRenderer.clear(),this.seriesContainer.innerHTML="",this.seriesLabelContainer=null,this.seriesData=[]},rerender:function(t){var e,i;return this._clearSeriesContainer(),this.dataProcessor.getGroupCount(this.seriesName)&&(t.checkedLegends&&(e=t.checkedLegends[this.seriesName],this.theme=this._getCheckedSeriesTheme(this.orgTheme,e)),this._setDataForRendering(t),i=this._renderSeriesArea(this.seriesContainer,t.paper,tui.util.bind(this._renderGraph,this)),this.labelShowEffector&&clearInterval(this.labelShowEffector.timerId),e?this.animateComponent(!0):this._showGraphWithoutAnimation(),tui.util.isNull(this.selectedLegendIndex)||this.graphRenderer.selectLegend(this.selectedLegendIndex)),{container:this.seriesContainer,paper:i}},_isLabelVisible:function(){return this.seriesLabelContainer&&(this.options.showLabel||this.options.showLegend)},_showSeriesLabelWithoutAnimation:function(){r.addClass(this.seriesLabelContainer,"show opacity")},_showGraphWithoutAnimation:function(){this.graphRenderer.showGraph(),this._isLabelVisible()&&this._showSeriesLabelWithoutAnimation()},_resizeGraph:function(t,e){this.graphRenderer.resize(tui.util.extend({dimension:t},e))},resize:function(t){this._setDataForRendering(t),this._renderSeriesArea(this.seriesContainer,t.paper,tui.util.bind(this._resizeGraph,this))},_renderPosition:function(t,e){var i=h.isOldBrowser()?1:0;h.renderPosition(t,{top:e.top-i,left:e.left-2*i})},_getLimitDistanceFromZeroPoint:function(t,e){var i=e.min,n=e.max,a=n-i,s=0,o=0;return i<=0&&n>=0?(s=(a+i)/a*t,o=(a-n)/a*t):i>0&&(s=t),{toMax:s,toMin:o}},_findLabelElement:function(t){var e=null;return e=r.hasClass(t,o.CLASS_NAME_SERIES_LABEL)?t:r.findParentByClass(t,o.CLASS_NAME_SERIES_LABEL)},onHoverSeries:function(t,e){e===this.chartType&&this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},onHoverOffSeries:function(t,e){e===this.chartType&&this.graphRenderer.hideAnimation&&t&&this.graphRenderer.hideAnimation(t)},onShowGroupAnimation:function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},onHideGroupAnimation:function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},animateComponent:function(t){this.graphRenderer.animate?this.graphRenderer.animate(tui.util.bind(this.animateSeriesLabelArea,this,t)):this.animateSeriesLabelArea(t)},_makeSeriesLabelHtml:function(t,e,i,n,a){var o=this.theme.label,r=this.selectedLegendIndex;return s.makeSeriesLabelHtml(t,e,o,i,r,n,a)},_fireLoadEvent:function(t){t||this.eventBus.fire(o.PUBLIC_EVENT_PREFIX+"load")},animateSeriesLabelArea:function(t){var e,i=this;return this._isLabelVisible()?void(h.isIE7()?(this._showSeriesLabelWithoutAnimation(),this._fireLoadEvent(t)):(r.addClass(this.seriesLabelContainer,"show"),e=this.seriesLabelContainer.style,this.labelShowEffector=c.anim({from:0,to:100,easing:a,duration:n,frame:function(t){e.opacity=t},complete:function(){i.labelShowEffector&&(i.labelShowEffector=null),r.addClass(i.seriesLabelContainer,"opacity"),i._fireLoadEvent(t)}}),this.labelShowEffector.run())):void this._fireLoadEvent(t)},_makeExportationSeriesData:function(t){var e,i=t.indexes,n=tui.util.isExisty(i.legendIndex)?i.legendIndex:i.index,a=this.dataProcessor.getLegendItem(n),s=i.groupIndex,o={chartType:a.chartType,legend:a.label,legendIndex:n};return tui.util.isExisty(s)&&(e=this._getSeriesDataModel().getSeriesItem(s,i.index),o.index=e.index),o},_executeGraphRenderer:function(t,e){var i,n=!1;return this.eventBus.fire("hideTooltipContainer"),this.seriesLabelContainer&&r.hasClass(this.seriesLabelContainer,"show")&&(r.removeClass(this.seriesLabelContainer,"show"),n=!0),i=this.graphRenderer[e](t),n&&r.addClass(this.seriesLabelContainer,"show"),this.eventBus.fire("showTooltipContainer"),i},onSelectSeries:function(t,e){var i;t.chartType===this.chartType&&(i=o.PUBLIC_EVENT_PREFIX+"selectSeries",this.eventBus.fire(i,this._makeExportationSeriesData(t)),e=!!tui.util.isEmpty(e)||e,this.options.allowSelect&&this.graphRenderer.selectSeries&&e&&this.graphRenderer.selectSeries(t.indexes))},onUnselectSeries:function(t){var e;t.chartType===this.chartType&&(e=o.PUBLIC_EVENT_PREFIX+"unselectSeries",this.eventBus.fire(e,this._makeExportationSeriesData(t)),this.options.allowSelect&&this.graphRenderer.unselectSeries&&this.graphRenderer.unselectSeries(t.indexes))},onSelectLegend:function(t,e){this.seriesName===t||tui.util.isNull(e)||(e=-1),this.selectedLegendIndex=e,this._getSeriesDataModel().getGroupCount()&&(this._renderSeriesArea(this.seriesContainer,this.paper),this.graphRenderer.selectLegend(e))},showLabel:function(){var t;this.options.showLabel=!0,this.seriesLabelContainer||(t=this._renderSeriesLabelArea(),this._appendLabelContainer(this.seriesContainer,t)),this._showSeriesLabelWithoutAnimation()},hideLabel:function(){this.options.showLabel=!1,this.seriesLabelContainer&&(r.removeClass(this.seriesLabelContainer,"show"),r.removeClass(this.seriesLabelContainer,"opacity"))},hasDataForRendering:function(t){return!(!t||!t.isAvailable())}});t.exports=d},function(t,e,i){"use strict";var n=i(2),a=i(23),s=i(58),o={_calculateLeftPositionForCenterAlign:function(t,e){return t.left+(t.width-e)/2},_calculateTopPositionForMiddleAlign:function(t,e){return t.top+(t.height-e+n.TEXT_PADDING)/2},_makePositionForBoundType:function(t,e,i,n){var s=a.getRenderedLabelWidth(i,n);return{left:this._calculateLeftPositionForCenterAlign(t,s),top:this._calculateTopPositionForMiddleAlign(t,e)
}},_makePositionMap:function(t,e,i,n,a){var s=t.value,o=s>=0,r={end:a(e,i,t.endLabel||t.label,n,o)};return t.isRange&&(o=s<0,r.start=a(e,i,t.startLabel,n,o)),r},boundsToLabelPositions:function(t,e,i,s,o){var r=this,u=a.getRenderedLabelHeight(n.MAX_HEIGHT_WORLD,i);return s=s||tui.util.bind(this._makePositionForBoundType,this),o=!!o,t.map(function(t,n){var a=e[n];return t.map(function(t,e){var n=a[e].end;return r._makePositionMap(t,n,u,i,s)})},o)},_makePositionForBarChart:function(t,e,i,s,o){var r=a.getRenderedLabelWidth(i,s),u=t.left;return o?u+=t.width+n.SERIES_LABEL_PADDING:u-=r+n.SERIES_LABEL_PADDING,{left:u,top:this._calculateTopPositionForMiddleAlign(t,e)}},boundsToLabelPositionsForBarChart:function(t,e,i){var n=tui.util.bind(this._makePositionForBarChart,this);return this.boundsToLabelPositions(t,e,i,n)},_makePositionForColumnChart:function(t,e,i,s,o){var r=a.getRenderedLabelWidth(i,s),u=t.top;return o?u-=e+n.SERIES_LABEL_PADDING:u+=t.height+n.SERIES_LABEL_PADDING,{left:this._calculateLeftPositionForCenterAlign(t,r),top:u}},boundsToLabelPositionsForColumnChart:function(t,e,i){var n=tui.util.bind(this._makePositionForColumnChart,this);return this.boundsToLabelPositions(t,e,i,n)},_makeLabelCssText:function(t,e,i,o,r){var u=tui.util.extend(t,e);return r=r||s.tplCssText,tui.util.isExisty(o)&&o!==i?u.opacity=a.makeOpacityCssText(n.SERIES_LABEL_OPACITY):u.opacity="",r(u)},makeSeriesLabelHtml:function(t,e,i,n,a,o,r){var u=this._makeLabelCssText(t,i,n,a,o),h="";return r&&(h=' data-range="true"'),s.tplSeriesLabel({label:e,cssText:u,rangeLabelAttribute:h})},makeLabelsHtmlForBoundType:function(t,e,i,n,a){var s=tui.util.bind(this.makeSeriesLabelHtml,this),o=t.map(function(t,a){return t.map(function(t,o){var r=e[a][o],u=s(r.end,t.endLabel,i,o,n);return r.start&&(u+=s(r.start,t.startLabel,i,o,n)),u}).join("")},!!a).join("");return o},makeLabelsHtmlForTreemap:function(t,e,i,s,o){var r=this,u=a.getRenderedLabelHeight(n.MAX_HEIGHT_WORLD,i),h=tui.util.map(t,function(t,n){var h,l,c,d=e[t.id],p="";return d&&(l=s(t)?-1:null,o?(c=o(t.pickLabelTemplateData()),u=a.getRenderedLabelHeight(c,i)):c=t.label,h=r._makePositionForBoundType(d,u,c,i,t.value>=0),p=r.makeSeriesLabelHtml(h,c,i,n,l)),p}).join("");return h}};t.exports=o},function(t,e,i){"use strict";var n=i(25),a={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}"{{ rangeLabelAttribute }}>{{ label }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px;font-weight:{{ fontWeight }}{{opacity}}",TEXT_CSS_TEXT_FOR_LINE_TYPE:"left:{{ left }}%;top:{{ top }}%;font-family:{{ fontFamily }};font-size:{{ fontSize }}px;font-weight:{{ fontWeight }}{{opacity}}",HTML_ZOOM_BUTTONS:'<a class="tui-chart-zoom-btn" href="#" data-magn="2"><div class="horizontal-line"></div><div class="vertical-line"></div></a><a class="tui-chart-zoom-btn" href="#" data-magn="0.5"><div class="horizontal-line"></div></a>',HTML_SERIES_BLOCK:'<div class="tui-chart-series-block" style="{{ cssText }}">{{ label }}</div>'};t.exports={tplSeriesLabel:n.template(a.HTML_SERIES_LABEL),tplCssText:n.template(a.TEXT_CSS_TEXT),tplCssTextForLineType:n.template(a.TEXT_CSS_TEXT_FOR_LINE_TYPE),ZOOM_BUTTONS:a.HTML_ZOOM_BUTTONS,tplSeriesBlock:n.template(a.HTML_SERIES_BLOCK)}},function(t,e,i){"use strict";var n=i(2),a=i(57),s=i(5),o=i(22),r=i(23),u=.8,h=tui.util.defineClass({_makeSeriesData:function(){var t=this._makeBounds(this.layout.dimension);return this.groupBounds=t,{groupBounds:t,seriesDataModel:this._getSeriesDataModel(),isAvailable:function(){return t&&t.length>0}}},_getBarWidthOptionSize:function(t,e){var i=0;return e&&(e/2>=t?e=2*t:e<0&&(e=0),i=e),i},_calculateAdditionalPosition:function(t,e,i){var n=0;return e&&e<t&&(n=t/2+(t-e)*i/2),n},_makeBaseDataForMakingBound:function(t,e){var i,n,a,o,r,h,l=s.isValidStackOption(this.options.stackType),c=this._getSeriesDataModel(),d=t/c.getGroupCount();return c.rawSeriesData.length>0&&(i=l?this.options.diverging?1:this.dataProcessor.getStackCount(this.seriesName):c.getFirstSeriesGroup().getSeriesItemCount(),r=d/(i+1),n=r*u,a=this.options.barWidth,n=this._getBarWidthOptionSize(r,a)||n,o=this._getLimitDistanceFromZeroPoint(e,this.limit).toMin,s.isColumnChart(this.chartType)&&(o=e-o),h={baseBarSize:e,groupSize:d,barSize:n,pointInterval:r,firstAdditionalPosition:r,basePosition:o}),h},_renderNormalSeriesLabel:function(t){var e,i,n=this._getSeriesDataModel(),o=this.seriesData.groupBounds,r=this.theme.label,u=this.selectedLegendIndex;e=s.isBarChart(this.chartType)?a.boundsToLabelPositionsForBarChart(n,o,r):a.boundsToLabelPositionsForColumnChart(n,o,r),i=a.makeLabelsHtmlForBoundType(n,e,r,u),t.innerHTML=i},_makeSumValues:function(t){var e=o.sum(t);return r.formatValue(e,this.dataProcessor.getFormatFunctions(),this.chartType,"seires")},_makeStackedLabelPosition:function(t,e,i){var a=r.getRenderedLabelWidth(e,this.theme.label),s=t.left+(t.width-a+n.TEXT_PADDING)/2,o=t.top+(t.height-i+n.TEXT_PADDING)/2;return{left:s,top:o}},_makeStackedLabelsHtml:function(t){var e,i,n,a=this,o=t.seriesGroup,r=t.labelHeight,u=o.map(function(n,s){var o,r,u=t.bounds[s],h="";return u&&n&&(o=u.end,r=a._makeStackedLabelPosition(o,n.label,t.labelHeight),h=a._makeSeriesLabelHtml(r,n.label,s)),n.value>0?e=o:n.value<0&&(i=o),h});return s.isNormalStack(this.options.stackType)&&(n=o.pluck("value"),u.push(this._makePlusSumLabelHtml(n,e,r)),u.push(this._makeMinusSumLabelHtml(n,i,r))),u.join("")},_renderStackedSeriesLabel:function(t){var e=this,i=this.seriesData.groupBounds,a=this._getSeriesDataModel(),s=r.getRenderedLabelHeight(n.MAX_HEIGHT_WORLD,this.theme.label),o=a.map(function(t,n){var a=e._makeStackedLabelsHtml({groupIndex:n,seriesGroup:t,bounds:i[n],labelHeight:s});return a}).join("");t.innerHTML=o},_renderSeriesLabel:function(t){this.options.stackType?this._renderStackedSeriesLabel(t):this._renderNormalSeriesLabel(t)}});h.mixin=function(t){tui.util.extend(t.prototype,h.prototype)},t.exports=h},function(t,e,i){"use strict";var n=i(56),a=i(59),s=i(2),o=i(5),r=i(23),u=i(22),h=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBound:function(t,e,i,n,a){return{start:{top:n,left:i,width:t,height:0},end:{top:a,left:i,width:t,height:e}}},_makeColumnChartBound:function(t,e,i,n,a){var o,r,u,h,l=Math.abs(t.baseBarSize*n.ratioDistance),c=t.baseBarSize*n.startRatio,d=t.basePosition-c+s.SERIES_EXPAND_SIZE,p=n.stack!==e.prevStack;return(!i||!this.options.diverging&&p)&&(o=i?this.dataProcessor.findStackIndex(n.stack):a,e.left=e.baseLeft+t.pointInterval*o,e.plusTop=0,e.minusTop=0),n.value>=0?(e.plusTop-=l,r=d+e.plusTop):(r=d+e.minusTop,e.minusTop+=l),e.prevStack=n.stack,h=e.left+t.pointInterval-t.barSize/2,u=this._makeBound(t.barSize,l,h,d,r)},_makeBounds:function(){var t=this,e=this._getSeriesDataModel(),i=o.isValidStackOption(this.options.stackType),n=this.layout.dimension,a=this._makeBaseDataForMakingBound(n.width,n.height);return e.map(function(e,n){var o=n*a.groupSize+s.SERIES_EXPAND_SIZE,r={baseLeft:o,left:o,plusTop:0,minusTop:0,prevStack:null},u=tui.util.bind(t._makeColumnChartBound,t,a,r,i);return e.map(u)})},_calculateLeftPositionOfSumLabel:function(t,e){var i=r.getRenderedLabelWidth(e,this.theme.label);return t.left+(t.width-i+s.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,a,o,h="";return e&&(n=u.sumPlusValues(t),a=this.dataProcessor.getFormatFunctions(),o=r.formatValue(n,a,this.chartType,"series"),h=this._makeSeriesLabelHtml({left:this._calculateLeftPositionOfSumLabel(e,o),top:e.top-i-s.SERIES_LABEL_PADDING},o,-1)),h},_makeMinusSumLabelHtml:function(t,e){var i,n,a,o="";return e&&(i=u.sumMinusValues(t),this.options.diverging&&(i=Math.abs(i)),n=this.dataProcessor.getFormatFunctions(),a=r.formatValue(i,n,this.chartType,"series"),o=this._makeSeriesLabelHtml({left:this._calculateLeftPositionOfSumLabel(e,a),top:e.top+e.height+s.SERIES_LABEL_PADDING},a,-1)),o},render:function(t){var e;return delete t.paper,e=n.prototype.render.call(this,t),delete e.paper,e}});a.mixin(h),t.exports=h},function(t,e,i){"use strict";var n=i(56),a=i(62),s=tui.util.defineClass(n,{init:function(){n.apply(this,arguments),this.movingAnimation=null},_makePositions:function(t){return this._makeBasicPositions(t)},_makeSeriesData:function(){var t=this._makePositions();return{chartBackground:this.chartBackground,groupPositions:t,isAvailable:function(){return t&&t.length>0}}},rerender:function(t){var e;return this._cancelMovingAnimation(),e=n.prototype.rerender.call(this,t)}});a.mixin(s),t.exports=s},function(t,e,i){"use strict";var n=i(58),a=i(2),s=i(5),o=i(22),r=i(23),u=Array.prototype.concat,h=tui.util.defineClass({_makePositionsForDefaultType:function(t){var e,i=this.layout.dimension,n=this._getSeriesDataModel(),s=t||i.width||0,o=i.height,r=n.getGroupCount(),u=a.SERIES_EXPAND_SIZE;return this.aligned?e=s/(r-1):(e=s/r,u+=e/2),n.map(function(t){return t.map(function(t,i){var n;return tui.util.isNull(t.end)||(n={left:u+e*i,top:o-t.ratio*o+a.SERIES_EXPAND_SIZE},tui.util.isExisty(t.startRatio)&&(n.startTop=o-t.startRatio*o+a.SERIES_EXPAND_SIZE)),n})},!0)},_makePositionForCoordinateType:function(t){var e=this.layout.dimension,i=this._getSeriesDataModel(),n=t||e.width||0,s=e.height,r=this.axisDataMap.xAxis,u=0;return r.sizeRatio&&(u=o.multiply(n,r.positionRatio),n=o.multiply(n,r.sizeRatio)),i.map(function(t){return t.map(function(t){var e;return tui.util.isNull(t.end)||(e={left:t.ratioMap.x*n+u+a.SERIES_EXPAND_SIZE,top:s-t.ratioMap.y*s+a.SERIES_EXPAND_SIZE},tui.util.isExisty(t.ratioMap.start)&&(e.startTop=s-t.ratioMap.start*s+a.SERIES_EXPAND_SIZE)),e})},!0)},_makeBasicPositions:function(t){var e;return e=this.dataProcessor.isCoordinateType()?this._makePositionForCoordinateType(t):this._makePositionsForDefaultType(t)},_calculateLabelPositionTop:function(t,e,i,n){var o,r=t.top;return o=s.isValidStackOption(this.options.stackType)?(t.startTop+r-i)/2+1:e>=0&&!n||e<0&&n?r-i-a.SERIES_LABEL_PADDING:r+a.SERIES_LABEL_PADDING},_makeLabelPosition:function(t,e,i,n,a){var s=r.getRenderedLabelWidth(i,this.theme.label),o=this.dimensionMap.extendedSeries;return{left:(t.left-s/2)/o.width*100,top:this._calculateLabelPositionTop(t,n,e,a)/o.height*100}},_makeSeriesLabelHtmlForLineType:function(t,e,i,a,s){var o,r,u=tui.util.extend({},this.seriesData.groupPositions[t][e]);return s?(o=i.startLabel,u.top=u.startTop):o=i.endLabel||i.label,r=this._makeLabelPosition(u,a,o,i.value||i.y,s),this._makeSeriesLabelHtml(r,o,t,n.tplCssTextForLineType,s)},_renderSeriesLabel:function(t){var e=this,i=this._getSeriesDataModel(),n=i.getFirstItemLabel(),a=r.getRenderedLabelHeight(n,this.theme.label),s=i.map(function(t,i){return t.map(function(t,n){var s=e._makeSeriesLabelHtmlForLineType(i,n,t,a);return t.isRange&&(s+=e._makeSeriesLabelHtmlForLineType(i,n,t,a,!0)),s}).join("")},!0);t.innerHTML=s.join("")},onShowGroupTooltipLine:function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t)},onHideGroupTooltipLine:function(){this.seriesData.length&&this.seriesData.isAvailable()&&this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()},zoom:function(t){var e;return this._cancelMovingAnimation(),this._clearSeriesContainer(t.paper),this._setDataForRendering(t),e=this._renderSeriesArea(this.seriesContainer,t.paper,tui.util.bind(this._renderGraph,this)),this._showGraphWithoutAnimation(),tui.util.isNull(this.selectedLegendIndex)||this.graphRenderer.selectLegend(this.selectedLegendIndex),{container:this.seriesContainer,paper:e}},_isChangedLimit:function(t,e){return t.min!==e.min||t.max!==e.max},_isChangedAxisLimit:function(){var t=this.beforeAxisDataMap,e=this.axisDataMap,i=!0;return t&&(i=this._isChangedLimit(t.yAxis.limit,e.yAxis.limit),e.xAxis.limit&&(i=i||this._isChangedLimit(t.xAxis.limit,e.xAxis.limit))),this.beforeAxisDataMap=e,i},_animate:function(t){var e=this,i=a.ADDING_DATA_ANIMATION_DURATION,n=this._isChangedAxisLimit();n&&this.seriesLabelContainer&&(this.seriesLabelContainer.innerHTML=""),t&&(this.movingAnimation=r.startAnimation(i,t,function(){e.movingAnimation=null}))},_pickFirstLabelElements:function(){var t,e=this.dataProcessor.getCategoryCount(),i=this.seriesLabelContainer,n=i.childNodes,a=[];return tui.util.forEachArray(n,function(t){t.getAttribute("data-range")||a.push(t)}),a=tui.util.filter(a,function(t,i){return(parseInt(i,10)+1)%e===1}),t=tui.util.map(a,function(t){var e=t.nextSibling,i=[t];return e&&e.getAttribute("data-range")&&i.push(e),i}),u.apply([],t)},_hideFirstLabels:function(){var t,e=this.seriesLabelContainer;e&&(t=this._pickFirstLabelElements(),tui.util.forEachArray(t,function(t){e.removeChild(t)}))},_animateForMoving:function(t){var e=this.graphRenderer,i=this.seriesContainer.childNodes,n=this.dimensionMap.extendedSeries.width,a=0;this._hideFirstLabels(),i.length&&(a=parseInt(i[0].style.left,10)||0),this._animate(function(s){var o=t*s;tui.util.forEachArray(i,function(t){t.style.left=a-o+"px"}),e.setSize(n+o)})},_animateForResizing:function(t){var e,i,n=this.seriesLabelContainer;n&&(i=this.dimensionMap.extendedSeries.width,this.dataProcessor.isCoordinateType()||(e=function(e){var a=t*e;n.style.width=i-a+"px"}),this._animate(e))},_makeZeroTopForAddingData:function(){var t=this.layout.dimension.height,e=this.axisDataMap.yAxis.limit;return this._getLimitDistanceFromZeroPoint(t,e).toMax+a.SERIES_EXPAND_SIZE},animateForAddingData:function(t){var e,i,n,a,s=this.dimensionMap.extendedSeries,o=this.layout.dimension.width,r=t.tickSize,u=this.options.shifting;this.limit=t.limitMap[this.chartType],this.axisDataMap=t.axisDataMap,e=this._makeSeriesData(),i=this._makeParamsForGraphRendering(s,e),u&&(o+=r),n=this._makePositions(o),a=this._makeZeroTopForAddingData(),this.graphRenderer.animateForAddingData(i,r,n,u,a),u?this._animateForMoving(r):this._animateForResizing(r)},_cancelMovingAnimation:function(){this.movingAnimation&&(cancelAnimationFrame(this.movingAnimation.id),this.movingAnimation=null)}});h.mixin=function(t){tui.util.extend(t.prototype,h.prototype)},t.exports=h},function(t,e,i){"use strict";var n=i(56),a=i(2),s=i(29),o=tui.util.defineClass(n,{init:function(){n.apply(this,arguments),this.options=tui.util.extend({showDot:!0,showArea:!0},this.options),this.movingAnimation=null},_makePositionsForRadial:function(t,e){var i,n=this.layout.dimension,o=n.width-a.RADIAL_PLOT_PADDING-a.RADIAL_MARGIN_FOR_CATEGORY,r=n.height-a.RADIAL_PLOT_PADDING-a.RADIAL_MARGIN_FOR_CATEGORY,u=o/2+a.RADIAL_PLOT_PADDING/2+a.RADIAL_MARGIN_FOR_CATEGORY/2,h=r/2-a.RADIAL_PLOT_PADDING/2-a.RADIAL_MARGIN_FOR_CATEGORY/2,l=360/e;return i=Math.min(o,r)/2,tui.util.map(t,function(t){var e=tui.util.map(t,function(t,e){var n,a,o,c,d;return tui.util.isNull(t.end)||(d=t.ratio*i,a=h+d,o=360-l*e,c=s.rotatePointAroundOrigin(u,h,u,a,o),n={left:c.x,top:r-c.y}),n});return e.push(e[0]),e},!0)},_getSeriesGroups:function(){var t=this._getSeriesDataModel();return t.map(function(t){return t.map(function(t){return t})},!0)},_makeSeriesData:function(){var t=this._getSeriesGroups(),e=this._makePositionsForRadial(t,this._getSeriesDataModel().getGroupCount());return{groupPositions:e,isAvailable:function(){return e&&e.length>0}}},rerender:function(t){return n.prototype.rerender.call(this,t)}});t.exports=o},function(t,e,i){"use strict";var n=i(56),a=i(62),s=i(2),o=i(5),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments),this.movingAnimation=null},_makePositionTopOfZeroPoint:function(){var t=this.layout.dimension,e=this.axisDataMap.yAxis.limit,i=this._getLimitDistanceFromZeroPoint(t.height,e).toMax;return e.min>=0&&!i&&(i=t.height),i+s.SERIES_EXPAND_SIZE},_makeStackedPositions:function(t){var e=this.layout.dimension.height+s.SERIES_EXPAND_SIZE,i=this._makePositionTopOfZeroPoint(),n=[];return tui.util.map(t,function(t){return tui.util.map(t,function(t,a){var s=n[a]||i,o=t?t.top:0,r=e-o,u=t?s-r:s;return t&&(t.startTop=s,t.top=u),n[a]=u,t})})},_makePositions:function(t){var e=this._makeBasicPositions(t);return o.isValidStackOption(this.options.stackType)&&(e=this._makeStackedPositions(e)),e},_makeSeriesData:function(){var t=this.layout.dimension,e=this._getLimitDistanceFromZeroPoint(t.height,this.limit).toMax,i=this._makePositions();return{chartBackground:this.chartBackground,groupPositions:i,hasRangeData:this._getSeriesDataModel().hasRangeData(),zeroTop:e+s.SERIES_EXPAND_SIZE,isAvailable:function(){return i&&i.length>0}}},rerender:function(t){var e;return this._cancelMovingAnimation(),e=n.prototype.rerender.call(this,t)}});a.mixin(r),t.exports=r},function(t,e,i){"use strict";var n=i(2),a=i(56),s=i(66),o=tui.util.defineClass(a,{init:function(){this.prevClickedIndex=null,this.maxRadius=null,a.apply(this,arguments)},_calculateStep:function(){var t,e,i,n=0,a=this.dataProcessor.isXCountGreaterThanYCount(this.chartType);return this.dataProcessor.hasCategories(a)&&(t=this.layout.dimension,i=this.dataProcessor.getCategoryCount(a),e=a?t.height:t.width,n=e/i),n},_makeBound:function(t,e,i){var a=this.layout.dimension,s=tui.util.isExisty(t.x)?t.x*a.width:e,o=tui.util.isExisty(t.y)?t.y*a.height:e;return{left:s+n.SERIES_EXPAND_SIZE,top:a.height-o+n.SERIES_EXPAND_SIZE,radius:Math.max(i*t.r,2)}},_makeBounds:function(){var t=this,e=this._getSeriesDataModel(),i=this.maxRadius,n=this._calculateStep(),a=n?n/2:0;return e.map(function(e,s){var o=a+n*s;return e.map(function(e){var n=e&&e.ratioMap;return n?t._makeBound(e.ratioMap,o,i):null})})},_setDataForRendering:function(t){this.maxRadius=t.maxRadius,a.prototype._setDataForRendering.call(this,t)}});s.mixin(o),t.exports=o},function(t,e,i){"use strict";var n=i(23),a=tui.util.defineClass({_makeSeriesData:function(){var t=this._makeBounds();return{groupBounds:t,seriesDataModel:this._getSeriesDataModel(),isAvailable:function(){return t&&t.length>0}}},showTooltip:function(t,e,i,n,a){this.eventBus.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},mousePosition:a},t))},hideTooltip:function(){this.eventBus.fire("hideTooltip")},_renderGraph:function(t,e){var i=tui.util.bind(this.showTooltip,this,{chartType:this.chartType}),n={showTooltip:i,hideTooltip:tui.util.bind(this.hideTooltip,this)},a=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,a,n)},_makeSeriesLabelsHtml:function(t,e,i){var a=n.getRenderedLabelHeight(e,this.theme.label),s=n.getRenderedLabelWidth(e,this.theme.label),o={left:t.left-s/2,top:t.top-a/2};return this._makeSeriesLabelHtml(o,e,i)},_renderSeriesLabel:function(t){var e=this,i=this._getSeriesDataModel(),n=i.map(function(t,i){return t.map(function(t,n){var a=e.seriesData.groupBounds[i][n];return t?e._makeSeriesLabelsHtml(a,t.label,n):""}).join("")}).join("");t.innerHTML=n},onClickSeries:function(t){var e,i=this._executeGraphRenderer(t,"findIndexes"),n=this.prevClickedIndexes,a=this.options.allowSelect;i&&n&&(this.onUnselectSeries({indexes:n}),this.prevClickedIndexes=null),i&&(e=!n||i.index!==n.index||i.groupIndex!==n.groupIndex,a&&!e||(this.onSelectSeries({chartType:this.chartType,indexes:i},e),a&&(this.prevClickedIndexes=i)))},onMoveSeries:function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")}});a.mixin=function(t){tui.util.extend(t.prototype,a.prototype)},t.exports=a},function(t,e,i){"use strict";var n=i(56),a=i(66),s=i(2),o=tui.util.defineClass(n,{init:function(){this.prevClickedIndex=null,n.apply(this,arguments)},_makeBound:function(t){var e=this.layout.dimension;return{left:t.x*e.width+s.SERIES_EXPAND_SIZE,top:e.height-t.y*e.height+s.SERIES_EXPAND_SIZE,radius:s.SCATTER_RADIUS}},_makeBounds:function(){var t=this,e=this._getSeriesDataModel();return e.map(function(e){return e.map(function(e){var i=e&&e.ratioMap;return i?t._makeBound(e.ratioMap):null})})}});a.mixin(o),t.exports=o},function(t,e,i){"use strict";var n=i(56),a=i(2),s=i(20),o=i(5),r=i(23),u=tui.util.defineClass(n,{init:function(t){this.basePosition={left:0,top:0},this.zoomMagn=1,this.mapRatio=1,this.graphDimension={},this.limitPosition={},this.mapModel=t.mapModel,this.colorSpectrum=t.colorSpectrum,this.prevPosition=null,this.prevMovedIndex=null,this.isDrag=!1,this.startPosition=null,n.call(this,t)},_attachToEventBus:function(){n.prototype._attachToEventBus.call(this),this.eventBus.on({dragStartMapSeries:this.onDragStartMapSeries,dragMapSeries:this.onDragMapSeries,dragEndMapSeries:this.onDragEndMapSeries,zoomMap:this.onZoomMap},this)},_setMapRatio:function(){var t=this.layout.dimension,e=this.mapModel.getMapDimension(),i=t.width/e.width,n=t.height/e.height;this.mapRatio=Math.min(i,n)},_setGraphDimension:function(){var t=this.layout.dimension;this.graphDimension={width:t.width*this.zoomMagn,height:t.height*this.zoomMagn}},render:function(t){var e=n.prototype.render.call(this,t);return this._setMapRatio(),e},_setLimitPositionToMoveMap:function(){var t=this.layout.dimension,e=this.graphDimension;this.limitPosition={left:t.width-e.width,top:t.height-e.height}},_renderGraph:function(){this.graphContainer||(this.graphContainer=s.create("DIV","tui-chart-series-graph-area"),this.seriesContainer.appendChild(this.graphContainer)),this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this._setLimitPositionToMoveMap(),this.graphRenderer.render(this.graphContainer,{colorSpectrum:this.colorSpectrum,mapModel:this.mapModel,dimension:this.graphDimension,theme:this.theme})},_renderSeriesLabel:function(t){var e=this,i=tui.util.map(this.mapModel.getLabelData(this.zoomMagn*this.mapRatio),function(t,i){var n=t.name||t.code,a=t.labelPosition.left-r.getRenderedLabelWidth(n,e.theme.label)/2,s=t.labelPosition.top-r.getRenderedLabelHeight(n,e.theme.label)/2;return e._makeSeriesLabelHtml({left:a,top:s},t.name,i)});t.innerHTML=i.join("")},_renderSeriesArea:function(t,e,i){n.prototype._renderSeriesArea.call(this,t,e,i),o.isShowLabel(this.options)&&!this.seriesLabelContainer&&this.graphContainer.appendChild(this.seriesLabelContainer)},_adjustMapPosition:function(t){return{left:Math.max(Math.min(t.left,0),this.limitPosition.left),top:Math.max(Math.min(t.top,0),this.limitPosition.top)}},_updateBasePositionForZoom:function(t,e,i){var n=this.basePosition,a=n.left-e.left/2,s=n.top-e.top/2,o={left:a*i+this.limitPosition.left/2,top:s*i+this.limitPosition.top/2};this.basePosition=this._adjustMapPosition(o)},_zoom:function(t){var e=this.graphDimension,i=this.limitPosition;this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._setLimitPositionToMoveMap(),this._updateBasePositionForZoom(e,i,t),r.renderPosition(this.graphContainer,this.basePosition),this.seriesLabelContainer&&this._renderSeriesLabel(this.seriesLabelContainer)},_updatePositionsToResize:function(t){var e=this.mapRatio/t;this.basePosition.left*=e,this.basePosition.top*=e,this.limitPosition.left*=e,this.limitPosition.top*=e},_resizeGraph:function(){var t=this.mapRatio;this._setMapRatio(),this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._updatePositionsForResizing(t),r.renderPosition(this.graphContainer,this.basePosition),this.seriesLabelContainer&&this._renderSeriesLabel(this.seriesLabelContainer)},onClickSeries:function(t){var e=this._executeGraphRenderer(t,"findSectorIndex");tui.util.isNull(e)||this.eventBus.fire("selectSeries",{chartType:this.chartType,index:e,code:this.mapModel.getDatum(e).code})},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showWedge:function(t){var e=this.mapModel.getDatum(t);tui.util.isUndefined(e.ratio)||this.eventBus.fire("showWedge",e.ratio)},_showTooltip:function(t,e){this.eventBus.fire("showTooltip",{chartType:this.chartType,indexes:{index:t},mousePosition:e})},onMoveSeries:function(t){var e,i=this._executeGraphRenderer(t,"findSectorIndex");tui.util.isNull(i)?tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.eventBus.fire("hideTooltip"),this.prevMovedIndex=null):(this.prevMovedIndex!==i&&(tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.eventBus.fire("hideTooltip")),this.graphRenderer.changeColor(i)),this._isChangedPosition(this.prevPosition,t)&&(e=this.seriesContainer.getBoundingClientRect(),this._showTooltip(i,{left:t.left-e.left,top:t.top-e.top}),this.prevMovedIndex=i),this._showWedge(i)),this.prevPosition=t},onDragStartMapSeries:function(t){this.startPosition={left:t.left,top:t.top}},_movePosition:function(t,e){var i=this._adjustMapPosition({left:this.basePosition.left+(e.left-t.left),top:this.basePosition.top+(e.top-t.top)});r.renderPosition(this.graphContainer,i),this.basePosition=i},onDragMapSeries:function(t){this._movePosition(this.startPosition,t),this.startPosition=t,this.isDrag||(this.isDrag=!0,this.eventBus.fire("hideTooltip"))},onDragEndMapSeries:function(){this.isDrag=!1},_movePositionForZoom:function(t,e){var i,n=this.layout.dimension,a=this.seriesContainer.getBoundingClientRect(),s={left:n.width/2+a.left,top:n.height/2+a.top},o={left:t.left-s.left,top:t.top-s.top};e=e>1?-(e/2):e,i={left:s.left+o.left*e,top:s.top+o.top*e},this._movePosition(s,i)},onZoomMap:function(t,e){var i=t/this.zoomMagn;this.zoomMagn=t,this._zoom(i),e&&this._movePositionForZoom(e,i),this.eventBus.fire(a.PUBLIC_EVENT_PREFIX+"zoom",t)},_makeExportationSeriesData:function(t){return t}});t.exports=u},function(t,e,i){"use strict";var n=i(56),a=i(2),s=i(5),o=i(23),r=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.isCombo=!!t.isCombo,this.isShowOuterLabel=!!t.isShowOuterLabel||s.isShowOuterLabel(this.options),this.quadrantRange=null,this.prevClickedIndex=null,this._setDefaultOptions()},_makeValidAngle:function(t,e){return tui.util.isUndefined(t)?t=e:t<0?t=a.ANGLE_360-Math.abs(t)%a.ANGLE_360:t>0&&(t%=a.ANGLE_360),t},_transformRadiusRange:function(t){return t=t||["0%","100%"],tui.util.map(t,function(t){var e=.01*parseInt(t,10);return Math.max(Math.min(e,1),0)})},_setDefaultOptions:function(){var t=this.options;t.startAngle=this._makeValidAngle(t.startAngle,0),t.endAngle=this._makeValidAngle(t.endAngle,t.startAngle),t.radiusRange=this._transformRadiusRange(t.radiusRange),1===t.radiusRange.length&&t.radiusRange.unshift(0)},_calculateAngleForRendering:function(){var t,e=this.options.startAngle,i=this.options.endAngle;return t=e<i?i-e:e>i?a.ANGLE_360-(e-i):a.ANGLE_360},_makeSectorData:function(t){var e,i=this,n=this._getSeriesDataModel().getFirstSeriesGroup(),a=t.cx,s=t.cy,o=t.r,r=this.options.startAngle,u=this._calculateAngleForRendering(),h=10,l=this.options.radiusRange[0],c=.5*o;return l&&(c+=c*l),e=n.map(function(t){var e=t?t.ratio:0,n=u*e,l=r+n,d=r+n/2,p={start:{startAngle:r,endAngle:r},end:{startAngle:r,endAngle:l}},f={cx:a,cy:s,angle:d};return r=l,{ratio:e,angles:p,centerPosition:i._getArcPosition(tui.util.extend({r:c},f)),outerPosition:{start:i._getArcPosition(tui.util.extend({r:o},f)),middle:i._getArcPosition(tui.util.extend({r:o+h},f))}}})},_makeSeriesData:function(){var t=this._makeCircleBound(),e=this._makeSectorData(t);return{chartBackground:this.chartBackground,circleBound:t,sectorData:e,isAvailable:function(){return e&&e.length>0}}},_getQuadrantFromAngle:function(t,e){var i=parseInt(t/a.ANGLE_90,10)+1;return e&&t%a.ANGLE_90===0&&(i+=1===i?3:-1),i},_getRangeForQuadrant:function(){return this.quadrantRange||(this.quadrantRange={start:this._getQuadrantFromAngle(this.options.startAngle),end:this._getQuadrantFromAngle(this.options.endAngle,!0)}),this.quadrantRange},_isInQuadrantRange:function(t,e){var i=this._getRangeForQuadrant();return i.start===t&&i.end===e},_calculateBaseSize:function(){var t,e=this.layout.dimension,i=e.width,n=e.height;return this.isCombo||(t=this._getRangeForQuadrant(),this._isInQuadrantRange(2,3)||this._isInQuadrantRange(4,1)?n*=2:this._isInQuadrantRange(1,2)||this._isInQuadrantRange(3,4)?i*=2:t.start===t.end&&(i*=2,n*=2)),Math.min(i,n)},_calculateRadius:function(){var t=this.isShowOuterLabel?a.PIE_GRAPH_SMALL_RATIO:a.PIE_GRAPH_DEFAULT_RATIO,e=this._calculateBaseSize();return e*t*this.options.radiusRange[1]/2},_calculateCenterXY:function(t){var e=this.layout.dimension,i=t/2,n=e.width/2,a=e.height/2;return this.isCombo||(this._isInQuadrantRange(1,1)?(n-=i,a+=i):this._isInQuadrantRange(1,2)?n-=i:this._isInQuadrantRange(2,2)?(n-=i,a-=i):this._isInQuadrantRange(2,3)?a-=i:this._isInQuadrantRange(3,3)?(n+=i,a-=i):this._isInQuadrantRange(3,4)?n+=i:this._isInQuadrantRange(4,1)?a+=i:this._isInQuadrantRange(4,4)&&(n+=i,a+=i)),{cx:n,cy:a}},_makeCircleBound:function(){var t=this._calculateRadius(),e=this._calculateCenterXY(t);return tui.util.extend({r:t},e)},_getArcPosition:function(t){return{left:t.cx+t.r*Math.sin(t.angle*a.RAD),top:t.cy-t.r*Math.cos(t.angle*a.RAD)}},_renderGraph:function(t,e,i){var n=tui.util.bind(this.showTooltip,this,{allowNegativeTooltip:!!this.allowNegativeTooltip,seriesName:this.seriesName,chartType:this.chartType}),a={showTooltip:n,hideTooltip:tui.util.bind(this.hideTooltip,this)},s=this._makeParamsForGraphRendering(t,e),o=this.seriesName,r=this.dataProcessor.seriesDataModelMap,u=[],h=0;return tui.util.forEach(this.dataProcessor.seriesNames,function(t){var e=!0;return t!==o?u.push(t):e=!1,e}),tui.util.forEach(u,function(t){h+=r[t].baseGroups.length}),s.additionalIndex=h,s.paper=i,this.graphRenderer.render(this.seriesContainer,s,a)},resize:function(){n.prototype.resize.apply(this,arguments),this._moveLegendLines()},showTooltip:function(t,e,i,n,a){this.eventBus.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},mousePosition:a},t))},hideTooltip:function(){this.eventBus.fire("hideTooltip")},_makeSeriesDataBySelection:function(t){return{indexes:{index:t,groupIndex:t}}},_getSeriesLabel:function(t){var e="";return this.options.showLegend&&(e='<span class="tui-chart-series-legend">'+t.legend+"</span>"),this.options.showLabel&&(e+=(e?t.separator:"")+t.label),e},_renderLegendLabel:function(t,e){var i=this,n=this.dataProcessor,a=this._getSeriesDataModel(),s=t.positions,o=tui.util.map(n.getLegendLabels(this.seriesName),function(e,n){var o,r,u="";return s[n]&&(o=i._getSeriesLabel({legend:e,label:a.getSeriesItem(0,n).label,separator:t.separator}),r=t.funcMoveToPosition(s[n],o),u=i._makeSeriesLabelHtml(r,o,n)),u});e.innerHTML=o.join("")},_moveToCenterPosition:function(t,e){var i=t.left-o.getRenderedLabelWidth(e,this.theme.label)/2,n=t.top-o.getRenderedLabelHeight(e,this.theme.label)/2;return{left:i,top:n}},_pickPositionsFromSectorData:function(t){return tui.util.map(this.seriesData.sectorData,function(e){return e.ratio?e[t]:null})},_renderCenterLegend:function(t){this._renderLegendLabel({positions:this._pickPositionsFromSectorData("centerPosition"),funcMoveToPosition:tui.util.bind(this._moveToCenterPosition,this),separator:"<br>"},t)},_addEndPosition:function(t,e){tui.util.forEachArray(e,function(e){var i;e&&(i=tui.util.extend({},e.middle),i.left<t?i.left-=a.SERIES_OUTER_LABEL_PADDING:i.left+=a.SERIES_OUTER_LABEL_PADDING,e.end=i)})},_moveToOuterPosition:function(t,e,i){var n=e.end,s=n.left,r=n.top-o.getRenderedLabelHeight(i,this.theme.label)/2;return s<t?s-=o.getRenderedLabelWidth(i,this.theme.label)+a.SERIES_LABEL_PADDING:s+=a.SERIES_LABEL_PADDING,{left:s,top:r}},_renderOuterLegend:function(t){var e=this.getSeriesData().circleBound.cx,i=this._pickPositionsFromSectorData("outerPosition"),n=tui.util.filter(i,function(t){return t});this._addEndPosition(e,n),this._renderLegendLabel({positions:i,funcMoveToPosition:tui.util.bind(this._moveToOuterPosition,this,e),separator:":&nbsp;"},t),this.graphRenderer.renderLegendLines(n)},_renderSeriesLabel:function(t){s.isLabelAlignOuter(this.options.labelAlign)?this._renderOuterLegend(t):this._renderCenterLegend(t)},animateSeriesLabelArea:function(){this.graphRenderer.animateLegendLines(this.selectedLegendIndex),n.prototype.animateSeriesLabelArea.call(this)},_moveLegendLines:function(){var t=this.dimensionMap.chart.width/2,e=this._pickPositionsFromSectorData("outerPosition"),i=tui.util.filter(e,function(t){return t});this._addEndPosition(t,i),
this.graphRenderer.moveLegendLines(i)},_isDetectedLabel:function(t){var e=document.elementFromPoint(t.left,t.top);return tui.util.isString(e.className)},onClickSeries:function(t){var e,i,n=this._executeGraphRenderer(t,"findSectorInfo"),a=this.prevClickedIndex,s=this.options.allowSelect;(n||this._isDetectedLabel(t))&&tui.util.isExisty(a)&&s&&(this.onUnselectSeries({indexes:{index:a}}),this.prevClickedIndex=null),n&&n.chartType===this.seriesName&&(e=n.index,i=e>-1&&e!==a,s&&!i||(this.onSelectSeries({chartType:this.chartType,indexes:{index:e,legendIndex:n.legendIndex}},i),s&&e>-1&&(this.prevClickedIndex=e)))},onMoveSeries:function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")}});t.exports=r},function(t,e,i){"use strict";var n=i(56),a=i(57),s=i(2),o=tui.util.defineClass(n,{init:function(t){this.colorSpectrum=t.colorSpectrum,n.call(this,t)},_makeSeriesData:function(){var t=this._makeBounds(),e=this._getSeriesDataModel();return{colorSpectrum:this.colorSpectrum,groupBounds:t,seriesDataModel:e,isAvailable:function(){return t&&t.length>0}}},_makeBound:function(t,e,i,n){var a=this.layout.dimension.height,o=t*i+s.SERIES_EXPAND_SIZE,r=a-e*(n+1)+s.SERIES_EXPAND_SIZE;return{end:{left:o,top:r,width:t,height:e}}},_makeBounds:function(){var t=this,e=this._getSeriesDataModel(),i=this.layout.dimension,n=i.width/this.dataProcessor.getCategoryCount(!1),a=i.height/this.dataProcessor.getCategoryCount(!0);return e.map(function(e,i){return e.map(function(e,s){return t._makeBound(n,a,i,s)})})},onShowTooltip:function(t){var e=this._getSeriesDataModel(),i=t.indexes,n=e.getSeriesItem(i.groupIndex,i.index).ratio;this.eventBus.fire("showWedge",n)},_renderSeriesLabel:function(t){var e=this._getSeriesDataModel(),i=this.seriesData.groupBounds,n=this.theme.label,s=this.selectedLegendIndex,o=a.boundsToLabelPositions(e,i,n),r=a.makeLabelsHtmlForBoundType(e,o,n,s);t.innerHTML=r},_makeExportationSeriesData:function(t){return{x:t.indexes.groupIndex,y:t.indexes.index}}});t.exports=o},function(t,e,i){"use strict";var n=i(56),a=i(72),s=i(57),o=i(2),r=i(5),u=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.theme.borderColor=this.theme.borderColor||o.TREEMAP_DEFAULT_BORDER,this.rootId=o.TREEMAP_ROOT_ID,this.startDepth=1,this.selectedGroup=null,this.boundMap=null,this.colorSpectrum=t.colorSpectrum,this._initOptions()},_initOptions:function(){this.options.useColorValue=!!this.options.useColorValue,tui.util.isUndefined(this.options.zoomable)&&(this.options.zoomable=!this.options.useColorValue),tui.util.isUndefined(this.options.useLeafLabel)&&(this.options.useLeafLabel=!this.options.zoomable)},_makeSeriesData:function(){var t=this._getBoundMap(),e=this._makeBounds(t);return{boundMap:t,groupBounds:e,seriesDataModel:this._getSeriesDataModel(),startDepth:this.startDepth,isPivot:!0,colorSpectrum:this.options.useColorValue?this.colorSpectrum:null,chartBackground:this.chartBackground,zoomable:this.options.zoomable,isAvailable:function(){return e&&e.length>0}}},_makeBoundMap:function(t,e,i){var n,s=this,o=this._getSeriesDataModel();return i=i||this.layout.dimension,n=o.findSeriesItemsByParent(t),e=tui.util.extend(e||{},a.squarify(i,n)),tui.util.forEachArray(n,function(t){e=s._makeBoundMap(t.id,e,e[t.id])}),e},_makeBounds:function(t){var e,i=this.startDepth,n=this._getSeriesDataModel();return e=this.options.zoomable?function(t){return t.depth===i}:function(t){return!t.hasChild},n.map(function(i){return i.map(function(i){var n=t[i.id],a=null;return n&&e(i)&&(a={end:n}),a},!0)},!0)},_getBoundMap:function(){return this.boundMap||(this.boundMap=this._makeBoundMap(this.rootId)),this.boundMap},_shouldDimmed:function(t,e,i){var n,a=!1;return e&&i.id!==e.id&&i.group===e.group&&(n=t.findParentByDepth(i.id,e.depth+1),n&&n.parent===e.id&&(a=!0)),a},_renderSeriesLabel:function(t,e){var i,n,a,o=this._getSeriesDataModel(),r=this._getBoundMap();i=this.options.useLeafLabel?o.findLeafSeriesItems(this.selectedGroup):o.findSeriesItemsByDepth(this.startDepth,this.selectedGroup),n=tui.util.bind(this._shouldDimmed,this,o,e),a=s.makeLabelsHtmlForTreemap(i,r,this.theme.label,n,this.options.labelTemplate),t.innerHTML=a},resize:function(){this.boundMap=null,n.prototype.resize.apply(this,arguments)},_zoom:function(t,e,i){this._clearSeriesContainer(),this.boundMap=null,this.rootId=t,this.startDepth=e,this.selectedGroup=i,this._renderSeriesArea(this.seriesContainer,this.paper,tui.util.bind(this._renderGraph,this)),r.isShowLabel(this.options)&&this._showSeriesLabelWithoutAnimation()},zoom:function(t){var e,i,n=t.index;return n===-1?void this._zoom(o.TREEMAP_ROOT_ID,1,null):(e=this._getSeriesDataModel(),i=e.getSeriesItem(0,n,!0),void(i&&i.hasChild&&(this._zoom(i.id,i.depth+1,i.group),this.eventBus.fire("afterZoom",n))))},_makeExportationSeriesData:function(t){var e=t.indexes,i=this._getSeriesDataModel().getSeriesItem(e.groupIndex,e.index,!0);return tui.util.extend({chartType:this.chartType,indexes:i.indexes})},onHoverSeries:function(t){var e;r.isShowLabel(this.options)&&(e=this._getSeriesDataModel().getSeriesItem(t.groupIndex,t.index,!0),this._renderSeriesLabel(this.seriesLabelContainer,e),this.graphRenderer.showAnimation(t,this.options.useColorValue,.6))},onHoverOffSeries:function(t){r.isShowLabel(this.options)&&t&&(this._renderSeriesLabel(this.seriesLabelContainer),this.graphRenderer.hideAnimation(t,this.options.useColorValue))},onShowTooltip:function(t){var e=this._getSeriesDataModel(),i=t.indexes,n=e.getSeriesItem(i.groupIndex,i.index,!0).colorRatio;n>-1&&this.eventBus.fire("showWedge",n)}});t.exports=u},function(t,e,i){"use strict";var n=i(22),a=i(6),s={boundMap:{},_makeBaseBound:function(t){return tui.util.extend({left:0,top:0},t)},_calculateScale:function(t,e,i){return e*i/n.sum(t)},_makeBaseData:function(t,e,i){var n=this._calculateScale(tui.util.pluck(t,"value"),e,i),a=tui.util.map(t,function(t){return{id:t.id,weight:t.value*n}}).sort(function(t,e){return e.weight-t.weight});return a},_worst:function(t,e,i,n){var a=t*t,s=n*n;return Math.max(s*i/a,a/(s*e))},_changedStackDirection:function(t,e,i,n){var s=a.min(e),o=a.max(e),r=this._worst(t,s,o,i),u=this._worst(t+n,Math.min(s,n),Math.max(o,n),i);return u>=r},_isVerticalStack:function(t){return t.height<t.width},_selectBaseSize:function(t){return this._isVerticalStack(t)?t.height:t.width},_calculateFixedSize:function(t,e,i){var a;return e||(a=tui.util.pluck(i,"weight"),e=n.sum(a)),e/t},_addBounds:function(t,e,i,n){tui.util.reduce([t].concat(e),function(t,e){var a=e.weight/i;return n(a,t,e.id),t+a})},_addBound:function(t,e,i,n,a){this.boundMap[a]={left:t,top:e,width:i,height:n}},_addBoundsForVerticalStack:function(t,e,i,n){var a=this,s=this._calculateFixedSize(i,n,t);this._addBounds(e.top,t,s,function(t,i,n){a._addBound(e.left,i,s,t,n)}),e.left+=s,e.width-=s},_addBoundsForHorizontalStack:function(t,e,i,n){var a=this,s=this._calculateFixedSize(i,n,t);this._addBounds(e.left,t,s,function(t,i,n){a._addBound(i,e.top,t,s,n)}),e.top+=s,e.height-=s},_getAddingBoundsFunction:function(t){var e;return e=this._isVerticalStack(t)?tui.util.bind(this._addBoundsForVerticalStack,this):tui.util.bind(this._addBoundsForHorizontalStack,this)},squarify:function(t,e){var i,a,s=this,o=this._makeBaseBound(t),r=this._makeBaseData(e,o.width,o.height),u=[];return this.boundMap={},tui.util.forEachArray(r,function(t){var e=tui.util.pluck(u,"weight"),r=n.sum(e);u.length&&s._changedStackDirection(r,e,i,t.weight)&&(a(u,o,i,r),u=[]),u.length||(i=s._selectBaseSize(o),a=s._getAddingBoundsFunction(o)),u.push(t)}),u.length&&a(u,o,i),this.boundMap}};t.exports=s},function(t,e,i){"use strict";var n=i(58),a=i(2),s=i(20),o=i(23),r=i(31),u=tui.util.defineClass({className:"tui-chart-zoom-area",init:function(t){this.eventBus=t.eventBus,this.magn=1,this.stackedWheelDelta=0,this._attachToEventBus()},_attachToEventBus:function(){this.eventBus.on("wheel",this.onWheel,this)},render:function(t){var e=s.create("DIV",this.className);return e.innerHTML+=n.ZOOM_BUTTONS,o.renderPosition(e,t.positionMap.series),this._attachEvent(e),e},_findBtnElement:function(t){var e="tui-chart-zoom-btn",i=t;return s.hasClass(t,e)||(i=s.findParentByClass(t,e)),i},_zoom:function(t,e){var i=Math.min(Math.max(1,this.magn*t),a.MAX_ZOOM_MAGN);i!==this.magn&&(this.magn=i,this.eventBus.fire("zoomMap",this.magn,e))},_onClick:function(t){var e,i=t.target||t.srcElement,n=this._findBtnElement(i);return n&&(e=parseFloat(n.getAttribute("data-magn")),this._zoom(e)),t.preventDefault&&t.preventDefault(),!1},_attachEvent:function(t){r.on(t,"click",this._onClick,this)},_calculateMagn:function(t){var e,i=parseInt(t/a.WHEEL_TICK,10);return e=i>0?Math.pow(2,i):Math.pow(.5,Math.abs(i))},onWheel:function(t,e){var i;Math.abs(t)<a.WHEEL_TICK?this.stackedWheelDelta+=t:this.stackedWheelDelta=t,Math.abs(this.stackedWheelDelta)<a.WHEEL_TICK||(i=this._calculateMagn(this.stackedWheelDelta),this._zoom(i,e),this.stackedWheelDelta=this.stackedWheelDelta%a.WHEEL_TICK)}});t.exports=u},function(t,e,i){"use strict";var n=i(2),a=i(75),s=i(76),o=i(80),r=i(77),u=i(4),h=i(5),l=i(23),c=i(22),d=i(11),p=Array.prototype.concat,f=tui.util.defineClass(a,{init:function(t,e,i,n){this.originalRawData=d.deepCopy(t),this.chartType=e,this.options=i,this.seriesNames=n,this.originalLegendData=null,this.dynamicData=[],this.initData(t),this.initZoomedRawData(),this.baseInit()},getOriginalRawData:function(){return d.deepCopy(this.originalRawData)},getZoomedRawData:function(){var t=this.zoomedRawData;return t=t?d.deepCopy(t):this.getOriginalRawData()},_filterSeriesDataByIndexRange:function(t,e,i){return tui.util.forEachArray(t,function(t){t.data=t.data.slice(e,i+1)}),t},_filterRawDataByIndexRange:function(t,e){var i=this,n=e[0],a=e[1];return tui.util.forEach(t.series,function(e,s){t.series[s]=i._filterSeriesDataByIndexRange(e,n,a)}),t.categories=t.categories.slice(n,a+1),t},updateRawDataForZoom:function(t){var e=this.getRawData(),i=this.getZoomedRawData();this.zoomedRawData=this._filterRawDataByIndexRange(i,t),e=this._filterRawDataByIndexRange(e,t),this.initData(e)},initZoomedRawData:function(){this.zoomedRawData=null},initData:function(t){this.rawData=t,this.categoriesMap=null,this.stacks=null,this.seriesDataModelMap={},this.seriesGroups=null,this.valuesMap={},this.legendLabels=null,this.legendData=null,this.multilineCategories=null,this.coordinateType=null},getRawData:function(){return this.rawData},findChartType:function(t){return u.findChartType(this.rawData.seriesAlias,t)},_escapeCategories:function(t){return tui.util.map(t,function(t){return tui.util.encodeHTMLEntity(String(t))})},_mapCategories:function(t){return t=h.isDatetimeType(this.options.xAxis.type)?tui.util.map(t,function(t){var e=new Date(t);return e.getTime()||t}):this._escapeCategories(t)},_processCategories:function(t){var e=this.rawData.categories,i={};return tui.util.isArray(e)?i[t]=this._mapCategories(e):e&&(e.x&&(i.x=this._mapCategories(e.x)),e.y&&(i.y=this._mapCategories(e.y).reverse())),i},getCategories:function(t){var e=t?"y":"x",i=[];return this.categoriesMap||(this.categoriesMap=this._processCategories(e)),tui.util.isExisty(t)?i=this.categoriesMap[e]||[]:tui.util.forEach(this.categoriesMap,function(t){return i=t,!1}),i},getCategoryCount:function(t){var e=this.getCategories(t);return e?e.length:0},hasCategories:function(t){return!!this.getCategoryCount(t)},isXCountGreaterThanYCount:function(t){var e=this.getSeriesDataModel(t);return e.isXCountGreaterThanYCount()},hasXValue:function(t){var e=this.isXCountGreaterThanYCount(t);return!this.hasCategories(e)||e},hasYValue:function(t){var e=this.isXCountGreaterThanYCount(t);return!this.hasCategories(e)||!e},getCategory:function(t,e){return this.getCategories(e)[t]},findCategoryIndex:function(t){var e=this.getCategories(),i=null;return tui.util.forEachArray(e,function(e,n){return e===t&&(i=n),tui.util.isNull(i)}),i},_getTooltipCategory:function(t,e){var i=this.getCategory(t,e),n=e?"yAxis":"xAxis",a=this.options[n]||{};return h.isDatetimeType(a.type)&&(i=l.formatDate(i,a.dateFormat)),i},makeTooltipCategory:function(t,e,i){var n=!i,a=this._getTooltipCategory(t,n),s=this.getCategoryCount(!n);return s&&(a+=", "+this._getTooltipCategory(s-e-1,!n)),a},getStacks:function(t){return this.stacks||(this.stacks=u.pickStacks(this.rawData.series[t])),this.stacks},getStackCount:function(t){return this.getStacks(t).length},findStackIndex:function(t){return tui.util.inArray(t,this.getStacks())},isCoordinateType:function(){var t=this.chartType,e=this.coordinateType;return tui.util.isExisty(e)||(e=h.isCoordinateTypeChart(t),e=e||h.isLineScatterComboChart(t,this.seriesNames),e=e||h.isLineTypeChart(t)&&!this.hasCategories(),this.coordinateType=e),e},getSeriesDataModel:function(t){var e,i,n;return this.seriesDataModelMap[t]||(i=this.findChartType(t),e=this.rawData.series[t],n=h.isTreemapChart(this.chartType)?o:s,this.seriesDataModelMap[t]=new n(e,i,this.options,this.getFormatFunctions(),this.isCoordinateType())),this.seriesDataModelMap[t]},getGroupCount:function(t){return this.getSeriesDataModel(t).getGroupCount()},_pushCategory:function(t){this.rawData.categories&&(this.rawData.categories.push(t),this.originalRawData.categories.push(t))},_shiftCategory:function(){this.rawData.categories&&(this.rawData.categories.shift(),this.originalRawData.categories.shift())},_findRawSeriesDatumByName:function(t,e){var i=null,n=this.rawData.series[e];return tui.util.forEachArray(n,function(e){var n=e.name===t;return n&&(i=e),!n}),i},_pushValue:function(t,e,i){var n=this._findRawSeriesDatumByName(t.name,i);t.data.push(e),n&&n.data.push(e)},_pushValues:function(t,e,i){var n=this;tui.util.forEachArray(t,function(t,a){n._pushValue(t,e[a],i)})},_pushSeriesData:function(t){var e,i=this;"combo"!==this.chartType&&tui.util.isArray(t)&&(e=t,t={},t[this.chartType]=e),tui.util.forEach(this.originalRawData.series,function(e,n){i._pushValues(e,t[n],n)})},_shiftValues:function(t,e){var i=this;tui.util.forEachArray(t,function(t){var n=i._findRawSeriesDatumByName(t.name,e);t.data.shift(),n&&n.data.shift()})},_shiftSeriesData:function(){var t=this;tui.util.forEach(this.originalRawData.series,function(e,i){t._shiftValues(e,i)})},addDynamicData:function(t,e){this.dynamicData.push({category:t,values:e})},_pushDynamicData:function(t){this._pushCategory(t.category),this._pushSeriesData(t.values)},_pushDynamicDataForCoordinateType:function(t){var e=this;tui.util.forEachArray(this.originalRawData.series,function(i){e._pushValue(i,t[i.name])})},addDataFromDynamicData:function(){var t=this.dynamicData.shift();return t&&(this.isCoordinateType()?this._pushDynamicDataForCoordinateType(t.values):this._pushDynamicData(t),this.initData(this.rawData)),!!t},shiftData:function(){this._shiftCategory(),this._shiftSeriesData(),this.initData(this.rawData)},addDataFromRemainDynamicData:function(t){var e=this,i=this.dynamicData;this.dynamicData=[],tui.util.forEach(i,function(i){e._pushCategory(i.category),e._pushSeriesData(i.values),t&&(e._shiftCategory(),e._shiftSeriesData())}),this.initData(this.rawData)},_eachByAllSeriesDataModel:function(t){var e=this,i=this.seriesNames||[this.chartType];tui.util.forEachArray(i,function(i){return t(e.getSeriesDataModel(i),i)})},isValidAllSeriesDataModel:function(){var t=!0;return this._eachByAllSeriesDataModel(function(e){return t=!!e.getGroupCount()}),t},_makeSeriesGroups:function(){var t,e=[];return this._eachByAllSeriesDataModel(function(t){t.each(function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t.items)})}),t=tui.util.map(e,function(t){return new r(t)})},getSeriesGroups:function(){return this.seriesGroups||(this.seriesGroups=this._makeSeriesGroups()),this.seriesGroups},getValue:function(t,e,i){return this.getSeriesDataModel(i).getValue(t,e)},_createValues:function(t,e){var i;return h.isComboChart(t)?(i=[],this._eachByAllSeriesDataModel(function(t){i=i.concat(t.getValues(e))})):i=this.getSeriesDataModel(t).getValues(e),i},getValues:function(t,e){var i;return i=t+e,this.valuesMap[i]||(this.valuesMap[i]=this._createValues(t,e)),this.valuesMap[i]},eachBySeriesGroup:function(t,e){this._eachByAllSeriesDataModel(function(i,n){i.each(function(e,i){t(e,i,n)},e)})},_pickLegendLabel:function(t){return t.name?tui.util.encodeHTMLEntity(t.name):null},_isVisibleLegend:function(t){var e=!0;return tui.util.isExisty(t.visible)&&t.visible===!1&&(e=!1),e},_pickLegendData:function(t){var e,i=this.rawData.series,n={};return"visibility"===t?e=this._isVisibleLegend:"label"===t&&(e=this._pickLegendLabel),e&&(tui.util.forEach(i,function(t,i){n[i]=tui.util.map(t,e)}),n=tui.util.filter(n,tui.util.isExisty)),n},getLegendLabels:function(t){return this.legendLabels||(this.legendLabels=this._pickLegendData("label")),this.legendLabels[t]||this.legendLabels},getLegendVisibility:function(t){return this.legendVisibilities||(this.legendVisibilities=this._pickLegendData("visibility")),this.legendVisibilities[t]||this.legendVisibilities},_makeLegendData:function(){var t,e,i=this.getLegendLabels(this.chartType),n=this.seriesNames||[this.chartType],a=this.getLegendVisibility();return tui.util.isArray(i)?(t=[this.chartType],t[this.chartType]=i):(n=this.seriesNames,t=i),e=tui.util.map(n,function(e){return tui.util.map(t[e],function(t,i){var n=tui.util.isArray(a[e]);return{chartType:e,label:t,visible:n?a[e][i]:a[i]}})}),p.apply([],e)},getLegendData:function(){return this.legendData||(this.legendData=this._makeLegendData()),this.originalLegendData||(this.originalLegendData=this.legendData),this.legendData},getOriginalLegendData:function(){return this.originalLegendData},getLegendItem:function(t){return this.getLegendData()[t]},getFirstItemLabel:function(t){return this.getSeriesDataModel(t).getFirstItemLabel()},addDataRatiosOfPieChart:function(t){this.getSeriesDataModel(t).addDataRatiosOfPieChart()},addDataRatiosForCoordinateType:function(t,e,i){h.isLineTypeChart(t)&&this._addStartValueToAllSeriesItem(e.yAxis,t),this.getSeriesDataModel(t).addDataRatiosForCoordinateType(e,i)},_addStartValueToAllSeriesItem:function(t,e){var i=0;t.min>=0?i=t.min:t.max<=0&&(i=t.max),this.getSeriesDataModel(e).addStartValueToAllSeriesItem(i)},addDataRatios:function(t,e,i){var n=this.getSeriesDataModel(i);this._addStartValueToAllSeriesItem(t,i),n.addDataRatios(t,e)},addDataRatiosForTreemapChart:function(t,e){this.getSeriesDataModel(e).addDataRatios(t)},_createBaseValuesForNormalStackedChart:function(t){var e=this.getSeriesDataModel(t),i=[];return e.each(function(t){var e=t._makeValuesMapPerStack();tui.util.forEach(e,function(t){var e=c.sumPlusValues(t),n=c.sumMinusValues(t);i=i.concat([e,n])})}),i},createBaseValuesForLimit:function(t,e,i,n){var a;return h.isComboChart(this.chartType)&&e?(a=this.getValues(this.chartType,n),h.isNormalStackChart(t,i)&&(a=a.concat(this._createBaseValuesForNormalStackedChart(t)))):a=h.isTreemapChart(t)?this.getValues(t,"colorValue"):h.isNormalStackChart(t,i)?this._createBaseValuesForNormalStackedChart(t):this.getValues(t,n),a},findOverflowItem:function(t,e){var i=this.getSeriesDataModel(t),a=i.getMaxValue("r"),s=function(t){return t.r/a>n.HALF_RATIO};return{minItem:i.findMinSeriesItem(e,s),maxItem:i.findMaxSeriesItem(e,s)}}});t.exports=f},function(t,e,i){"use strict";var n=i(6),a=i(23),s=i(22),o=tui.util.defineClass({baseInit:function(){this.formatFunctions=null},getValues:function(){},getMaxValue:function(t,e){return n.max(this.getValues(t,e))},getFormattedMaxValue:function(t,e,i){var n=this.getMaxValue(t,i),s=this.getFormatFunctions();return a.formatValue(n,s,t,e,i)},_pickMaxLenUnderPoint:function(t){var e=0;return tui.util.forEachArray(t,function(t){var i=s.getDecimalLength(t);i>e&&(e=i)}),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")>-1},_formatToZeroFill:function(t,e){var i=e<0;return e=a.formatToZeroFill(Math.abs(e),t),(i?"-":"")+e},_formatToDecimal:function(t,e){return a.formatToDecimal(e,t)},_findSimpleTypeFormatFunctions:function(t){var e,i=[];if(this._isDecimal(t))e=this._pickMaxLenUnderPoint([t]),i=[tui.util.bind(this._formatToDecimal,this,e)];else if(this._isZeroFill(t))return e=t.length,i=[tui.util.bind(this._formatToZeroFill,this,e)];return this._isComma(t)&&i.push(a.formatToComma),i},_findFormatFunctions:function(){var t=tui.util.pick(this.options,"chart","format"),e=[];return tui.util.isFunction(t)?e=[t]:tui.util.isString(t)&&(e=this._findSimpleTypeFormatFunctions(t)),e},getFormatFunctions:function(){return this.formatFunctions||(this.formatFunctions=this._findFormatFunctions()),this.formatFunctions}});t.exports=o},function(t,e,i){"use strict";var n=i(77),a=i(78),s=i(79),o=i(5),r=i(22),u=i(6),h=Array.prototype.concat,l=tui.util.defineClass({init:function(t,e,i,n,a){this.chartType=e,this.options=i||{},this.formatFunctions=n,this.rawSeriesData=t||[],this.isCoordinateType=a,this.baseGroups=null,this.groups=null,this.options.series=this.options.series||{},this.isDivergingChart=o.isDivergingChart(e,this.options.series.diverging),this.valuesMap={},this._removeRangeValue()},_removeRangeValue:function(){var t=tui.util.pick(this.options,"series")||{},e=o.isAllowRangeData(this.chartType)&&!o.isValidStackOption(t.stackType)&&!t.spline;e||this.isCoordinateType||tui.util.forEachArray(this.rawSeriesData,function(t){tui.util.isArray(t.data)&&tui.util.forEachArray(t.data,function(e,i){tui.util.isExisty(e)&&(t.data[i]=h.apply(e)[0])})})},_createBaseGroups:function(){var t,e,i=this.chartType,n=this.formatFunctions,r=this.options.xAxis,u=this.isDivergingChart,h=this.isCoordinateType,l=o.isPieChart(this.chartType),c=o.isHeatmapChart(this.chartType)||o.isTreemapChart(this.chartType);return h?(e=s,t=function(t){t.sort(function(t,e){return t.x-e.x})}):(e=a,t=function(){}),tui.util.map(this.rawSeriesData,function(a){var s,o,d;return o=tui.util.isArray(a)?a:[].concat(a.data),c||(s=a.stack),(h||l)&&(o=tui.util.filter(o,tui.util.isExisty)),d=tui.util.map(o,function(t,a){return new e({datum:t,chartType:i,formatFunctions:n,index:a,stack:s,isDivergingChart:u,xAxisType:r.type,dateFormat:r.dateFormat})}),t(d),d})},_getBaseGroups:function(){return this.baseGroups||(this.baseGroups=this._createBaseGroups()),this.baseGroups},_createSeriesGroupsFromRawData:function(t){var e=this._getBaseGroups();return t&&(e=u.pivot(e)),tui.util.map(e,function(t){return new n(t)})},_getSeriesGroups:function(){return this.groups||(this.groups=this._createSeriesGroupsFromRawData(!0)),this.groups},getGroupCount:function(){return this._getSeriesGroups().length},_getPivotGroups:function(){return this.pivotGroups||(this.pivotGroups=this._createSeriesGroupsFromRawData()),this.pivotGroups},getSeriesGroup:function(t,e){return e?this._getPivotGroups()[t]:this._getSeriesGroups()[t]},getFirstSeriesGroup:function(t){return this.getSeriesGroup(0,t)},getFirstItemLabel:function(){return this.getFirstSeriesGroup().getFirstSeriesItem().label},getSeriesItem:function(t,e,i){return this.getSeriesGroup(t,i).getSeriesItem(e)},getFirstSeriesItem:function(){return this.getSeriesItem(0,0)},getValue:function(t,e){return this.getSeriesItem(t,e).value},getMinValue:function(t){return u.min(this.getValues(t))},getMaxValue:function(t){return u.max(this.getValues(t))},_findSeriesItem:function(t){var e;return this.each(function(i){return e=i.find(t),!e}),e},_findSeriesItemByValue:function(t,e,i){return i=i||function(){},this._findSeriesItem(function(n){return n&&n[t]===e&&i(n)})},findMinSeriesItem:function(t,e){var i=this.getMinValue(t);return this._findSeriesItemByValue(t,i,e)},findMaxSeriesItem:function(t,e){var i=this.getMaxValue(t);return this._findSeriesItemByValue(t,i,e)},_createValues:function(t){var e=this.map(function(e){return e.getValues(t)});return e=h.apply([],e),tui.util.filter(e,function(t){return!isNaN(t)})},getValues:function(t){return t=t||"value",this.valuesMap[t]||(this.valuesMap[t]=this._createValues(t)),this.valuesMap[t]},isXCountGreaterThanYCount:function(){return this.getValues("x").length>this.getValues("y").length},_addRatiosWhenNormalStacked:function(t){var e=Math.abs(t.max-t.min);this.each(function(t){t.addRatios(e)})},_calculateBaseRatio:function(){var t=this.getValues(),e=r.sumPlusValues(t),i=Math.abs(r.sumMinusValues(t)),n=e>0&&i>0?.5:1;return n},_addRatiosWhenPercentStacked:function(){var t=this._calculateBaseRatio();this.each(function(e){e.addRatiosWhenPercentStacked(t)})},_addRatiosWhenDivergingStacked:function(){this.each(function(t){var e=t.pluck("value"),i=r.sumPlusValues(e),n=Math.abs(r.sumMinusValues(e));t.addRatiosWhenDivergingStacked(i,n)})},_makeSubtractionValue:function(t){var e=o.allowMinusPointRender(this.chartType),i=0;return!e&&o.isMinusLimit(t)?i=t.max:(e||t.min>=0)&&(i=t.min),i},_addRatios:function(t){var e=Math.abs(t.max-t.min),i=this._makeSubtractionValue(t);this.each(function(t){t.addRatios(e,i)})},addDataRatios:function(t,e){var i=o.isAllowedStackOption(this.chartType);i&&o.isNormalStack(e)?this._addRatiosWhenNormalStacked(t):i&&o.isPercentStack(e)?this.isDivergingChart?this._addRatiosWhenDivergingStacked():this._addRatiosWhenPercentStacked():this._addRatios(t)},addDataRatiosOfPieChart:function(){this.each(function(t){var e=r.sum(t.pluck("value"));t.addRatios(e)})},addDataRatiosForCoordinateType:function(t,e){var i,n,a,s,o=t.xAxis,r=t.yAxis,h=e?u.max(this.getValues("r")):0;o&&(i=Math.abs(o.max-o.min),n=this._makeSubtractionValue(o)),r&&(a=Math.abs(r.max-r.min),s=this._makeSubtractionValue(r)),this.each(function(t){t.each(function(t){t&&(t.addRatio("x",i,n),t.addRatio("y",a,s),t.addRatio("r",h,0),tui.util.isExisty(t.start)&&t.addRatio("start",a,s))})})},addStartValueToAllSeriesItem:function(t){this.each(function(e){e.addStartValueToAllSeriesItem(t)})},hasRangeData:function(){var t=!1;return this.each(function(e){return t=e.hasRangeData(),!t}),t},each:function(t,e){var i=e?this._getPivotGroups():this._getSeriesGroups();tui.util.forEachArray(i,function(e,i){return t(e,i)})},map:function(t,e){var i=[];return this.each(function(e,n){i.push(t(e,n))},e),i}});t.exports=l},function(t,e,i){"use strict";var n=i(22),a=tui.util.defineClass({init:function(t){this.items=t,this.valuesMap={},this.valuesMapPerStack=null},getSeriesItemCount:function(){return this.items.length},getSeriesItem:function(t){return this.items[t]},getFirstSeriesItem:function(){return this.getSeriesItem(0)},_createValues:function(t){var e=[];return this.each(function(i){i&&(tui.util.isExisty(i[t])&&e.push(i[t]),tui.util.isExisty(i.start)&&e.push(i.start))}),e},getValues:function(t){return t=t||"value",this.valuesMap[t]||(this.valuesMap[t]=this._createValues(t)),this.valuesMap[t]},_makeValuesMapPerStack:function(){var t={};return this.each(function(e){t[e.stack]||(t[e.stack]=[]),t[e.stack].push(e.value)}),t},getValuesMapPerStack:function(){return this.valuesMapPerStack||(this.valuesMapPerStack=this._makeValuesMapPerStack()),this.valuesMapPerStack},_makeSumMapPerStack:function(){var t=this.getValuesMapPerStack(),e={};return tui.util.forEach(t,function(t,i){e[i]=n.sum(tui.util.map(t,function(t){return Math.abs(t)}))}),e},addStartValueToAllSeriesItem:function(t){this.each(function(e){e&&e.addStart(t)})},addRatiosWhenPercentStacked:function(t){var e=this._makeSumMapPerStack();this.each(function(i){var n=e[i.stack];i.addRatio(n,0,t)})},addRatiosWhenDivergingStacked:function(t,e){this.each(function(i){var n=i.value>=0?t:e;i.addRatio(n,0,.5)})},addRatios:function(t,e){this.each(function(i){i&&i.addRatio(t,e)})},hasRangeData:function(){var t=!1;return this.each(function(e){return t=e&&e.isRange,!t}),t},each:function(t){tui.util.forEachArray(this.items,t)},map:function(t){return tui.util.map(this.items,t)},pluck:function(t){var e=tui.util.filter(this.items,tui.util.isExisty);return tui.util.pluck(e,t)},find:function(t){var e;return this.each(function(i){return t(i)&&(e=i),!e}),e||null},filter:function(t){return tui.util.filter(this.items,t)}});t.exports=a},function(t,e,i){"use strict";var n=i(2),a=i(23),s=i(22),o=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.stack=t.stack||n.DEFAULT_STACK,this.isDivergingChart=t.isDivergingChart,this.formatFunctions=t.formatFunctions,this.isRange=!1,this.value=null,this.label=null,this.ratio=null,this.end=null,this.endLabel=null,this.endRatio=null,this.start=null,this.startLabel=null,this.startRatio=null,this.ratioDistance=null,this._initValues(t.datum,t.index)},_initValues:function(t,e){var i=this._createValues(t),n="makingSeriesLabel",s=i.length>1,o=i[0];this.value=this.end=o,this.index=e,this.isDivergingChart&&(o=Math.abs(o)),tui.util.isNull(o)?this.label="":this.label=a.formatValue(o,this.formatFunctions,this.chartType,n),this.endLabel=this.label,s&&(this.addStart(i[1],!0),this._updateFormattedValueforRange(),this.isRange=!0)},_createValues:function(t){var e=tui.util.map([].concat(t),function(t){return tui.util.isNull(t)?null:parseFloat(t)});return e=e.sort(function(t,e){return t<0&&e<0?t-e:e-t})},addStart:function(t){tui.util.isNull(this.start)&&(this.start=t,this.startLabel=a.formatValue(t,this.formatFunctions,this.chartType,"series"))},_updateFormattedValueforRange:function(){this.label=this.startLabel+" ~ "+this.endLabel},addRatio:function(t,e,i){t=t||1,i=i||1,e=e||0,this.ratio=this.endRatio=s.calculateRatio(this.value,t,e,i),tui.util.isExisty(this.start)&&(this.startRatio=s.calculateRatio(this.start,t,e,i),this.ratioDistance=Math.abs(this.endRatio-this.startRatio))},_getFormattedValueForTooltip:function(t){return a.formatValue(this[t],this.formatFunctions,this.chartType,"tooltip",t)},pickValueMapForTooltip:function(){var t={value:this._getFormattedValueForTooltip("value"),ratio:this.ratio};return tui.util.isExisty(this.start)&&(t.start=this._getFormattedValueForTooltip("start"),t.end=this._getFormattedValueForTooltip("end"),t.startRatio=this.startRatio,t.endRatio=this.endRatio),t}});t.exports=o},function(t,e,i){"use strict";var n=i(5),a=i(23),s=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.formatFunctions=t.formatFunctions,this.xAxisType=t.xAxisType,this.dateFormat=t.dateFormat,this.ratioMap={},this._initData(t.datum,t.index)},_initData:function(t,e){var i;tui.util.isArray(t)?(this.x=t[0]||0,this.y=t[1]||0,n.isBubbleChart(this.chartType)?(this.r=t[2],this.label=t[3]||""):this.label=t[2]||""):(this.x=t.x,this.y=t.y,this.r=t.r,this.label=t.label||""),n.isDatetimeType(this.xAxisType)&&(i=tui.util.isDate(this.x)?this.x:new Date(this.x),this.x=i.getTime()||0),this.index=e,this.label||(n.isLineTypeChart(this.chartType)&&n.isDatetimeType(this.xAxisType)?this.label=a.formatDate(this.x,this.dateFormat):this.label=a.formatValue(this.x,this.formatFunctions,this.chartType,"series"),this.label+=",&nbsp;"+a.formatValue(this.y,this.formatFunctions,this.chartType,"series"))},addStart:function(t){this.start=t},addRatio:function(t,e,i){!tui.util.isExisty(this.ratioMap[t])&&e&&(this.ratioMap[t]=(this[t]-i)/e)},_getFormattedValueForTooltip:function(t){var e=this.ratioMap[t],i=this[t];return e?a.formatValue(i,this.formatFunctions,this.chartType,"tooltip",t):null},pickValueMapForTooltip:function(){var t={x:this._getFormattedValueForTooltip("x"),y:this._getFormattedValueForTooltip("y"),xRatio:this.ratioMap.x,yRatio:this.ratioMap.y};return tui.util.isExisty(this.r)&&(t.r=this._getFormattedValueForTooltip("r"),t.rRatio=this.ratioMap.r),t}});t.exports=s},function(t,e,i){"use strict";var n=i(76),a=i(81),s=i(2),o=i(22),r=Array.prototype.slice,u=tui.util.defineClass(n,{init:function(){n.apply(this,arguments),this.foundSeriesItemsMap={},this.seriesItemMap={}},_flattenHierarchicalData:function(t,e,i){var n,a=this,o=[];return e?n=e+"_":(n=s.TREEMAP_ID_PREFIX,e=s.TREEMAP_ROOT_ID),i=i||[],tui.util.forEachArray(t,function(t,s){var r=n+s,u=t.children,h=i.concat(s);t.indexes=h,tui.util.isNull(t.value)||o.push(t),t.id||(t.id=r),t.parent||(t.parent=e),u&&(o=o.concat(a._flattenHierarchicalData(u,r,h)),delete t.children)}),o},_partitionRawSeriesDataByParent:function(t,e){var i=[],n=[];return tui.util.forEachArray(t,function(t){t.parent===e?i.push(t):n.push(t)}),[i,n]},_setTreeProperties:function(t,e,i,n){
var a=this,s=this._partitionRawSeriesDataByParent(t,i),r=s[0],u=s[1],h=e+1;return tui.util.forEachArray(r,function(t,i){var s,l;t.depth=e,t.group=tui.util.isUndefined(n)?i:n,s=a._setTreeProperties(u,h,t.id,t.group),l=tui.util.filter(s,function(t){return t.depth===h}),l.length?(t.value=o.sum(tui.util.pluck(l,"value")),t.hasChild=!0):t.hasChild=!1,r=r.concat(s)}),r},_setRatio:function(t,e){var i=this,n=this._partitionRawSeriesDataByParent(t,e),a=n[0],s=n[1],r=o.sum(tui.util.pluck(a,"value"));tui.util.forEachArray(a,function(t){var e=tui.util.isNull(t.value)?0:t.value;t.ratio=e/r,t.hasChild&&i._setRatio(s,t.id)})},_createBaseGroups:function(){var t=this.chartType,e=this.seriesItemMap,i=this.formatFunctions,n=this._flattenHierarchicalData(this.rawSeriesData);return n=this._setTreeProperties(n,1,s.TREEMAP_ROOT_ID),this._setRatio(n,s.TREEMAP_ROOT_ID),[tui.util.map(n,function(n){var s=new a(n,i,t);return e[s.id]=s,s})]},_findSeriesItems:function(t,e){return this.foundSeriesItemsMap[t]||(this.foundSeriesItemsMap[t]=this.getFirstSeriesGroup(!0).filter(e)),this.foundSeriesItemsMap[t]},_makeCacheKey:function(t){var e=t;return arguments.length>1&&(e+=r.call(arguments,1).join("_")),e},_isValidGroup:function(t,e){return!tui.util.isExisty(e)||t===e},findSeriesItemsByDepth:function(t,e){var i=this,n=this._makeCacheKey(s.TREEMAP_DEPTH_KEY_PREFIX,t,e);return this._findSeriesItems(n,function(n){return n.depth===t&&i._isValidGroup(n.group,e)})},findSeriesItemsByParent:function(t){var e=this._makeCacheKey(s.TREEMAP_PARENT_KEY_PREFIX,t);return this._findSeriesItems(e,function(e){return e.parent===t})},findLeafSeriesItems:function(t){var e=this,i=this._makeCacheKey(s.TREEMAP_LEAF_KEY_PREFIX,t);return this._findSeriesItems(i,function(i){return!i.hasChild&&e._isValidGroup(i.group,t)})},findParentByDepth:function(t,e){var i=this.seriesItemMap[t]||null;return i&&i.depth!==e&&(i=this.findParentByDepth(i.parent,e)),i},initSeriesItemsMap:function(){this.foundSeriesItemsMap=null}});t.exports=u},function(t,e,i){"use strict";var n=i(22),a=i(23),s=tui.util.defineClass({init:function(t,e,i){this.chartType=i,this.formatFunctions=e,this.id=t.id,this.parent=t.parent,this.value=t.value,this.ratio=t.ratio,this.colorValue=t.colorValue,this.depth=t.depth,this.label=t.label||"",this.group=t.group,this.hasChild=!!t.hasChild,this.indexes=t.indexes},addRatio:function(t,e){t=t||1,e=e||0,this.colorRatio=n.calculateRatio(this.colorValue,t,e,1)||-1},pickValueMapForTooltip:function(){var t=this.formatFunctions,e=this.chartType,i=this.colorValue,n=a.formatValue(this.value,t,e,"tooltipValue"),s=(this.label?this.label+": ":"")+n,o={value:n,label:s,ratio:this.ratio};return tui.util.isExisty(i)&&(o.colorValue=a.formatValue(i,t,e,"tooltipColorValue"),o.colorRatio=this.colorRatio),o},pickLabelTemplateData:function(){var t={value:this.value,ratio:this.ratio,label:this.label};return tui.util.isExisty(this.colorValue)&&(t.colorValue=this.colorValue,t.colorValueRatio=this.ratio),t}});t.exports=s},function(t,e,i){"use strict";var n=i(83),a=i(89),s=i(2),o=i(5),r={_createBoundsModel:function(t,e){return new n({chartType:e.chartType,seriesNames:e.seriesNames,options:e.options,theme:e.theme,dataProcessor:t,hasAxes:e.hasAxes,isVertical:e.isVertical})},_createScaleDataModel:function(t,e,i){return new a({chartType:i.chartType,seriesNames:i.seriesNames,options:i.options,theme:i.theme,dataProcessor:t,boundsModel:e,hasRightYAxis:i.hasRightYAxis,addedDataCount:i.addedDataCount})},addYAxisScale:function(t,e,i,n){t.addScale(e,i&&i.options||n||{},{valueType:i.valueType||"value",areaType:i.areaType,chartType:i.chartType},i.additionalOptions)},_registerYAxisDimension:function(t,e,i,n,a){var s,o=t.get(n),r=null;o&&(s=i[n],s&&(r=s.limit),e.registerYAxisDimension(r,n,o.options,o.theme,a))},_setLayoutBoundsAndScale:function(t,e,i,n,a){var r,u=a.options,h=a.scaleOption||{},l=a.addingDataMode,c=a.isVertical;e.has("xAxis")&&i.registerXAxisHeight(),e.has("legend")&&(e.get("legend").colorSpectrum?i.registerSpectrumLegendDimension():i.registerLegendDimension()),h.yAxis&&this.addYAxisScale(n,"yAxis",h.yAxis,a.options.yAxis),h.rightYAxis&&this.addYAxisScale(n,"rightYAxis",h.rightYAxis),h.legend&&n.addScale("legend",{},{chartType:a.chartType},{tickCounts:[s.SPECTRUM_LEGEND_TICK_COUNT]}),r=n.scaleDataMap,this._registerYAxisDimension(e,i,r,"yAxis",c),this._registerYAxisDimension(e,i,r,"rightYAxis",c),h.xAxis&&n.addScale("xAxis",u.xAxis,{valueType:h.xAxis.valueType||"value"},h.xAxis.additionalOptions),a.hasAxes&&n.setAxisDataMap(),i.registerSeriesDimension(),e.has("circleLegend")&&u.circleLegend.visible&&i.registerCircleLegendDimension(n.axisDataMap),e.has("xAxis")&&(o.isAutoTickInterval(u.xAxis.tickInterval)&&n.updateXAxisDataForAutoTickInterval(a.prevXAxisData,l),n.updateXAxisDataForLabel(l)),i.registerBoundsData(n.axisDataMap.xAxis)},build:function(t,e,i){var n,a=this._createBoundsModel(t,i),s=this._createScaleDataModel(t,a,i);return this._setLayoutBoundsAndScale(t,e,a,s,i),n={dimensionMap:a.dimensionMap,positionMap:a.positionMap,limitMap:s.makeLimitMap(i.seriesNames||[i.chartType],i.isVertical)},s.axisDataMap&&(n.axisDataMap=s.axisDataMap),o.isBubbleChart(i.chartType)&&(n.maxRadius=a.calculateMaxRadius(s.axisDataMap)),s.scaleDataMap.legend&&(n.legendScaleData=s.scaleDataMap.legend),n}};t.exports=r},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(23),o=i(84),r=i(85),u=i(86),h=i(87),l=i(88),c=tui.util.defineClass({init:function(t){this.options=t.options||{},this.options.legend=this.options.legend||{},this.options.yAxis=this.options.yAxis||{},this.theme=t.theme||{},this.hasAxes=t.hasAxes,this.chartType=t.chartType,this.seriesNames=t.seriesNames||[],this.dataProcessor=t.dataProcessor,this.initBoundsData()},initBoundsData:function(){this.dimensionMap={legend:{width:0},yAxis:{width:0},rightYAxis:{width:0},xAxis:{height:0},circleLegend:{width:0},chartExportMenu:{width:0}},this.positionMap={},this.chartLeftPadding=n.CHART_PADDING,this.maxRadiusForBubbleChart=null,this._registerChartDimension(),this._registerTitleDimension(),this._registerChartExportMenuDimension()},_registerDimension:function(t,e){this.dimensionMap[t]=tui.util.extend(this.dimensionMap[t]||{},e)},getBound:function(t){return{dimension:this.dimensionMap[t]||{},position:this.positionMap[t]||{}}},_setBound:function(t,e){this.dimensionMap[t]=e.dimension,this.positionMap[t]=e.position},getDimension:function(t){return this.dimensionMap[t]},getDimensionMap:function(t){var e=this,i={};return t&&t.length?tui.util.forEachArray(t,function(t){i[t]=e.dimensionMap[t]}):i=this.dimensionMap,JSON.parse(JSON.stringify(i))},getPosition:function(t){return this.positionMap[t]},_registerChartDimension:function(){var t=this.options.chart||{},e={width:t.width||n.CHART_DEFAULT_WIDTH,height:t.height||n.CHART_DEFAULT_HEIGHT};this._registerDimension("chart",e)},_registerTitleDimension:function(){var t=this.options.chart||{title:{}},e=tui.util.isExisty(t.title),i=e?s.getRenderedLabelHeight(t.title.text,this.theme.title):0,a={height:i+n.TITLE_PADDING};this._registerDimension("title",a)},_registerChartExportMenuDimension:function(){this._registerDimension("chartExportMenu",{height:17,width:60})},registerXAxisHeight:function(){this._registerDimension("xAxis",{height:r.calculateXAxisHeight(this.options.xAxis.title,this.theme.xAxis)})},registerLegendDimension:function(){var t=tui.util.pluck(this.dataProcessor.getOriginalLegendData(),"label"),e=this.options.legend,i=this.theme.legend.label,n=this.getDimension("chart").width,a=u.calculate(e,i,t,n);this._registerDimension("legend",a)},registerSpectrumLegendDimension:function(){var t,e=this.dataProcessor.getFormattedMaxValue(this.chartType,"legend"),i=this.theme.label;t=a.isHorizontalLegend(this.options.legend.align)?l._makeHorizontalDimension(e,i):l._makeVerticalDimension(e,i),this._registerDimension("legend",t)},registerYAxisDimension:function(t,e,i,n,s){var o;if(t)o=[t.min,t.max];else{if(!a.isHeatmapChart(this.chartType)&&s)return;o=this.dataProcessor.getCategories(!0)}this._registerDimension(e,{width:r.calculateYAxisWidth(o,i,n)})},calculateSeriesWidth:function(){var t=this.getDimensionMap(["chart","yAxis","legend","rightYAxis"]);return h.calculateWidth(t,this.options.legend)},calculateSeriesHeight:function(){var t=this.getDimensionMap(["chart","title","legend","xAxis"]);return h.calculateHeight(t,this.options.legend)},getBaseSizeForLimit:function(t){var e;return e=t?this.calculateSeriesHeight():this.calculateSeriesWidth()},_makeSeriesDimension:function(){return{width:this.calculateSeriesWidth(),height:this.calculateSeriesHeight()}},registerSeriesDimension:function(){var t=this._makeSeriesDimension();this._registerDimension("series",t)},_updateLegendAndSeriesWidth:function(t,e){var i=this.options.legend;a.isVerticalLegend(i.align)&&i.visible&&this._registerDimension("legend",{width:t}),this._registerDimension("series",{width:this.getDimension("series").width-e})},registerCircleLegendDimension:function(t){var e,i,s=this.getDimension("series"),r=this.options.legend,u=this.dataProcessor.getFormattedMaxValue(this.chartType,"circleLegend","r"),h=this.theme.chart.fontFamily,l=o.calculateCircleLegendWidth(s,t,u,h);e=a.isVerticalLegend(r.align)&&r.visible?this.getDimension("legend").width:0,l=Math.min(l,Math.max(e,n.MIN_LEGEND_WIDTH)),i=l-e,this._registerDimension("circleLegend",{width:l,height:l}),i&&this._updateLegendAndSeriesWidth(l,i)},_makePlotDimension:function(){var t=this.getDimension("series");return{width:t.width,height:t.height+n.OVERLAPPING_WIDTH}},_registerCenterComponentsDimension:function(){var t=this.getDimension("series");this._registerDimension("tooltip",t),this._registerDimension("mouseEventDetector",t)},_registerAxisComponentsDimension:function(){var t=this._makePlotDimension();this._registerDimension("plot",t),this._registerDimension("xAxis",{width:t.width}),this._registerDimension("yAxis",{height:t.height}),this._registerDimension("rightYAxis",{height:t.height})},_updateDimensionsWidth:function(t){this.chartLeftPadding+=t,this.dimensionMap.plot.width-=t,this.dimensionMap.series.width-=t,this.dimensionMap.mouseEventDetector.width-=t,this.dimensionMap.xAxis.width-=t},_updateDimensionsHeight:function(t){this.dimensionMap.plot.height-=t,this.dimensionMap.series.height-=t,this.dimensionMap.mouseEventDetector.height-=t,this.dimensionMap.tooltip.height-=t,this.dimensionMap.yAxis.height-=t,this.dimensionMap.rightYAxis.height-=t,this.dimensionMap.xAxis.height+=t},_updateDimensionsForXAxisLabel:function(t){t.overflowLeft>0&&this._updateDimensionsWidth(t.overflowLeft),t.overflowHeight&&this._updateDimensionsHeight(t.overflowHeight)},_registerAxisComponentsPosition:function(t){var e=this.getPosition("series"),i=this.getDimension("series"),a=this.getDimension("yAxis").width,s=a+i.width+t;this.positionMap.plot={top:e.top,left:e.left},this.positionMap.yAxis={top:e.top,left:this.chartLeftPadding+t},this.positionMap.xAxis={top:e.top+i.height,left:e.left},this.positionMap.rightYAxis={top:e.top,left:this.chartLeftPadding+s-n.OVERLAPPING_WIDTH}},_makeLegendPosition:function(){var t,e,i=this.dimensionMap,s=this.getDimension("series"),o=this.options.legend,r=i.title.height;return a.isLegendAlignBottom(o.align)&&(r+=s.height+this.getDimension("xAxis").height+n.LEGEND_AREA_PADDING),a.isHorizontalLegend(o.align)?e=(this.getDimension("chart").width-this.getDimension("legend").width)/2-n.LEGEND_AREA_PADDING:a.isLegendAlignLeft(o.align)?e=0:(t=this.getDimension("yAxis").width+this.getDimension("rightYAxis").width,e=s.width+t+this.chartLeftPadding),{top:r,left:e}},_makeChartExportMenuPosition:function(){return{top:10,right:20}},_makeCircleLegendPosition:function(){var t,e,i=this.getPosition("series"),s=this.getDimension("series"),o=this.getDimension("circleLegend"),r=this.options.legend;return t=a.isLegendAlignLeft(r.align)?0:i.left+s.width,a.isVerticalLegend(r.align)&&r.visible&&(e=this.getDimension("legend").width+n.CHART_PADDING,t+=(e-o.width)/2),{top:i.top+s.height-o.height,left:t}},_isNeedExpansionSeries:function(){var t=this.chartType;return!(a.isPieChart(t)||a.isMapChart(t)||a.isTreemapChart(t)||a.isRadialChart(t)||a.isPieDonutComboChart(t,this.seriesNames))},_registerEssentialComponentsPositions:function(){var t,e=this.getPosition("series");this.positionMap.mouseEventDetector=tui.util.extend({},e),this.positionMap.legend=this._makeLegendPosition(),this.positionMap.chartExportMenu=this._makeChartExportMenuPosition(),this.getDimension("circleLegend").width&&(this.positionMap.circleLegend=this._makeCircleLegendPosition()),t=this._isNeedExpansionSeries()?{top:e.top-n.SERIES_EXPAND_SIZE,left:e.left-n.SERIES_EXPAND_SIZE}:e,this.positionMap.tooltip=t},_registerPositions:function(){var t=this.options.legend.align,e=this.options.legend.visible,i=this.getDimension("legend"),s=a.isLegendAlignTop(t)&&e?i.height:0,o=a.isLegendAlignLeft(t)&&e?i.width:0,r={top:this.getDimension("title").height+n.CHART_PADDING+s,left:this.chartLeftPadding+o+this.getDimension("yAxis").width};this.positionMap.series=r,this.hasAxes&&this._registerAxisComponentsPosition(o),this._registerEssentialComponentsPositions()},_registerExtendedSeriesBound:function(){var t=this.getBound("series");this._isNeedExpansionSeries()&&(t=s.expandBound(t)),this._setBound("extendedSeries",t)},_updateBoundsForYAxisCenterOption:function(){var t=this.getDimension("yAxis").width,e=Math.floor(this.getDimension("series").width/2)+n.OVERLAPPING_WIDTH,i=t-n.OVERLAPPING_WIDTH,a=s.isOldBrowser()?1:0;this.dimensionMap.extendedSeries.width+=t,this.dimensionMap.xAxis.width+=n.OVERLAPPING_WIDTH,this.dimensionMap.plot.width+=t+n.OVERLAPPING_WIDTH,this.dimensionMap.mouseEventDetector.width+=t,this.dimensionMap.tooltip.width+=t,this.positionMap.series.left-=t-a,this.positionMap.extendedSeries.left-=i-a,this.positionMap.plot.left-=i,this.positionMap.yAxis.left+=e,this.positionMap.xAxis.left-=i,this.positionMap.mouseEventDetector.left-=i,this.positionMap.tooltip.left-=i},registerBoundsData:function(t){this._registerCenterComponentsDimension(),this.hasAxes&&(this._registerAxisComponentsDimension(),this._updateDimensionsForXAxisLabel(t)),this._registerPositions(),this._registerExtendedSeriesBound(),this.options.yAxis.isCenter&&this._updateBoundsForYAxisCenterOption()},calculateMaxRadius:function(t){var e=this.getDimensionMap(["series","circleLegend"]);return o.calculateMaxRadius(e,t)}});t.exports=c},function(t,e,i){"use strict";var n=i(2),a=i(23),s={_calculatePixelStep:function(t,e){var i,n=t.tickCount;return i=t.isLabelAxis?e/n/2:e/(n-1),parseInt(i,10)},_calculateRadiusByAxisData:function(t,e){var i=this._calculatePixelStep(e.yAxis,t.height),n=this._calculatePixelStep(e.xAxis,t.width);return Math.min(i,n)},_getCircleLegendLabelMaxWidth:function(t,e){return a.getRenderedLabelWidth(t,{fontSize:n.CIRCLE_LEGEND_LABEL_FONT_SIZE,fontFamily:e})},calculateCircleLegendWidth:function(t,e,i,a){var s=this._calculateRadiusByAxisData(t,e),o=this._getCircleLegendLabelMaxWidth(i,a);return Math.max(2*s,o)+n.CIRCLE_LEGEND_PADDING},calculateMaxRadius:function(t,e){var i=this._calculateRadiusByAxisData(t.series,e),a=t.circleLegend.width;return Math.min((a-n.CIRCLE_LEGEND_PADDING)/2,i)}};t.exports=s},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(23),o={calculateXAxisHeight:function(t,e){var i=t?s.getRenderedLabelHeight(t.text,e.title):0,a=i?i+n.TITLE_PADDING:0,o=s.getRenderedLabelHeight(n.MAX_HEIGHT_WORLD,e.label);return a+o+n.CHART_PADDING},calculateYAxisWidth:function(t,e,i){var o=e.title||"",r=0,u=0;return e.isCenter?u+=n.AXIS_LABEL_PADDING:r=e.rotateTitle===!1?s.getRenderedLabelWidth(o.text,i.title)+n.TITLE_PADDING:s.getRenderedLabelHeight(o.text,i.title)+n.TITLE_PADDING,a.isDatetimeType(e.type)&&(t=s.formatDates(t,e.dateFormat)),u+=s.getRenderedLabelsMaxWidth(t,i.label)+r+n.AXIS_LABEL_PADDING}};t.exports=o},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(22),o=i(23),r=i(6),u={legendMargin:n.LEGEND_RECT_WIDTH+n.LEGEND_LABEL_LEFT_PADDING+n.LEGEND_AREA_PADDING,_calculateLegendsWidthSum:function(t,e,i){var n=this.legendMargin;return s.sum(tui.util.map(t,function(t){var a=o.getRenderedLabelWidth(t,e)+i;return a+n}))},_divideLegendLabels:function(t,e){var i=Math.round(t.length/e),n=[],a=[];return tui.util.forEachArray(t,function(t){a.length<i?a.push(t):(n.push(a),a=[t])}),a.length&&n.push(a),n},_getMaxLineWidth:function(t,e,i){var n=this,a=tui.util.map(t,function(t){return n._calculateLegendsWidthSum(t,e,i)});return r.max(a)},_makeDividedLabelsAndMaxLineWidth:function(t,e,i,n){var a,s,o=1,r=0,u=0;do{if(a=this._divideLegendLabels(t,o),r=this._getMaxLineWidth(a,i,n),u===r){a=s;break}u=r,s=a,o+=1}while(r>=e);return{labels:a,maxLineWidth:r}},_calculateHorizontalLegendHeight:function(t,e){return s.sum(tui.util.map(t,function(t){return o.getRenderedLabelsMaxHeight(t,e)}))},_makeHorizontalDimension:function(t,e,i,a){var s=this._makeDividedLabelsAndMaxLineWidth(e,i,t,a),o=this._calculateHorizontalLegendHeight(s.labels,t),r=o+2*n.LEGEND_AREA_PADDING;return{width:Math.max(s.maxLineWidth,n.MIN_LEGEND_WIDTH),height:r}},_makeVerticalDimension:function(t,e,i){var n=o.getRenderedLabelsMaxWidth(e,t)+i;return{width:n+this.legendMargin,height:0}},calculate:function(t,e,i,s){var o=t.showCheckbox===!1?0:n.LEGEND_CHECKBOX_WIDTH,r={};return t.visible?r=a.isHorizontalLegend(t.align)?this._makeHorizontalDimension(e,i,s,o):this._makeVerticalDimension(e,i,o):r.width=0,r}};t.exports=u},function(t,e,i){"use strict";var n=i(2),a=i(5),s={calculateWidth:function(t,e){var i,s,o=t.chart.width,r=t.yAxis.width,u=t.legend;return i=a.isVerticalLegend(e.align)&&e.visible&&u?u.width:0,s=i+t.rightYAxis.width,o-2*n.CHART_PADDING-r-s},calculateHeight:function(t,e){var i,s,o=t.chart.height,r=t.title.height;return i=a.isHorizontalLegend(e.align)&&e.visible?t.legend.height:0,s=i+t.xAxis.height,o-2*n.CHART_PADDING-r-s}};t.exports=s},function(t,e,i){"use strict";var n=i(2),a=i(23),s={_makeVerticalDimension:function(t,e){var i=a.getRenderedLabelWidth(t,e),s=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_GRAPH_SIZE+i+s,height:n.MAP_LEGEND_SIZE}},_makeHorizontalDimension:function(t,e){var i=a.getRenderedLabelHeight(t,e),s=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_SIZE,height:n.MAP_LEGEND_GRAPH_SIZE+i+s}}};t.exports=s},function(t,e,i){"use strict";var n=i(90),a=i(92),s=i(93),o=i(5),r=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.seriesNames=t.seriesNames,this.dataProcessor=t.dataProcessor,this.boundsModel=t.boundsModel,this.options=t.options,this.theme=t.theme,this.hasRightYAxis=!!t.hasRightYAxis,this.prevValidLabelCount=null,this.initScaleData(t.addedDataCount),this.initForAutoTickInterval()},initScaleData:function(t){this.scaleDataMap={},this.axisDataMap={},this.addedDataCount=t},initForAutoTickInterval:function(){this.firstTickCount=null},_pickLimitOption:function(t){return t=t||{},{min:t.min,max:t.max}},_createBaseScaleData:function(t,e,i,a){var s=t.chartType,r="xAxis"!==t.areaType,u=this.dataProcessor.createBaseValuesForLimit(s,a.isSingleYAxis,e.stackType,t.valueType),h=this.boundsModel.getBaseSizeForLimit(r),l=tui.util.extend(e,{isVertical:r,limitOption:this._pickLimitOption(i),tickCounts:a.tickCounts});return o.isBubbleChart(s)&&(l.overflowItem=this.dataProcessor.findOverflowItem(s,t.valueType)),n.makeScaleData(u,h,s,l)},_createScaleLabels:function(t,e,i,n){var s=this.dataProcessor.getFormatFunctions(),o=tui.util.extend(i,{dateFormat:n});return a.createFormattedLabels(t,e,o,s)},_createScaleData:function(t,e,i){var n,a,s=this.options.series,o=e.chartType||this.chartType;return e.chartType=o,s=s[o]||s,n={stackType:i.stackType||s.stackType,diverging:s.diverging,type:t.type},a=this._createBaseScaleData(e,n,t,i),tui.util.extend(a,{labels:this._createScaleLabels(a,e,n,t.dateFormat),axisOptions:t})},_createValueAxisData:function(t,e,i,n,a){var o,r,u=this.dataProcessor.hasCategories(),h=!n&&!u&&i,l=t.labels,c=t.limit,d=t.step,p=l.length,f=s.makeValueAxisData({labels:l,tickCount:l.length,limit:c,step:d,options:t.axisOptions,labelTheme:e,isVertical:!!n,isPositionRight:!!a,aligned:i});return h&&(o=this.dataProcessor.getValues(this.chartType,"x"),r=s.makeAdditionalDataForCoordinateLineType(l,o,c,d,p),tui.util.extend(f,r)),f},_createLabelAxisData:function(t,e,i,n,a){return s.makeLabelAxisData({labels:this.dataProcessor.getCategories(n),options:t,labelTheme:e,isVertical:!!n,isPositionRight:!!a,aligned:i,addedDataCount:this.options.series.shifting?this.addedDataCount:0})},_createAxisData:function(t,e,i,n,a){var s,r=o.isLineTypeChart(this.chartType,this.seriesNames);return s=t?this._createValueAxisData(t,i,r,n,a):this._createLabelAxisData(e,i,r,n,a)},_createAxesData:function(){var t=this.scaleDataMap,e=this.options,i=this.theme,n=tui.util.isArray(e.yAxis)?e.yAxis:[e.yAxis],a={};return a.xAxis=this._createAxisData(t.xAxis,e.xAxis,i.xAxis.label),a.yAxis=this._createAxisData(t.yAxis,n[0],i.yAxis.label,!0),this.hasRightYAxis&&(a.rightYAxis=this._createAxisData(t.rightYAxis,n[1],i.yAxis.label,!0,!0),a.rightYAxis.aligned=a.xAxis.aligned),a},addScale:function(t,e,i,n){i=i||{},n=n||{},i.areaType=i.areaType||t,i.chartType=n.chartType||i.chartType,this.scaleDataMap[t]=this._createScaleData(e,i,n)},setAxisDataMap:function(){this.axisDataMap=this._createAxesData()},updateXAxisDataForAutoTickInterval:function(t,e){var i=this.options.series.shifting,n=this.options.series.zoomable,a=this.axisDataMap.xAxis,o=this.boundsModel.getDimension("series").width,r=this.addedDataCount;i||!t||n?s.updateLabelAxisDataForAutoTickInterval(a,o,r,e):s.updateLabelAxisDataForStackingDynamicData(a,t,this.firstTickCount),this.firstTickCount||(this.firstTickCount=a.tickCount)},updateXAxisDataForLabel:function(t){var e,i,n,a=this.axisDataMap.xAxis,o=a.labels,r=this.boundsModel.getDimensionMap(["series","yAxis"]),u=a.isLabelAxis,h=this.theme.xAxis.label;t&&(o=o.slice(0,o.length-1)),e=tui.util.filter(o,function(t){return!!t}),i=tui.util.isNull(this.prevValidLabelCount)?e.length:this.prevValidLabelCount,this.options.yAxis.isCenter&&(i+=1,r.yAxis.width=0),n=a.options.rotateLabel===!1?s.makeAdditionalDataForMultilineLabels(o,i,h,u,r):s.makeAdditionalDataForRotatedLabels(e,i,h,u,r),this.prevValidLabelCount=i,tui.util.extend(a,n)},_findLimit:function(t,e,i){var n;return n=0===e?i?t.yAxis:t.xAxis:t.rightYAxis?t.rightYAxis:t.yAxis},makeLimitMap:function(t,e){var i=this,n=this.scaleDataMap,a={};return n.xAxis&&(a.xAxis=n.xAxis.limit),n.yAxis&&(a.yAxis=n.yAxis.limit),n.rightYAxis&&(a.rightYAxis=n.rightYAxis.limit),n.legend&&(a.legend=n.legend.limit),tui.util.forEachArray(t,function(t,n){a[t]=i._findLimit(a,n,e)}),a}});t.exports=r},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(22),o=i(6),r=i(91),u=Math.abs,h={_makeLimitForDivergingOption:function(t){var e=Math.max(u(t.min),u(t.max));return{min:-e,max:e}},_adjustLimitForBubbleChart:function(t,e,i){var n=t.min,a=t.max;return i.minItem&&(n-=e),i.maxItem&&(a+=e),{min:n,max:a}},millisecondMap:{year:31536e6,month:26784e5,date:864e5,hour:36e5,minute:6e4,second:1e3},millisecondTypes:["year","month","date","hour","minute","second"],_findDateType:function(t,e){var i,a=t.max-t.min,s=this.millisecondTypes,o=this.millisecondMap,r=s.length-1;return a?tui.util.forEachArray(s,function(t,n){var u,h=o[t],l=Math.floor(a/h);return l&&(u=n<r&&l<e?n+1:n,i=s[u]),!tui.util.isExisty(u)}):i=n.DATE_TYPE_SECOND,i},_makeDatetimeInfo:function(t,e){var i=this._findDateType(t,e),n=this.millisecondMap[i],a=s.divide(t.min,n),o=s.divide(t.max,n),r=o-a;return{divisionNumber:n,minDate:a,dataLimit:{min:0,max:r}}},_restoreScaleToDatetimeType:function(t,e,i){var n=t.limit;return t.step=s.multiply(t.step,i),n.min=s.multiply(s.add(n.min,e),i),n.max=s.multiply(s.add(n.max,e),i),t},_getLimitSafely:function(t){var e={min:o.min(t),max:o.max(t)};return 0===e.min&&0===e.max&&(e.max=10),e},_calculateDatetimeScale:function(t,e,i){var n,a,s;return n=this._makeDatetimeInfo(this._getLimitSafely(t),t.length),s=n.dataLimit,i&&(s=this._makeLimitForDivergingOption(s)),a=r({min:s.min,max:s.max,offsetSize:e}),a=this._restoreScaleToDatetimeType(a,n.minDate,n.divisionNumber)},_calculatePercentStackedScale:function(t,e){var i;return i=0===s.sumMinusValues(t)?n.PERCENT_STACKED_AXIS_SCALE:0===s.sumPlusValues(t)?n.MINUS_PERCENT_STACKED_AXIS_SCALE:e?n.DIVERGING_PERCENT_STACKED_AXIS_SCALE:n.DUAL_PERCENT_STACKED_AXIS_SCALE},_calculateCoordinateScale:function(t,e,i,n,a){var s,o=this._getLimitSafely(t),u=a.limitOption,h=a.stepCount,l=o.min,c=o.max;return u&&(u.min||u.max)&&(h=null,l=tui.util.isExisty(u.min)?u.min:l,c=tui.util.isExisty(u.max)?u.max:c),s=r({min:l,max:c,stepCount:h,offsetSize:e}),i?s.limit=this._adjustLimitForBubbleChart(s.limit,s.step,i):n&&(s.limit=this._makeLimitForDivergingOption(s.limit)),s},makeScaleData:function(t,e,i,n){var s,o=a.isDivergingChart(i,n.diverging),r=n.overflowItem;return a.isPercentStackChart(i,n.stackType)?s=this._calculatePercentStackedScale(t,o):a.isDatetimeType(n.type)?s=this._calculateDatetimeScale(t,e,o):(a.isRadialChart(i)&&(n.stepCount=Math.floor(e/100)),s=this._calculateCoordinateScale(t,e,r,o,n)),s}};t.exports=h},function(t,e){"use strict";function i(t){var e=Math.log(t)/Math.LN10;return Math.pow(10,Math.floor(e))}function n(t){var e,i,n,a;for(n=0,a=h.length;n<a&&(i=h[n],e=(i+(h[n+1]||i))/2,!(t<=e));n+=1);return i}function a(t){var e=i(t),a=t/e;return n(a)*e}function s(t,e,i){return e=Math.ceil(e/i)*i,t=t>i?i*Math.floor(t/i):t<0?-(Math.ceil(Math.abs(t)/i)*i):0,{min:t,max:e}}function o(t){var e=a(t.step),i=s(t.limit.min,t.limit.max,e),n=Math.abs(i.max-i.min),o=n/e;return{limit:{min:i.min,max:i.max},step:e,stepCount:o}}function r(t,e,i,n){var a,s,o=Math.abs(e-t),r=o/i;return n||(n=Math.ceil(i/l)),a=i/n,s=r*a,{limit:{min:t,max:e},step:s,stepCount:n}}function u(t){var e=t.min,i=t.max,n=t.offsetSize,a=t.stepCount,s=r(e,i,n,a);return s=o(s)}var h=[1,2,5,10],l=88;t.exports=u},function(t,e,i){"use strict";var n=i(5),a=i(22),s=i(23),o=Math.abs,r={_getFormatFunctions:function(t,e,i){return n.isPercentStackChart(t,e)&&(i=[function(t){return t+"%"}]),i},_createScaleValues:function(t,e,i){var s=a.makeLabelsFromLimit(t.limit,t.step);return n.isDivergingChart(e,i)?tui.util.map(s,o):s},createFormattedLabels:function(t,e,i,a){var o,r=e.chartType,u=e.areaType,h=e.valueType,l=this._createScaleValues(t,r,i.diverging);return n.isDatetimeType(i.type)?o=s.formatDates(l,i.dateFormat):(a=this._getFormatFunctions(r,i.stackType,a),o=s.formatValues(l,a,r,u,h)),o}};t.exports=r},function(t,e,i){"use strict";var n=i(2),a=i(5),s=i(22),o=i(23),r=i(6),u={_makeLabelsByIntervalOption:function(t,e,i){return i=i||0,t=tui.util.map(t,function(t,a){return(a+i)%e!==0&&(t=n.EMPTY_AXIS_LABEL),t})},makeLabelAxisData:function(t){var e=t.labels.length,i=t.options||{},n=t.labels;return a.isValidLabelInterval(i.labelInterval,i.tickInterval)&&t.labels.length>i.labelInterval&&(n=this._makeLabelsByIntervalOption(t.labels,i.labelInterval,t.addedDataCount)),a.isDatetimeType(i.type)&&(n=o.formatDates(n,i.dateFormat)),t.aligned||(e+=1),{labels:n,tickCount:e,validTickCount:0,isLabelAxis:!0,options:i,isVertical:!!t.isVertical,isPositionRight:!!t.isPositionRight,aligned:!!t.aligned}},makeValueAxisData:function(t){var e=t.labels,i=t.tickCount,n=t.limit,a={labels:e,tickCount:i,validTickCount:i,limit:n,dataMin:n.min,distance:n.max-n.min,step:t.step,options:t.options,isVertical:!!t.isVertical,isPositionRight:!!t.isPositionRight,aligned:!!t.aligned};return a},makeAdditionalDataForCoordinateLineType:function(t,e,i,n,a){var s,o=1,u=0,h=r.min(e),l=r.max(e);return s=l-h,i.min<h&&(i.min+=n,u=(i.min-h)/s,o-=u,a-=1,t.shift()),i.max>l&&(i.max-=n,o-=(l-i.max)/s,a-=1,t.pop()),{labels:t,tickCount:a,validTickCount:a,limit:i,dataMin:h,distance:s,positionRatio:u,sizeRatio:o}},_makeAdjustingIntervalInfo:function(t,e,i){var n,a=parseInt(e/i,10),s=parseInt(t/a,10),o=null;return s>1&&(n=t-s*a,n>=s&&(a+=parseInt(n/s,0),n%=s),o={blockCount:a,beforeRemainBlockCount:n,interval:s}),o},_makeCandidatesForAdjustingInterval:function(t,e){var i=this,n=tui.util.range(90,121,5),a=tui.util.map(n,function(n){return i._makeAdjustingIntervalInfo(t,e,n)});return tui.util.filter(a,function(t){return!!t})},_calculateAdjustingIntervalInfo:function(t,e){var i=this._makeCandidatesForAdjustingInterval(t,e),n=null;return i.length&&(n=r.min(i,function(t){return t.blockCount})),n},_makeFilteredLabelsByInterval:function(t,e,i){return tui.util.filter(t.slice(e),function(t,e){return e%i===0})},updateLabelAxisDataForAutoTickInterval:function(t,e,i,n){var a,s,o,r,u,h;n&&(t.tickCount-=1,t.labels.pop()),a=t.tickCount-1,s=this._calculateAdjustingIntervalInfo(a,e),s&&(o=s.blockCount,r=s.interval,u=s.beforeRemainBlockCount,t.eventTickCount=t.tickCount,h=Math.round(u/2)-i%r,h<0&&(h+=r),t.labels=this._makeFilteredLabelsByInterval(t.labels,h,r),tui.util.extend(t,{startIndex:h,tickCount:o+1,positionRatio:h/a,sizeRatio:1-u/a,interval:r}))},updateLabelAxisDataForStackingDynamicData:function(t,e,i){var n,a=e.interval,s=e.startIndex,o=t.tickCount-1,r=o/a,u=i?i-1:0;u&&2*u<=r&&(a*=2),t.labels=this._makeFilteredLabelsByInterval(t.labels,s,a),r=t.labels.length-1,n=o-a*r,tui.util.extend(t,{startIndex:s,eventTickCount:t.tickCount,tickCount:t.labels.length,positionRatio:s/o,sizeRatio:1-n/o,interval:a})},_calculateXAxisLabelAreaWidth:function(t,e,i){return t||(i-=1),e/i},_createMultilineLabel:function(t,e,i){var n=String(t).split(/\s+/),a=n[0],s=[];return tui.util.forEachArray(n.slice(1),function(t){var n=o.getRenderedLabelWidth(a+" "+t,i);n>e?(s.push(a),a=t):a+=" "+t}),a&&s.push(a),s.join("<br>")},_createMultilineLabels:function(t,e,i){var n=this._createMultilineLabel;return tui.util.map(t,function(t){return n(t,i,e)})},_calculateMultilineHeight:function(t,e,i){return o.getRenderedLabelsMaxHeight(t,tui.util.extend({cssText:"line-height:1.2;width:"+i+"px"},e))},makeAdditionalDataForMultilineLabels:function(t,e,i,n,a){var s=a.series.width,r=this._calculateXAxisLabelAreaWidth(n,s,e),u=this._createMultilineLabels(t,i,s),h=this._calculateMultilineHeight(u,i,r),l=o.getRenderedLabelsMaxHeight(t,i);return{multilineLabels:u,overflowHeight:h-l,overflowLeft:r/2-a.yAxis.width}},_findRotationDegree:function(t,e,i){var a=null;return tui.util.forEachArray(n.DEGREE_CANDIDATES,function(o){var r=s.calculateRotatedWidth(o,e,i);return a=o,!(r<=t+n.XAXIS_LABEL_COMPARE_MARGIN)}),a},_calculateRotatedWidth:function(t,e,i,a){var r=o.getRenderedLabelWidth(e,a),u=s.calculateRotatedWidth(t,r,i);return u-=s.calculateAdjacent(n.ANGLE_90-t,i/2)},_calculateLimitWidth:function(t,e,i){var n=t;return e&&(n+=i/2),n},makeAdditionalDataForRotatedLabels:function(t,e,i,n,a){var r,u,h,l,c,d=o.getRenderedLabelsMaxWidth(t,i),p=a.series.width,f=this._calculateXAxisLabelAreaWidth(n,p,e),m=null;return f<d?(u=o.getRenderedLabelsMaxHeight(t,i),r=this._findRotationDegree(f,d,u),h=s.calculateRotatedHeight(r,d,u),c=this._calculateRotatedWidth(r,t[0],u,i),l=this._calculateLimitWidth(a.yAxis.width,n,f),m={degree:r,overflowHeight:h-u,overflowLeft:c-l}):(f=o.getRenderedLabelWidth(t[0],i)/2,m={overflowLeft:f-a.yAxis.width}),m}};t.exports=u},function(t,e,i){"use strict";var n=i(5),a={_addAxisComponents:function(t,e){var i=this;tui.util.forEach(t,function(t){var n={aligned:e,isVertical:!!t.isVertical,seriesName:t.seriesName||i.chartType,classType:"axis"};"rightYAxis"===t.name&&(n.componentType="yAxis",n.index=1),i.componentManager.register(t.name,n)})},_addSeriesComponents:function(t,e){var i=this,n={libType:e.libType,chartType:e.chartType,componentType:"series",chartBackground:this.theme.chart.background};tui.util.forEach(t,function(t){var e=tui.util.extend(n,t.data);e.classType=t.name,i.componentManager.register(t.name,e)})},_addTooltipComponent:function(){var t=this.options.tooltip.grouped?"groupTooltip":"tooltip";this.componentManager.register("tooltip",this._makeTooltipData(t))},_addLegendComponent:function(t){var e=t.classType||"legend";this.componentManager.register("legend",tui.util.extend({seriesNames:this.seriesNames,chartType:this.chartType,classType:e},t.additionalParams));
},_addPlotComponent:function(t){this.componentManager.register("plot",{chartType:this.chartType,chartTypes:this.chartTypes,xAxisTypeOption:t,classType:"plot"})},_addChartExportMenuComponent:function(){var t=this.options.chart,e=t&&t.title?t.title.text:"chart";this.componentManager.register("chartExportMenu",{chartTitle:e,classType:"chartExportMenu"})},_addComponentsForAxisType:function(t){var e=this.options,i=!!t.aligned;t.plot&&this._addPlotComponent(e.xAxis.type),this._addAxisComponents(t.axis,i),e.legend.visible&&this._addLegendComponent(t.legend||{}),e.chartExportMenu.visible&&this._addChartExportMenuComponent(e.chartExportMenu),this._addSeriesComponents(t.series,e),this._addTooltipComponent(),this._addMouseEventDetectorComponent()},_addDataRatios:function(t){var e,i=this,a=this.chartTypes||[this.chartType],s=this.options.series||{};e=this.dataProcessor.isCoordinateType()?function(e){var a=n.isBubbleChart(e);i.dataProcessor.addDataRatiosForCoordinateType(e,t,a)}:function(e){var n=(s[e]||s).stackType;i.dataProcessor.addDataRatios(t[e],n,e)},tui.util.forEachArray(a,e)},_addSimpleEventDetectorComponent:function(){this.componentManager.register("mouseEventDetector",{chartType:this.chartType,classType:"simpleEventDetector"})},_addMouseEventDetectorComponentForGroupTooltip:function(){var t=this.options.series;this.componentManager.register("mouseEventDetector",{chartType:this.chartType,isVertical:this.isVertical,chartTypes:this.chartTypes,zoomable:t.zoomable,allowSelect:t.allowSelect,classType:"groupTypeEventDetector"})},_addMouseEventDetectorComponentForNormalTooltip:function(){this.componentManager.register("mouseEventDetector",{chartType:this.chartType,isVertical:this.isVertical,allowSelect:this.options.series.allowSelect,classType:"boundsTypeEventDetector"})},_addMouseEventDetectorComponent:function(){n.isCoordinateTypeChart(this.chartType)?this._addSimpleEventDetectorComponent():this.options.tooltip.grouped?this._addMouseEventDetectorComponentForGroupTooltip():this._addMouseEventDetectorComponentForNormalTooltip()}};t.exports=a},function(t,e,i){"use strict";var n=i(18),a=i(2),s=i(94),o=i(4),r=tui.util.defineClass(n,{className:"tui-column-chart",init:function(t,e,i){o.updateRawSeriesDataByOptions(t,i.series),this._updateOptionsRelatedDiverging(i),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0})},_updateOptionsRelatedDiverging:function(t){t.series=t.series||{},t.series.diverging&&(t.series.stackType=t.series.stackType||a.NORMAL_STACK_TYPE)},_addComponents:function(){this._addComponentsForAxisType({axis:[{name:"yAxis",isVertical:!0},{name:"xAxis"}],series:[{name:"columnSeries",data:{allowNegativeTooltip:!0}}],plot:!0})},_getScaleOption:function(){return{yAxis:!0}}});tui.util.extend(r.prototype,s),t.exports=r},function(t,e,i){"use strict";var n=i(18),a=i(97),s=i(98),o=i(94),r=i(99),u=i(61),h=tui.util.defineClass(n,{className:"tui-line-chart",Series:u,init:function(t,e,i){n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._initForAddingData()},onChangeCheckedLegends:function(t,e,i){this._initForAddingData(),this._changeCheckedLegends(t,e,i)}});tui.util.extend(h.prototype,o,a,s,r),t.exports=h},function(t,e){"use strict";var i={_getScaleOption:function(){var t={};return this.dataProcessor.isCoordinateType()?(t.xAxis={valueType:"x"},t.yAxis={valueType:"y"}):t.yAxis=!0,t},_addMouseEventDetectorComponentForNormalTooltip:function(){var t=this.options.series;this.componentManager.register("mouseEventDetector",{chartType:this.chartType,isVertical:this.isVertical,zoomable:t.zoomable,allowSelect:t.allowSelect,classType:"areaTypeEventDetector"})},_addComponents:function(){this.dataProcessor.isCoordinateType()&&(delete this.options.xAxis.tickInterval,this.options.tooltip.grouped=!1,this.options.series.shifting=!1),this._addComponentsForAxisType({axis:[{name:"yAxis",seriesName:this.chartType,isVertical:!0},{name:"xAxis"}],series:[{name:this.chartType+"Series"}],plot:!0})},addPlotLine:function(t){this.componentManager.get("plot").addPlotLine(t)},addPlotBand:function(t){this.componentManager.get("plot").addPlotBand(t)},removePlotLine:function(t){this.componentManager.get("plot").removePlotLine(t)},removePlotBand:function(t){this.componentManager.get("plot").removePlotBand(t)}};t.exports=i},function(t,e,i){"use strict";var n=i(4),a={_renderForZoom:function(t){var e=this;this._render(function(i){e.componentManager.render("zoom",i,{isResetZoom:t})})},onZoom:function(t){this._pauseAnimationForAddingData(),this.dataProcessor.updateRawDataForZoom(t),this._renderForZoom(!1)},onResetZoom:function(){var t=this.dataProcessor.getOriginalRawData();this.checkedLegends&&(t=n.filterCheckedRawData(t,this.checkedLegends)),this.dataProcessor.initData(t),this.dataProcessor.initZoomedRawData(),this.dataProcessor.addDataFromRemainDynamicData(tui.util.pick(this.options.series,"shifting")),this._renderForZoom(!0),this._restartAnimationForAddingData()}};t.exports=a},function(t,e,i){"use strict";var n=i(2),a=i(5),s={_initForAddingData:function(){this.lookupping=!1,this.paused=!1,this.rerenderingDelayTimerId=null,this.addedDataCount=0,this.checkedLegends=null,this.prevXAxisData=null},_calculateAnimateTickSize:function(t){var e,i=this.dataProcessor,n=this.options.xAxis.tickInterval,s=!!this.options.series.shifting;return e=i.isCoordinateType()?i.getValues(this.chartType,"x").length-1:i.getCategoryCount(!1)-1,s&&!a.isAutoTickInterval(n)&&(e-=1),t/e},_animateForAddingData:function(){var t=this,e=!!this.options.series.shifting;this.addedDataCount+=1,this._render(function(i){var n=t._calculateAnimateTickSize(i.dimensionMap.xAxis.width);t.componentManager.render("animateForAddingData",i,{tickSize:n,shifting:e})},!0),e&&this.dataProcessor.shiftData()},_rerenderForAddingData:function(){var t=this;this._render(function(e){t.componentManager.render("rerender",e)})},_checkForAddedData:function(){var t=this,e=this.dataProcessor.addDataFromDynamicData();return e?this.paused?void(this.options.series.shifting&&this.dataProcessor.shiftData()):(this._animateForAddingData(),void(this.rerenderingDelayTimerId=setTimeout(function(){t.rerenderingDelayTimerId=null,t._rerenderForAddingData(),t._checkForAddedData()},400))):void(this.lookupping=!1)},_pauseAnimationForAddingData:function(){this.paused=!0,this.rerenderingDelayTimerId&&(clearTimeout(this.rerenderingDelayTimerId),this.rerenderingDelayTimerId=null,this.options.series.shifting&&this.dataProcessor.shiftData())},_restartAnimationForAddingData:function(){this.paused=!1,this.lookupping=!1,this._startLookup()},_startLookup:function(){this.lookupping||(this.lookupping=!0,this._checkForAddedData())},addData:function(t,e){e||(e=t,t=null),this.dataProcessor.addDynamicData(t,e),this._startLookup()},_changeCheckedLegends:function(t,e,i){var a=this,s=!!this.options.series.shifting,o=this.paused;o||this._pauseAnimationForAddingData(),this.checkedLegends=t,this._rerender(t,e,i),o||setTimeout(function(){a.dataProcessor.addDataFromRemainDynamicData(s),a._restartAnimationForAddingData()},n.RERENDER_TIME)}};t.exports=s},function(t,e,i){"use strict";var n=i(18),a=i(97),s=i(98),o=i(94),r=i(99),u=i(4),h=i(64),l=tui.util.defineClass(n,{className:"tui-area-chart",Series:h,init:function(t,e,i){u.removeSeriesStack(t.series),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._initForAddingData()},onChangeCheckedLegends:function(t,e,i){this._initForAddingData(),this._changeCheckedLegends(t,e,i)}});tui.util.extend(l.prototype,o,a,s,r),t.exports=l},function(t,e,i){"use strict";var n=i(18),a=i(4),s=i(94),o=i(102),r=i(103),u=tui.util.defineClass(n,{init:function(t,e,i){this._initForVerticalTypeCombo(t,i),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0})},onChangeCheckedLegends:function(t){var e=this.dataProcessor.getOriginalRawData(),i=a.filterCheckedRawData(e,t),n=this._makeChartTypesMap(i.series,this.options.yAxis);tui.util.extend(this,n),this._rerender(t,i,n)}});tui.util.extend(u.prototype,s,o,r),t.exports=u},function(t,e){"use strict";var i={_getBaseSeriesOptions:function(t,e){var i=tui.util.extend({},t);return tui.util.forEachArray(e,function(t){delete i[t]}),i},_makeOptionsMap:function(t){var e=this.options.series,i=this._getBaseSeriesOptions(e,t),n={};return tui.util.forEachArray(t,function(t){n[t]=tui.util.extend({},i,e[t])}),n}};t.exports=i},function(t,e,i){"use strict";var n=i(5),a=i(22),s=i(23),o={_initForVerticalTypeCombo:function(t,e){var i=this._makeChartTypesMap(t.series,e.yAxis,e.chartType);e.tooltip=e.tooltip||{},e.tooltip.grouped=!0,this.chartTypes=i.chartTypes,this.seriesNames=i.seriesNames,this.hasRightYAxis=tui.util.isArray(e.yAxis)&&e.yAxis.length>1,this.yAxisOptionsMap=this._makeYAxisOptionsMap(i.chartTypes,e.yAxis)},_makeChartTypesMap:function(t,e){var i,n=tui.util.keys(t).sort(),a=this._getYAxisOptionChartTypes(n,e),s=a.length?a:n,o=tui.util.filter(a,function(e){return t[e].length});return i=1===o.length?{chartTypes:o,seriesNames:o}:{chartTypes:s,seriesNames:n}},_makeYAxisOptionsMap:function(t,e){var i={};return e=e||{},tui.util.forEachArray(t,function(t,n){i[t]=e[n]||e}),i},setAdditionalOptions:function(t){var e=this.dataProcessor;tui.util.forEach(this.options.series,function(i,a){var s;i.stackType&&(s=e.findChartType(a),n.isAllowedStackOption(s)&&(t.chartType=s,t.stackType=i.stackType))})},_makeYAxisScaleOption:function(t,e,i){var n=this.yAxisOptionsMap[e],a={isSingleYAxis:!!i};return i&&this.options.series&&this.setAdditionalOptions(a),{options:n,areaType:"yAxis",chartType:e,additionalOptions:a}},_getScaleOption:function(){var t={yAxis:this._makeYAxisScaleOption("yAxis",this.chartTypes[0],!this.hasRightYAxis)};return this.hasRightYAxis&&(t.rightYAxis=this._makeYAxisScaleOption("rightYAxis",this.chartTypes[1])),t},_makeDataForAddingSeriesComponent:function(t){var e=this._makeOptionsMap(t),i=this.dataProcessor,n=tui.util.map(t,function(t){var n=i.findChartType(t),a={allowNegativeTooltip:!0,chartType:n,seriesName:t,options:e[t]};return{name:t+"Series",data:a}});return n},_addComponents:function(){var t=[{name:"yAxis",seriesName:this.seriesNames[0],isVertical:!0},{name:"xAxis"}],e=this._makeDataForAddingSeriesComponent(this.seriesNames);this.hasRightYAxis&&t.push({name:"rightYAxis",seriesName:this.seriesNames[1],isVertical:!0}),this._addComponentsForAxisType({seriesNames:this.seriesNames,axis:t,series:e,plot:!0})},_getYAxisOptionChartTypes:function(t,e){var i,n=t.slice(),a=[].concat(e||[]),s=!1;return!a.length||1===a.length&&!a[0].chartType?n=[]:a.length&&(i=tui.util.map(a,function(t){return t.chartType}),tui.util.forEachArray(i,function(t,e){s=s||t&&n[e]!==t||!1}),s&&n.reverse()),n},_increaseYAxisTickCount:function(t,e){var i,n=this.dataProcessor.getFormatFunctions();e.limit.max+=e.step*t,i=a.makeLabelsFromLimit(e.limit,e.step),e.labels=s.formatValues(i,n,this.chartType,"yAxis"),e.tickCount+=t,e.validTickCount+=t},_updateYAxisTickCount:function(t){var e=t.yAxis,i=t.rightYAxis,n=i.tickCount-e.tickCount;n>0?this._increaseYAxisTickCount(n,e):n<0&&this._increaseYAxisTickCount(-n,i)}};t.exports=o},function(t,e,i){"use strict";var n=i(18),a=i(94),s=i(102),o=i(61),r=i(67),u=tui.util.defineClass(n,{init:function(t,e,i){this.chartTypes=["line","scatter"],this.seriesNames=["line","scatter"],n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0})},_addComponents:function(){var t=this._makeOptionsMap(this.seriesNames);this._addPlotComponent(this.options.xAxis.type),this._addAxisComponents([{name:"yAxis",seriesName:this.seriesNames[0],isVertical:!0},{name:"xAxis"}],!1),this._addLegendComponent({}),this._addSeriesComponents([{name:"lineSeries",SeriesClass:o,data:{allowNegativeTooltip:!0,chartType:"line",seriesName:"line",options:t.line}},{name:"scatterSeries",SeriesClass:r,data:{allowNegativeTooltip:!0,chartType:"scatter",seriesName:"scatter",options:t.scatter}}],this.options),this.componentManager.register("mouseEventDetector",{chartType:this.chartType,isVertical:this.isVertical,allowSelect:this.options.series.allowSelect,classType:"areaTypeEventDetector"}),this._addTooltipComponent()},_getScaleOption:function(){return{yAxis:{valueType:"y"},xAxis:{valueType:"x"}}}});tui.util.extend(u.prototype,a,s),t.exports=u},function(t,e,i){"use strict";var n=i(18),a=i(4),s=i(94),o=i(98),r=i(99),u=i(102),h=i(103),l=tui.util.defineClass(n,{className:"tui-combo-chart",init:function(t,e,i){this._initForVerticalTypeCombo(t,i),this._initForAddingData(),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0})},onChangeCheckedLegends:function(t){var e=this.dataProcessor.getZoomedRawData(),i=a.filterCheckedRawData(e,t),n=this._makeChartTypesMap(i.series,this.options.yAxis);tui.util.extend(this,n),this._initForAddingData(),this._changeCheckedLegends(t,i,n)}});tui.util.extend(l.prototype,s,o,r,u,h),t.exports=l},function(t,e,i){"use strict";var n=i(18),a=i(4),s=i(107),o=i(102),r=i(5),u=i(6),h=tui.util.defineClass(n,{className:"tui-combo-chart",init:function(t,e,i){this.seriesNames=tui.util.keys(t.series).sort(),this.chartTypes=["pie","pie"],n.call(this,{rawData:t,theme:e,options:i,isVertical:!0})},_makeDataForAddingSeriesComponent:function(){var t=this.seriesNames,e=this._makeOptionsMap(t),i=this.dataProcessor,n=u.any(e,r.isShowOuterLabel),a=tui.util.map(t,function(t){var a=i.findChartType(t),s={chartType:a,seriesName:t,options:e[t],isShowOuterLabel:n,isCombo:!0};return{name:t+"Series",additionalParams:s}});return a},_addComponents:function(){this._addLegendComponent(this.seriesNames),this._addTooltipComponent({labelFormatter:this.labelFormatter}),this.options.chartExportMenu.visible&&this._addChartExportMenuComponent(this.options.chartExportMenu),this._addSeriesComponents(this._makeDataForAddingSeriesComponent()),this._addMouseEventDetectorComponent()},_addDataRatios:function(){var t=this,e=this.seriesNames||[this.chartType];tui.util.forEachArray(e,function(e){t.dataProcessor.addDataRatiosOfPieChart(e)})},onChangeCheckedLegends:function(t){var e=this.dataProcessor.getOriginalRawData(),i=a.filterCheckedRawData(e,t);n.prototype.onChangeCheckedLegends.call(this,t,i,{seriesNames:this.seriesNames})}});tui.util.extend(h.prototype,s,o),t.exports=h},function(t,e){"use strict";var i={_addLegendComponent:function(t){var e=this.options.legend||{};e.visible&&this.componentManager.register("legend",{seriesNames:t,chartType:this.chartType,classType:"legend"})},_addTooltipComponent:function(t){this.componentManager.register("tooltip",this._makeTooltipData("tooltip",t))},_addSeriesComponents:function(t){var e=this.componentManager,i={libType:this.options.libType,componentType:"series",chartBackground:this.theme.chart.background,classType:"pieSeries"};tui.util.forEach(t,function(t){var n=tui.util.extend(i,t.additionalParams);e.register(t.name,n)})},_addChartExportMenuComponent:function(){var t=this.options.chart,e=t&&t.title?t.title.text:"chart";this.componentManager.register("chartExportMenu",{chartTitle:e,classType:"chartExportMenu"})},_addMouseEventDetectorComponent:function(){this.componentManager.register("mouseEventDetector",{chartType:this.chartType,classType:"simpleEventDetector"})},labelFormatter:function(t,e,i){var n,a=(100*t.ratio).toFixed(4),s=parseFloat(a),o=s<9e-4||a.length>5;return a=o?a.substr(0,4):String(s),n=a+"&nbsp;%&nbsp;"||"",e.ratioLabel=i+n,e.label=t.tooltipLabel||(t.label?t.label:""),e}};t.exports=i},function(t,e,i){"use strict";var n=i(18),a=i(107),s=i(2),o=tui.util.defineClass(n,{className:"tui-pie-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i})},_addComponents:function(){var t=this.options.chartExportMenu;this._addLegendComponent(),this._addTooltipComponent({labelFormatter:this.labelFormatter}),t.visible&&this._addChartExportMenuComponent(t),this._addSeriesComponents([{name:"pieSeries",additionalParams:{chartType:this.chartType}}]),this._addMouseEventDetectorComponent()},_addDataRatios:function(){this.dataProcessor.addDataRatiosOfPieChart(this.chartType)},_sendSeriesData:function(){n.prototype._sendSeriesData.call(this,s.CHART_TYPE_PIE)}});tui.util.extend(o.prototype,a),t.exports=o},function(t,e,i){"use strict";var n=i(18),a=i(2),s=i(94),o=tui.util.defineClass(n,{className:"tui-bubble-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},i.circleLegend=i.circleLegend||{},i.tooltip.align||(i.tooltip.align=a.TOOLTIP_DEFAULT_ALIGN_OPTION),tui.util.isUndefined(i.circleLegend.visible)&&(i.circleLegend.visible=!0),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0})},_getScaleOption:function(){var t={};return this.dataProcessor.hasXValue(this.chartType)&&(t.xAxis={valueType:"x"}),this.dataProcessor.hasYValue(this.chartType)&&(t.yAxis={valueType:"y"}),t},_setDefaultOptions:function(t){n.prototype._setDefaultOptions.call(this,t),this.options.circleLegend=this.options.circleLegend||{},tui.util.isUndefined(this.options.circleLegend.visible)&&(this.options.circleLegend.visible=!0)},_addComponents:function(){this._addComponentsForAxisType({axis:[{name:"yAxis",isVertical:!0},{name:"xAxis"}],series:[{name:"bubbleSeries"}],plot:!0}),this.options.circleLegend.visible&&this.componentManager.register("circleLegend",{chartType:this.chartType,classType:"circleLegend",baseFontFamily:this.theme.chart.fontFamily})}});tui.util.extend(o.prototype,s),t.exports=o},function(t,e,i){"use strict";var n=i(18),a=i(2),s=i(94),o=tui.util.defineClass(n,{className:"tui-scatter-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=a.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0})},_addComponents:function(){this._addComponentsForAxisType({axis:[{name:"yAxis",isVertical:!0},{name:"xAxis"}],series:[{name:"scatterSeries"}],plot:!0})},_getScaleOption:function(){return{xAxis:{valueType:"x"},yAxis:{valueType:"y"}}}});tui.util.extend(o.prototype,s),t.exports=o},function(t,e,i){"use strict";var n=i(18),a=i(112),s=i(2),o=i(94),r=tui.util.defineClass(n,{className:"tui-heatmap-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION),i.tooltip.grouped=!1,n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0})},_addComponents:function(){var t=this.theme.series[this.chartType],e=new a(t.startColor,t.endColor);this._addComponentsForAxisType({axis:[{name:"yAxis",isVertical:!0},{name:"xAxis"}],legend:{classType:"spectrumLegend",additionalParams:{colorSpectrum:e}},series:[{name:"heatmapSeries",data:{colorSpectrum:e}}],tooltip:!0,mouseEventDetector:!0})},_getScaleOption:function(){return{legend:!0}}});tui.util.extend(r.prototype,o),r.prototype._addDataRatios=function(t){this.dataProcessor.addDataRatios(t.legend,null,this.chartType)},t.exports=r},function(t,e,i){"use strict";var n=i(113),a=tui.util.defineClass({init:function(t,e){var i;this.start=n.colorNameToHex(t),this.startRGB=n.hexToRGB(this.start),this.end=n.colorNameToHex(e),i=n.hexToRGB(this.end),this.distances=this._makeDistances(this.startRGB,i),this.colorMap={}},_makeDistances:function(t,e){return tui.util.map(t,function(t,i){return e[i]-t})},getColor:function(t){var e,i,a=this.colorMap[t];return a||(e=this.distances,i=tui.util.map(this.startRGB,function(i,n){return i+parseInt(e[n]*t,10)}),a=n.rgbToHEX.apply(null,i)),a||null}});t.exports=a},function(t,e){"use strict";var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,n={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a={leadingZero:function(t,e){var i="",n=0;if(String(t).length>e)return String(t);for(;n<e-1;n+=1)i+="0";return(i+t).slice(e*-1)},isValidRGB:function(t){return i.test(t)},hexToRGB:function(t){var e,i,n;return!!a.isValidRGB(t)&&(t=t.substring(1),e=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16),[e,i,n])},rgbToHEX:function(t,e,i){var n="#"+a.leadingZero(t.toString(16),2)+a.leadingZero(e.toString(16),2)+a.leadingZero(i.toString(16),2);return!!a.isValidRGB(n)&&n},colorNameToHex:function(t){return n[t.toLowerCase()]||t}};tui.util.defineNamespace("tui.chart"),tui.chart.colorutil=a,t.exports=a},function(t,e,i){"use strict";var n=i(18),a=i(112),s=tui.util.defineClass(n,{className:"tui-treemap-chart",init:function(t,e,i){i.tooltip=i.tooltip||{},i.tooltip.grouped=!1,n.call(this,{rawData:t,theme:e,options:i,hasAxes:!1,isVertical:!0})},_addComponents:function(){var t=this.theme.series[this.chartType],e=this.options.series.useColorValue,i=e?new a(t.startColor,t.endColor):null;this.componentManager.register("series",{chartBackground:this.theme.chart.background,chartType:this.chartType,classType:"treemapSeries",colorSpectrum:i}),this.componentManager.register("tooltip",tui.util.extend({labelTheme:tui.util.pick(this.theme,"series","label")},this._makeTooltipData())),e&&this.options.legend.visible&&this.componentManager.register("legend",{chartType:this.chartType,classType:"spectrumLegend",colorSpectrum:i}),this.componentManager.register("mouseEventDetector",{chartType:this.chartType,classType:"boundsTypeEventDetector",isVertical:this.isVertical})},_getScaleOption:function(){return{legend:!0}},_addDataRatios:function(t){this.dataProcessor.addDataRatiosForTreemapChart(t.legend,this.chartType)},onZoom:function(t){this.componentManager.render("zoom",null,{index:t})}});t.exports=s},function(t,e,i){"use strict";var n=i(18),a=i(10),s=i(116),o=i(112),r=i(117),u=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-map-chart",i.map=a.get(i.map),i.tooltip=i.tooltip||{},i.legend=i.legend||{},n.call(this,{rawData:t,theme:e,options:i,DataProcessor:r})},_addComponents:function(){var t=this.options,e=this.theme.series[this.chartType],i=new o(e.startColor,e.endColor),n=new s(this.dataProcessor,this.options.map);t.legend=t.legend||{},t.legend.visible&&this.componentManager.register("legend",{colorSpectrum:i,classType:"spectrumLegend"}),this.componentManager.register("tooltip",tui.util.extend({mapModel:n},this._makeTooltipData("mapChartTooltip"))),this.componentManager.register("mapSeries",{libType:t.libType,chartType:t.chartType,componentType:"series",classType:"mapSeries",mapModel:n,colorSpectrum:i}),this.componentManager.register("zoom",{classType:"zoom"}),this.componentManager.register("mouseEventDetector",{chartType:this.chartType,classType:"mapChartEventDetector"})},_getScaleOption:function(){return{legend:!0}},_addDataRatios:function(t){this.dataProcessor.addDataRatios(t.legend)}});t.exports=u},function(t,e,i){"use strict";var n=i(2),a=i(6),s=tui.util.defineClass({init:function(t,e){this.commandFuncMap={M:tui.util.bind(this._makeCoordinate,this),m:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),L:tui.util.bind(this._makeCoordinate,this),l:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),H:tui.util.bind(this._makeXCoordinate,this),h:tui.util.bind(this._makeXCoordinateFroRelativeCoordinate,this),V:tui.util.bind(this._makeYCoordinate,this),v:tui.util.bind(this._makeYCoordinateFromRelativeCoordinate,this)},this.ignoreCommandMap={Z:!0,z:!0},this.mapDimension=null,this.dataProcessor=t,this.rawMapData=e,this.mapData=null},_splitCoordinate:function(t){var e=t.split(","),i={x:parseFloat(e[0])};return e[1]&&(i.y=parseFloat(e[1])),i},_makeCoordinate:function(t){return this._splitCoordinate(t)},_makeCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x,y:i.y+e.y}},_makeXCoordinate:function(t){var e=this._splitCoordinate(t);return{x:e.x}},_makeXCoordinateFroRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x}},_makeYCoordinate:function(t){var e=this._splitCoordinate(t);return{y:e.x}},_makeYCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{y:i.x+e.y}},_splitPath:function(t){for(var e,i,n=0,a=t.length,s=[],o="";n<a;n+=1)e=t.charAt(n),this.commandFuncMap[e]?(i&&o&&s.push({type:i,coordinate:o}),i=e,o=""):this.ignoreCommandMap[e]||(o+=e);return i&&o&&s.push({type:i,coordinate:o}),s},_makeCoordinatesFromPath:function(t){var e=this,i=this._splitPath(t),n={x:0,y:0};return tui.util.map(i,function(t){var i=e.commandFuncMap[t.type],a=i(t.coordinate,n);return tui.util.extend(n,a),a})},_findBoundFromCoordinates:function(t){var e=tui.util.filter(tui.util.pluck(t,"x"),function(t){return!tui.util.isUndefined(t)}),i=tui.util.filter(tui.util.pluck(t,"y"),function(t){return!tui.util.isUndefined(t)}),n=a.max(e),s=a.min(e),o=a.max(i),r=a.min(i);return{dimension:{width:n-s,height:o-r},position:{left:s,top:r}}},_makeLabelPosition:function(t,e){return e=e||n.MAP_CHART_LABEL_DEFAULT_POSITION_RATIO,{left:t.position.left+t.dimension.width*e.x,top:t.position.top+t.dimension.height*e.y}},_createMapData:function(t){var e=this;return tui.util.map(t,function(t){var i,n,a,s,o,r=e._makeCoordinatesFromPath(t.path),u=e._findBoundFromCoordinates(r),h=e.dataProcessor.getValueMapDatum(t.code);return h&&(a=h.label,s=h.ratio,i=h.name||t.name,n=h.labelCoordinate||t.labelCoordinate),o={code:t.code,name:i,path:t.path,bound:u,labelPosition:e._makeLabelPosition(u,n)},a&&(o.label=a),s&&(o.ratio=s),o})},getMapData:function(){return this.mapData||(this.mapData=this._createMapData(this.rawMapData)),this.mapData},getDatum:function(t){return this.getMapData()[t]},getLabelData:function(t){var e=this,i=this.getMapData(),n=tui.util.filter(i,function(t){return e.dataProcessor.getValueMapDatum(t.code)});return tui.util.map(n,function(e){return{name:e.name,labelPosition:{left:e.labelPosition.left*t,top:e.labelPosition.top*t}}})},_makeMapDimension:function(){var t=this.getMapData(),e=tui.util.map(t,function(t){return t.bound.position.left}),i=tui.util.map(t,function(t){return t.bound.position.left+t.bound.dimension.width}),n=tui.util.map(t,function(t){return t.bound.position.top}),s=tui.util.map(t,function(t){return t.bound.position.top+t.bound.dimension.height});return{width:a.max(i)-a.min(e),height:a.max(s)-a.min(n)}},getMapDimension:function(){return this.mapDimension||(this.mapDimension=this._makeMapDimension()),this.mapDimension}});t.exports=s},function(t,e,i){"use strict";var n=i(75),a=i(23),s=tui.util.defineClass(n,{init:function(t,e,i){this.rawData=t,this.options=i},initData:function(t){this.rawData=t,this.valueMap=null},_makeValueMap:function(){var t=this.rawData.series.map,e={},i=this._findFormatFunctions();return tui.util.forEachArray(t,function(t){var n={value:t.data,label:a.formatValue(t.data,i,"map","series")};t.name&&(n.name=t.name),t.labelCoordinate&&(n.labelCoordinate=t.labelCoordinate),e[t.code]=n}),e},getValueMap:function(){return this.valueMap||(this.valueMap=this._makeValueMap()),this.valueMap},getValues:function(){return tui.util.pluck(this.getValueMap(),"value")},getValueMapDatum:function(t){return this.getValueMap()[t]},addDataRatios:function(t){var e=t.min,i=t.max-e;tui.util.forEach(this.getValueMap(),function(t){t.ratio=(t.value-e)/i})},createBaseValuesForLimit:function(){return this.getValues()},getLegendVisibility:function(){return null}});t.exports=s},function(t,e,i){"use strict";var n=i(18),a=i(61),s=tui.util.defineClass(n,{className:"tui-radial-chart",Series:a,init:function(t,e,i){n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0})},_addComponents:function(){this.componentManager.register("series",{libType:this.options.libType,chartType:this.options.chartType,componentType:"series",classType:"radialSeries",chartBackground:this.theme.chart.background}),this.componentManager.register("tooltip",this._makeTooltipData("tooltip")),this.componentManager.register("plot",{componentType:"plot",classType:"radialPlot"}),this.componentManager.register("mouseEventDetector",{chartType:this.chartType,isVertical:!0,allowSelect:!0,classType:"areaTypeEventDetector"}),this.componentManager.register("legend",tui.util.extend({seriesNames:this.seriesNames,chartType:this.chartType,classType:"legend"})),this.componentManager.register("chartExportMenu",{chartTitle:this.options.chart&&this.options.chart.title?this.options.chart.title.text:"chart",classType:"chartExportMenu"})},_addDataRatios:function(t){this.dataProcessor.addDataRatios(t[this.chartType],null,this.chartType)},_getScaleOption:function(){return{yAxis:{}}}});tui.util.extend(s.prototype),t.exports=s},function(t,e,i){"use strict";var n=i(2),a=i(8),s=i(9);a.register(n.DEFAULT_THEME_NAME,s)},function(t,e,i){"use strict";var n=i(121),a=i(123),s=i(125),o=i(126),r=i(127),u=i(128),h=i(129),l=i(130),c=i(131),d=i(132),p=i(133),f="raphael",m={bar:n,column:n,line:a,area:s,pie:o,bubble:u,scatter:u,heatmap:h,treemap:h,map:l,radial:r,mapLegend:c,circleLegend:d,radialPlot:p};tui.chart.registerPlugin(f,m)},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s=700,o=1,r=.3,u=.2,h=tui.util.defineClass({render:function(t,e){var i,n=e.groupBounds,s=e.dimension;return n?(this.paper=i=a(t,s.width,s.height),this.theme=e.theme,this.seriesDataModel=e.seriesDataModel,this.chartType=e.chartType,this.groupBars=this._renderBars(n),this.groupBorders=this._renderBarBorders(n),this.overlay=this._renderOverlay(),this.theme=e.theme,this.groupBounds=n,i):null},_renderOverlay:function(){var t={width:1,height:1,left:0,top:0},e={"fill-opacity":0};return this._renderBar(t,"#fff",e)},_renderBar:function(t,e,i){var a;return t.width<0||t.height<0?null:a=n.renderRect(this.paper,t,tui.util.extend({
fill:e,stroke:"none"},i))},_renderBars:function(t){var e,i=this,n=[],a=this.theme.colors;return 1===t[0].length&&this.theme.singleColors&&(n=this.theme.singleColors),e=tui.util.map(t,function(t,e){var s=n[e];return tui.util.map(t,function(t,n){var o,r,u;return t?(u=i.seriesDataModel.getSeriesItem(e,n),o=s||a[n],r=i._renderBar(t.start,o),{rect:r,color:o,bound:t.end,item:u,groupIndex:e,index:n,isRange:u.isRange}):null})})},_makeRectPoints:function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},_makeTopLinePath:function(t,e,i){var a,s=null,o=i.value;return("bar"===e||o>=0||i.isRange)&&(a=tui.util.extend({},t.leftTop),a.left-="column"===e||o<0?1:0,s=n.makeLinePath(a,t.rightTop).join(" ")),s},_makeRightLinePath:function(t,e,i){var a=null;return("column"===e||i.value>=0||i.isRange)&&(a=n.makeLinePath(t.rightTop,t.rightBottom).join(" ")),a},_makeBottomLinePath:function(t,e,i){var a=null;return("bar"===e||i.value<0||i.isRange)&&(a=n.makeLinePath(t.leftBottom,t.rightBottom).join(" ")),a},_makeLeftLinePath:function(t,e,i){var a=null;return("column"===e||i.value<0||i.isRange)&&(a=n.makeLinePath(t.leftTop,t.leftBottom).join(" ")),a},_makeBorderLinesPaths:function(t,e,i){var n=this._makeRectPoints(t),a={top:this._makeTopLinePath(n,e,i),right:this._makeRightLinePath(n,e,i),bottom:this._makeBottomLinePath(n,e,i),left:this._makeLeftLinePath(n,e,i)};return tui.util.filter(a,function(t){return t})},_renderBorderLines:function(t,e,i,a){var s=this,o=this._makeBorderLinesPaths(t,i,a),r={};return tui.util.forEach(o,function(t,i){r[i]=n.renderLine(s.paper,t,e,1)}),r},_renderBarBorders:function(t){var e,i=this,n=this.theme.borderColor;return n?e=tui.util.map(t,function(t,e){return tui.util.map(t,function(t,a){var s;return t?(s=i.seriesDataModel.getSeriesItem(e,a),i._renderBorderLines(t.start,n,i.chartType,s)):null})}):null},_animateRect:function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},s)},_animateBorders:function(t,e,i,n){var a=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.animate({path:a[e]},s)})},animate:function(t){var e=this,i=this.groupBorders||[];this.callbackTimeout&&(clearTimeout(this.callbackTimeout),delete this.callbackTimeout),n.forEach2dArray(this.groupBars,function(t,n,a){var s=i[n]&&i[n][a];t&&(e._animateRect(t.rect,t.bound),s&&e._animateBorders(s,t.bound,e.chartType,t.item))}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},s))},showAnimation:function(t){var e=this.groupBars[t.groupIndex][t.index],i=e.bound;this.overlay.attr({width:i.width,height:i.height,x:i.left,y:i.top,"fill-opacity":.3})},hideAnimation:function(){this.overlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0})},_updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},resize:function(t){var e=this,i=this.groupBorders||[],a=t.dimension,s=t.groupBounds;this.groupBounds=s,this.paper.setSize(a.width,a.height),n.forEach2dArray(this.groupBars,function(t,a,o){var r,u;t&&(r=i[a]&&i[a][o],u=s[a][o].end,t.bound=u,n.updateRectBound(t.rect,u),r&&e._updateBordersPath(r,u,e.chartType,t.item))})},_changeBordersColor:function(t,e){tui.util.forEach(t,function(t){t.attr({stroke:e})})},_changeBarColor:function(t,e,i){var n,a=this.groupBars[t.groupIndex][t.index];a.rect.attr({fill:e}),i&&(n=this.groupBorders[t.groupIndex][t.index],this._changeBordersColor(n,i))},selectSeries:function(t){var e,i=this.groupBars[t.groupIndex][t.index],s=a.color(i.color),o=this.theme.selectionColor,r=o||n.makeChangedLuminanceColor(s.hex,u),h=this.theme.borderColor;h&&(e=a.color(h),h=n.makeChangedLuminanceColor(e.hex,u)),this._changeBarColor(t,r,h)},unselectSeries:function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)},selectLegend:function(t){var e=this.groupBorders||[],i=tui.util.isNull(t);n.forEach2dArray(this.groupBars,function(n,a,s){var u,h;n&&(u=e[a]&&e[a][s],h=i||t===s?o:r,n.rect.attr({"fill-opacity":h}),u&&tui.util.forEach(u,function(t){t.attr({"stroke-opacity":h})}))})}});t.exports=h},function(t,e){"use strict";var i={makeLinePath:function(t,e,i){var n,a=[t.left,t.top],s=[e.left,e.top];return i=i||1,n=i%2/2,tui.util.forEachArray(a,function(t,e){t===s[e]&&(a[e]=s[e]=Math.round(t)-n)}),["M"].concat(a).concat("L").concat(s)},renderLine:function(t,e,i,n){var a=t.path([e]),s={stroke:i,"stroke-width":n||2};return"transparent"===i&&(s.stroke="#fff",s["stroke-opacity"]=0),a.attr(s),a},renderText:function(t,e,i,n){setTimeout(function(){var a=t.text(e.left,e.top,i);n&&a.attr(n),n["dominant-baseline"]&&a.node.setAttribute("dominant-baseline",n["dominant-baseline"])})},renderArea:function(t,e,i){var n=t.path(e);return i=tui.util.extend({"stroke-opacity":0},i),n.attr(i),n},renderCircle:function(t,e,i,n){var a=t.circle(e.left,e.top,i);return n&&a.attr(n),a},renderRect:function(t,e,i){var n=t.rect(e.left,e.top,e.width,e.height);return i&&n.attr(i),n},updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},forEach2dArray:function(t,e){t&&tui.util.forEachArray(t,function(t,i){tui.util.forEachArray(t,function(t,n){e(t,i,n)})})},makeChangedLuminanceColor:function(t,e){var i;return t=t.replace("#",""),e=e||0,i=tui.util.map(tui.util.range(3),function(i){var n=parseInt(t.substr(2*i,2),16),a=n+n*e;return a=Math.round(Math.min(Math.max(0,a),255)).toString(16),tui.chart.renderUtil.formatToZeroFill(a,2)}).join(""),"#"+i}};t.exports=i},function(t,e,i){"use strict";var n=i(124),a=i(122),s=1,o=.3,r=10,u=300,h=window.Raphael,l=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null,this.chartType="line"},render:function(t,e,i){var n,a=e.dimension,s=e.groupPositions,o=e.theme,r=o.colors,u=e.options.showDot?1:0,l=e.options.spline,c=this.makeBorderStyle(o.borderColor,u),d=this.makeOutDotStyle(u,c);return n=l?this._getSplineLinesPath(s,e.options.connectNulls):this._getLinesPath(s,e.options.connectNulls),i=i||h(t,1,a.height),this.paper=i,this.isSpline=l,this.dimension=a,this.groupLines=this._renderLines(i,n,r),this.leftBar=this._renderLeftBar(a.height,e.chartBackground),this.tooltipLine=this._renderTooltipLine(i,a.height),this.groupDots=this._renderDots(i,s,r,u),e.options.allowSelect&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=o.selectionColor),this.colors=r,this.borderStyle=c,this.outDotStyle=d,this.groupPositions=s,this.groupPaths=n,this.dotOpacity=u,delete this.pivotGroupDots,i},_getLinesPath:function(t,e){var i=this;return tui.util.map(t,function(t){return i._makeLinesPath(t,null,e)})},_getSplineLinesPath:function(t,e){var i=this;return tui.util.map(t,function(t){return i._makeSplineLinesPath(t,e)})},_renderLines:function(t,e,i,n){return tui.util.map(e,function(e,s){var o=i[s]||"transparent";return a.renderLine(t,e.join(" "),o,n)})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this.isSpline?this._getSplineLinesPath(n):this._getLinesPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),tui.util.forEachArray(this.groupPaths,function(t,i){e.groupLines[i].attr({path:t.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,a){e._moveDot(t.endDot.dot,n[i][a])})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupLines,function(n,a){var r=i||t===a?s:o;n.attr({"stroke-opacity":r}),tui.util.forEachArray(e.groupDots[a],function(t){t.opacity=r,e.dotOpacity&&t.endDot.dot.attr({"fill-opacity":r})})})},animateForAddingData:function(t,e,i,n){var a=this,s=t.options.spline,o=s?this._getSplineLinesPath(i):this._getLinesPath(i),h=0;i.length&&(n&&(this.leftBar.animate({width:e+r},u),h=1),tui.util.forEachArray(this.groupLines,function(t,e){var s=a.groupDots[e],r=i[e];n&&a._removeFirstDot(s),tui.util.forEachArray(s,function(t,e){var i=r[e+h];a._animateByPosition(t.endDot.dot,i)}),a._animateByPath(t,o[e])}))}});t.exports=l},function(t,e,i){"use strict";var n=i(122),a=700,s=3,o=4,r=7,u=.3,h=300,l=10,c=Array.prototype.concat,d=tui.util.defineClass({_renderLeftBar:function(t,e){var i={left:0,top:0,width:l,height:t};return n.renderRect(this.paper,i,{fill:e,stroke:"none"})},_makeLinesPath:function(t,e,i){var n=[],a=!1;return e=e||"top",tui.util.map(t,function(t){var s=a&&!i?"M":"L";t?(n.push([s,t.left,t[e]]),a&&(a=!1)):a=!0}),n=c.apply([],n),n[0]="M",n},_getAnchor:function(t,e,i){var n,a,s,o,r,u=(e.left-t.left)/2,h=(i.left-e.left)/2,l=Math.atan((e.left-t.left)/Math.abs(e.top-t.top)),c=Math.atan((i.left-e.left)/Math.abs(e.top-i.top));return l=t.top<e.top?Math.PI-l:l,c=i.top<e.top?Math.PI-c:c,n=Math.PI/2-(l+c)%(2*Math.PI)/2,a=u*Math.sin(n+l),s=u*Math.cos(n+l),o=h*Math.sin(n+c),r=h*Math.cos(n+c),{x1:e.left-a,y1:e.top+s,x2:e.left+o,y2:e.top+r}},_getSplinePositionsGroups:function(t,e){var i=[],n=[];return tui.util.forEach(t,function(a,s){var o=s===t.length-1;a&&n.push(a),(!a&&n.length>0&&!e||o)&&(i.push(n),n=[])}),i},_getSplinePartialPaths:function(t){var e,i,n,a,s,o,r=this,u=[];return tui.util.forEach(t,function(t){e=t[0],n=t.length,a=e,i=t[n-1],s=t.slice(1).slice(0,n-2),o=tui.util.map(s,function(e,i){var n=t[i+2],s=r._getAnchor(a,e,n);return a=e,[s.x1,s.y1,e.left,e.top,s.x2,s.y2]}),o.push([i.left,i.top,i.left,i.top]),o.unshift(["M",e.left,e.top,"C",e.left,e.top]),u.push(o)}),u},_makeSplineLinesPath:function(t,e){var i=[],n=this._getSplinePositionsGroups(t,e),a=this._getSplinePartialPaths(n);return tui.util.forEach(a,function(t){i=i.concat(t)}),i},_renderTooltipLine:function(t,e){var i=n.makeLinePath({left:10,top:e},{left:10,top:0});return n.renderLine(t,i,"transparent",1)},makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:s};return e&&tui.util.extend(i,e),i},renderDot:function(t,e,i,n){var a,o,r;return e&&(a=t.circle(e.left,e.top,s),o={fill:i,"fill-opacity":n,"stroke-opacity":0},a.attr(o),r={dot:a,color:i}),r},_moveDotsToFront:function(t){n.forEach2dArray(t,function(t){t.endDot.dot.toFront(),t.startDot&&t.startDot.dot.toFront()})},_renderDots:function(t,e,i,n){var a,s=this;return t.dots&&this._moveDotsToFront(t.dots),a=tui.util.map(e,function(e,a){var o=i[a];return tui.util.map(e,function(e){var i,a={endDot:s.renderDot(t,e,o,n)};return s.hasRangeData&&(i=tui.util.extend({},e),i.top=i.startTop,a.startDot=s.renderDot(t,i,o,n)),a})}),t.dots||(t.dots=[]),t.dots=t.dots.concat(a),a},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_showDot:function(t){t.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":2,r:o})},_updateLineStrokeWidth:function(t,e){t.attr({"stroke-width":e})},showAnimation:function(t){var e,i,n=t.groupIndex,a=t.index,s=this.groupLines?this.groupLines[a]:this.groupAreas[a],o=this.groupDots[a][n];o&&("area"===this.chartType?(e=2,i=s.startLine,s=s.line):e=3,this._updateLineStrokeWidth(s,e),i&&this._updateLineStrokeWidth(i,e),this._showDot(o.endDot.dot),o.startDot&&this._showDot(o.startDot.dot))},_getPivotGroupDots:function(){return!this.pivotGroupDots&&this.groupDots&&(this.pivotGroupDots=tui.chart.arrayUtil.pivot(this.groupDots)),this.pivotGroupDots},_showGroupDots:function(t){var e=this,i=this._getPivotGroupDots();i&&i[t]&&tui.util.forEachArray(i[t],function(t){t.endDot&&e._showDot(t.endDot.dot),t.startDot&&e._showDot(t.startDot.dot)})},showGroupTooltipLine:function(t){var e=Math.max(t.position.left,11),i=n.makeLinePath({left:e,top:t.position.top+t.dimension.height},{left:e,top:t.position.top});this.tooltipLine.attr({path:i,stroke:"#999","stroke-opacity":1})},showGroupAnimation:function(t){this._showGroupDots(t)},_hideDot:function(t,e){var i=this.outDotStyle;tui.util.isUndefined(e)||(i=tui.util.extend({},this.outDotStyle,{"fill-opacity":e})),t.attr(i)},hideAnimation:function(t){var e,i,n,a,s=t.groupIndex,o=t.index,r=this.dotOpacity,h=this.groupDots[o];h&&h[s]&&(e=this.groupLines?this.groupLines[o]:this.groupAreas[o],i=h[s],"area"===this.chartType?(n=1,a=e.startLine,e=e.line):n=2,r&&!tui.util.isNull(this.selectedLegendIndex)&&this.selectedLegendIndex!==o&&(r=u),e&&this._updateLineStrokeWidth(e,n),a&&this._updateLineStrokeWidth(a,n),i&&(this._hideDot(i.endDot.dot,r),i.startDot&&this._hideDot(i.startDot.dot,r)))},_hideGroupDots:function(t){var e=this,i=!tui.util.isNull(this.selectedLegendIndex),n=this.dotOpacity,a=this._getPivotGroupDots();a&&a[t]&&tui.util.forEachArray(a[t],function(t,a){var s=n;s&&i&&e.selectedLegendIndex!==a&&(s=u),t.endDot&&e._hideDot(t.endDot.dot,s),t.startDot&&e._hideDot(t.startDot.dot,s)})},hideGroupTooltipLine:function(){this.tooltipLine.attr({"stroke-opacity":0})},hideGroupAnimation:function(t){this._hideGroupDots(t)},_moveDot:function(t,e){var i={cx:e.left,cy:e.top};this.dotOpacity&&(i=tui.util.extend({"fill-opacity":this.dotOpacity},i,this.borderStyle)),t.attr(i)},showGraph:function(){this.paper.setSize(this.dimension.width,this.dimension.height)},animate:function(t){var e,i,n=this;this.dimension&&(e=this.dimension.width,i=this.dimension.height,tui.chart.renderUtil.cancelAnimation(this.animation),this.animation=tui.chart.renderUtil.startAnimation(a,function(a){var s=Math.min(e*a,e);n.paper.setSize(s,i),1===a&&t()}))},_makeSelectionDot:function(t){var e=t.circle(0,0,r);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},selectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.endDot.color}),this.selectionStartDot&&this.selectionStartDot.attr({cx:i.left,cy:i.startTop,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.startDot.color})},unselectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0}),this.selectionStartDot&&this.selectionStartDot.attr({"fill-opacity":0,"stroke-opacity":0})},setSize:function(t,e){t=t||this.dimension.width,e=e||this.dimension.height,this.paper.setSize(t,e)},_animateByPosition:function(t,e){t.animate({cx:e.left,cy:e.top},h)},_animateByPath:function(t,e){t.animate({path:e.join(" ")},h)},_removeFirstDot:function(t){var e=t.shift();e.endDot.dot.remove(),e.startDot&&e.startDot.dot.remove()},clear:function(){delete this.paper.dots,this.paper.clear()}});t.exports=d},function(t,e,i){"use strict";var n=i(124),a=i(122),s=1,o=.3,r=10,u=300,h=window.Raphael,l=Array.prototype.concat,c=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null,this.chartType="area"},render:function(t,e,i){var n=e.dimension,a=e.groupPositions,s=e.theme,o=s.colors,r=e.options.showDot?1:0,u=this.makeBorderStyle(s.borderColor,r),l=this.makeOutDotStyle(r,u);return i=i||h(t,1,n.height),this.paper=i,this.isSpline=e.options.spline,this.dimension=n,this.zeroTop=e.zeroTop,this.hasRangeData=e.hasRangeData,this.groupPaths=this._getAreaChartPath(a,null,e.options.connectNulls),this.groupAreas=this._renderAreas(i,this.groupPaths,o),this.leftBar=this._renderLeftBar(n.height,e.chartBackground),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,a,o,r),e.options.allowSelect&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=s.selectionColor,this.hasRangeData&&(this.selectionStartDot=this._makeSelectionDot(i))),this.outDotStyle=l,this.groupPositions=a,this.dotOpacity=r,this.pivotGroupDots=null,i},_getAreaChartPath:function(t,e,i){var n;return n=this.isSpline?this._makeSplineAreaChartPath(t,e):this._makeAreaChartPath(t,e,i)},_renderAreas:function(t,e,i){var n;return i=i.slice(0,e.length),i.reverse(),e.reverse(),n=tui.util.map(e,function(e,n){var s=i[n]||"transparent",o=s,r={area:a.renderArea(t,e.area.join(" "),{fill:s,opacity:.5,stroke:s}),line:a.renderLine(t,e.line.join(" "),o,1)};return e.startLine&&(r.startLine=a.renderLine(t,e.startLine.join(" "),o,1)),r}),n.reverse()},_makeHeight:function(t,e){return Math.abs(t-e)},_makeAreasPath:function(t,e){var i,n=[],a=[],s=!1,o=t.length,r=[],u=[];return tui.util.forEachArray(t,function(t,e){var i;t?(s?(i="M",s=!1):i="L",r.push([i,t.left,t.top]),u.unshift(["L",t.left,t.startTop])):(s=!0,u.push(["z"])),t&&e!==o-1||(a.push(r.concat(u)),r=[],u=[])}),tui.util.forEachArray(a,function(t){n=n.concat(t)}),e!==!1&&(i=t.length-1,n.splice(i+1,0,n[i],n[i+1])),n=l.apply([],n),n[0]="M",n},_makeAreaChartPath:function(t,e,i){var n=this;return tui.util.map(t,function(t){var a;return a={area:n._makeAreasPath(t,e),line:n._makeLinesPath(t,null,i)},n.hasRangeData&&(a.startLine=n._makeLinesPath(t,"startTop")),a})},_makeSplineAreaBottomPath:function(t){var e=this;return tui.util.map(t,function(t){return["L",t.left,e.zeroTop]}).reverse()},_makeSplineAreaChartPath:function(t,e){var i=this;return tui.util.map(t,function(t){var n,a=i._makeSplineLinesPath(t),s=JSON.parse(JSON.stringify(a)),o=i._makeSplineAreaBottomPath(t);return e!==!1&&(n=t[t.length-1],s.push(["L",n.left,n.top]),o.unshift(["L",n.left,i.zeroTop])),{area:s.concat(o),line:a}})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.zeroTop=t.zeroTop,this.groupPositions=n,this.groupPaths=this._getAreaChartPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),tui.util.forEachArray(this.groupPaths,function(t,i){var a=e.groupAreas[i];a.area.attr({path:t.area.join(" ")}),a.line.attr({path:t.line.join(" ")}),a.startLine&&a.startLine.attr({path:t.startLine.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,a){var s,o=n[i][a];e._moveDot(t.endDot.dot,o),t.startDot&&(s=tui.util.extend({},o),s.top=s.startTop,e._moveDot(t.startDot.dot,s))})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupAreas,function(n,a){var r=i||t===a?s:o;n.area.attr({"fill-opacity":r}),n.line.attr({"stroke-opacity":r}),n.startLine&&n.startLine.attr({"stroke-opacity":r}),tui.util.forEachArray(e.groupDots[a],function(t){e.dotOpacity&&(t.endDot.dot.attr({"fill-opacity":r}),t.startDot&&t.startDot.dot.attr({"fill-opacity":r}))})})},animateForAddingData:function(t,e,i,n,a){var s,o=this,h=0;i.length&&(this.zeroTop=a,s=this._getAreaChartPath(i,!1),n&&(this.leftBar.animate({width:e+r},u),h=1),tui.util.forEachArray(this.groupAreas,function(t,e){var a=o.groupDots[e],r=i[e],u=s[e];n&&o._removeFirstDot(a),tui.util.forEachArray(a,function(t,e){var i=r[e+h];o._animateByPosition(t.endDot.dot,i),t.startDot&&o._animateByPosition(t.startDot.dot,{left:i.left,top:i.startTop})}),o._animateByPath(t.area,u.area),o._animateByPath(t.line,u.line),t.startLine&&o._animateByPath(t.startLine,u.startLine)}))}});t.exports=c},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s=180,o=360,r=.01,u=Math.PI/s,h=700,l=1,c=.3,d=.2,p="overlay",f=tui.util.defineClass({render:function(t,e,i){var n,s=e.dimension;return e.paper?this.paper=n=e.paper:this.paper=n=a(t,s.width,s.height),this.container=t,this.holeRatio=e.options.radiusRange[0],this.chartBackground=e.chartBackground,this.chartType=e.chartType,this.callbacks=i,this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this.sectorName="sector_"+this.chartType,this._setSectorAttr(),this.sectorInfos=this._renderPie(e.sectorData,e.theme.colors,e.additionalIndex),this.overlay=this._renderOverlay(),this.prevSelectedSector=null,this.prevPosition=null,this.prevHoverSector=null,n},clear:function(){this.legendLines=null,this.paper.clear()},_makeSectorPath:function(t,e,i,n,a){var o=n*u,r=a*u,h=t+i*Math.sin(o),l=e-i*Math.cos(o),c=t+i*Math.sin(r),d=e-i*Math.cos(r),p=a-n>s?1:0,f=["M",t,e,"L",h,l,"A",i,i,0,p,1,c,d,"Z"];return{path:f}},_makeDonutSectorPath:function(t,e,i,n,a,o){var r=n*u,h=a*u,l=o||i*this.holeRatio,c=t+i*Math.sin(r),d=e-i*Math.cos(r),p=t+l*Math.sin(r),f=e-l*Math.cos(r),m=t+i*Math.sin(h),_=e-i*Math.cos(h),g=t+l*Math.sin(h),T=e-l*Math.cos(h),v=a-n>s?1:0,A=["M",c,d,"A",i,i,0,v,1,m,_,"L",g,T,"A",l,l,0,v,0,p,f,"Z"];return{path:A}},_setSectorAttr:function(){var t;this.paper.customAttributes[this.sectorName]||(t=this.holeRatio?this._makeDonutSectorPath:this._makeSectorPath,this.paper.customAttributes[this.sectorName]=tui.util.bind(t,this))},_renderOverlay:function(){var t={paper:this.paper,circleBound:{cx:0,cy:0,r:0},angles:{startAngle:0,endAngle:0},attrs:{fill:"none",opacity:0,stroke:this.chartBackground,"stroke-width":1}},e=this._renderSector(t);return e.data("id",p),e.data("chartType",this.chartType),{inner:e,outer:this._renderSector(t)}},_renderSector:function(t){var e=t.circleBound,i=t.angles,n=t.attrs;return n[this.sectorName]=[e.cx,e.cy,e.r,i.startAngle,i.endAngle],t.paper.path().attr(n)},_renderPie:function(t,e,i){var n=this,a=this.circleBound,s=this.chartBackground,o=[];return tui.util.forEachArray(t,function(t,r){var u=t.ratio,h=e[r],l=n._renderSector({paper:n.paper,circleBound:a,angles:t.angles.start,attrs:{fill:s,stroke:s,"stroke-width":1}});l.data("index",r),l.data("legendIndex",r+i),l.data("chartType",n.chartType),o.push({sector:l,color:h,angles:t.angles.end,ratio:u})}),o},renderLegendLines:function(t){var e,i=this.paper;this.legendLines||(e=this._makeLinePaths(t),this.legendLines=tui.util.map(e,function(t){return n.renderLine(i,t,"transparent",1)}))},_makeLinePaths:function(t){var e=tui.util.map(t,function(t){return[n.makeLinePath(t.start,t.middle),n.makeLinePath(t.middle,t.end),"Z"].join("")});return e},_showOverlay:function(t,e){var i,n=this.overlay,a=this.sectorInfos[t],s=a.angles.startAngle,o=a.angles.endAngle,r=this.circleBound;i={fill:"#fff",opacity:.3},i[this.sectorName]=[r.cx,r.cy,r.r,s,o,r.r*this.holeRatio],n.inner.attr(i),n.inner.data("index",t),n.inner.data("legendIndex",e),n.outer.attr({path:this._makeDonutSectorPath(r.cx,r.cy,r.r+10,s,o,r.r).path,fill:a.color,opacity:.3})},_hideOverlay:function(){var t=this.overlay,e={fill:"none",opacity:0};t.inner.attr(e),t.outer.attr(e)},animate:function(t){var e=0,i=this.sectorName,n=this.circleBound,s=[n.cx,n.cy,n.r];tui.util.forEachArray(this.sectorInfos,function(t){var n,u=t.angles,l={fill:t.color},c=h*t.ratio;0===u.startAngle&&u.endAngle===o&&(u.endAngle=o-r),l[i]=s.concat([u.startAngle,u.endAngle]),n=a.animation(l,c),t.sector.animate(n.delay(e)),e+=c}),t&&setTimeout(t,e)},animateLegendLines:function(t){var e;this.legendLines&&(e=tui.util.isNull(t),tui.util.forEachArray(this.legendLines,function(i,n){var a=e||t===n?l:c;i.animate({stroke:"black","stroke-opacity":a})}))},resize:function(t){var e=t.dimension,i=t.circleBound,n=this.sectorName;this.circleBound=i,this.paper.setSize(e.width,e.height),tui.util.forEachArray(this.sectorInfos,function(t){var e=t.angles,a={};a[n]=[i.cx,i.cy,i.r,e.startAngle,e.endAngle],t.sector.attr(a)})},moveLegendLines:function(t){var e;this.legendLines&&(e=this._makeLinePaths(t),tui.util.forEachArray(this.legendLines,function(t,i){return t.attr({path:e[i]}),t}))},findSectorInfo:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=null;return e&&(i={legendIndex:tui.util.isExisty(e.data("legendIndex"))?e.data("legendIndex"):-1,index:tui.util.isExisty(e.data("index"))?e.data("index"):-1,chartType:e.data("chartType")}),i},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showTooltip:function(t,e){var i=this.container.getBoundingClientRect(),n=[{},0,t.data("index"),{left:e.left-i.left,top:e.top-i.top}];this.callbacks.showTooltip.apply(null,n)},_isValidSector:function(t){return t&&t.data("chartType")===this.chartType},moveMouseOnSeries:function(t){var e=this.paper.getElementByPoint(t.left,t.top);this._isValidSector(e)?(this.prevHoverSector!==e&&(this._showOverlay(e.data("index"),e.data("legendIndex")),this.prevHoverSector=e),this._isChangedPosition(this.prevPosition,t)&&this._showTooltip(e,t)):this.prevHoverSector&&(this._hideOverlay(),this.callbacks.hideTooltip(),this.prevHoverSector=null),this.prevPosition=t},selectSeries:function(t){var e,i,s=this.sectorInfos[t.index];s&&(e=a.color(s.color),i=this.selectionColor||n.makeChangedLuminanceColor(e.hex,d),s.sector.attr({fill:i}))},unselectSeries:function(t){var e=this.sectorInfos[t.index];e&&e.sector.attr({fill:e.color})},selectLegend:function(t){var e=tui.util.isNull(t),i=this.legendLines;tui.util.forEachArray(this.sectorInfos,function(n,a){var s=e||t===a?l:c;n.sector.attr({"fill-opacity":s}),i&&i[a].attr({"stroke-opacity":s})})}});t.exports=f},function(t,e,i){"use strict";var n=i(124),a=i(122),s=1,o=.3,r=window.Raphael,u=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null,this.chartType="radial"},render:function(t,e,i){var n=e.dimension,a=e.groupPositions,s=e.theme,o=s.colors,u=e.options.showDot?1:0,h=e.options.showArea,l=this._getLinesPath(a),c=this.makeBorderStyle(s.borderColor,u),d=this.makeOutDotStyle(u,c);return i=i||r(t,1,n.height),this.paper=i,this.dimension=n,h&&this._renderArea(i,l,o),this.groupLines=this._renderLines(i,l,o),this.groupDots=this._renderDots(i,a,o,u),e.options.allowSelect&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=s.selectionColor),this.colors=o,this.borderStyle=c,this.outDotStyle=d,this.groupPositions=a,this.groupPaths=l,this.dotOpacity=u,i},_getLinesPath:function(t){var e=this;return tui.util.map(t,function(t){return e._makeLinesPath(t)})},_renderLines:function(t,e,i,n){return tui.util.map(e,function(e,s){var o=i[s]||"transparent";return a.renderLine(t,e.join(" "),o,n)})},_renderArea:function(t,e,i){return tui.util.map(e,function(e,n){var s=i[n]||"transparent";return a.renderArea(t,e,{fill:s,opacity:.4,"stroke-width":0,stroke:s})})},resize:function(t){var e=this,i=t.dimension,n=t.groupPositions;this.groupPositions=n,this.groupPaths=this._getLinesPath(n),this.paper.setSize(i.width,i.height),this.tooltipLine.attr({top:i.height}),tui.util.forEachArray(this.groupPaths,function(t,i){e.groupLines[i].attr({path:t.join(" ")}),tui.util.forEachArray(e.groupDots[i],function(t,a){e._moveDot(t.endDot.dot,n[i][a])})})},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupLines,function(n,a){var r=i||t===a?s:o;n.attr({"stroke-opacity":r}),tui.util.forEachArray(e.groupDots[a],function(t){t.opacity=r,e.dotOpacity&&t.endDot.dot.attr({"fill-opacity":r})})})}});t.exports=u},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s=700,o=.5,r=.3,u=.5,h=.3,l=.2,c=2,d=tui.util.defineClass({render:function(t,e,i){var n,s=e.dimension;return this.paper=n=a(t,s.width,s.height),this.container=t,this.theme=e.theme,this.seriesDataModel=e.seriesDataModel,this.groupBounds=e.groupBounds,this.callbacks=i,this.overlay=this._renderOverlay(),this.groupCircleInfos=this._renderCircles(),this.prevCircle=null,this.prevOverCircle=null,this.animationTimeoutId=null,n},_renderOverlay:function(){var t={left:0,top:0},e={fill:"none",stroke:"#fff","stroke-opacity":r,"stroke-width":2},i=n.renderCircle(this.paper,t,0,e);return i},_renderCircles:function(){var t=this,e=this.theme.colors,i=[];return 1===this.groupBounds[0].length&&this.theme.singleColors&&(i=this.theme.singleColors),tui.util.map(this.groupBounds,function(a,s){var o=i[s];return tui.util.map(a,function(i,a){var r,u,h=null;return i&&(r=o||e[a],u=n.renderCircle(t.paper,i,0,{fill:r,opacity:0,stroke:"none"}),u.data("groupIndex",s),u.data("index",a),h={circle:u,color:r,bound:i}),h})})},_animateCircle:function(t,e){t.animate({r:e,opacity:o},s)},animate:function(t){var e=this;this.animationTimeoutId&&(clearTimeout(this.animationTimeoutId),this.animationTimeoutId=null),n.forEach2dArray(this.groupCircleInfos,function(t){t&&e._animateCircle(t.circle,t.bound.radius)}),t&&(this.animationTimeoutId=setTimeout(function(){t(),this.animationTimeoutId=null},s))},_updatePosition:function(t,e){t.attr({cx:e.left,cy:e.top,r:e.radius})},resize:function(t){var e=this,i=t.dimension,a=t.groupBounds;this.groupBounds=a,this.paper.setSize(i.width,i.height),n.forEach2dArray(this.groupCircleInfos,function(t,i,n){var s=a[i][n];t.bound=s,e._updatePosition(t.circle,s)})},findIndexes:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=null;return e&&(i={index:e.data("index"),groupIndex:e.data("groupIndex")}),i},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},showAnimation:function(t){var e=this.groupCircleInfos[t.groupIndex][t.index],i=e.bound;this.overlay.attr({cx:i.left,cy:i.top,r:i.radius+c,stroke:e.color,opacity:1})},hideAnimation:function(){this.overlay.attr({cx:0,cy:0,r:0,opacity:0})},_findCircle:function(t){for(var e,i,n=[],a=this.paper;tui.util.isUndefined(e);)i=a.getElementByPoint(t.left,t.top),i?i.attrs.opacity>h?e=i:(n.push(i),i.hide()):e=null;return e||(e=n[0]),tui.util.forEachArray(n,function(t){t.show()}),e},moveMouseOnSeries:function(t){var e,i,n,a,s=this._findCircle(t);s&&tui.util.isExisty(s.data("groupIndex"))?(e=this.container.getBoundingClientRect(),i=s.data("groupIndex"),n=s.data("index"),a=[{},i,n,{left:t.left-e.left,top:t.top-e.top}],this._isChangedPosition(this.prevPosition,t)&&(this.callbacks.showTooltip.apply(null,a),this.prevOverCircle=s)):this.prevOverCircle&&(this.callbacks.hideTooltip(),this.prevOverCircle=null),this.prevPosition=t},selectSeries:function(t){var e=t.groupIndex,i=t.index,s=this.groupCircleInfos[e][i],o=a.color(s.color),r=this.theme.selectionColor,u=r||n.makeChangedLuminanceColor(o.hex,l);s.circle.attr({fill:u})},unselectSeries:function(t){var e=t.groupIndex,i=t.index,n=this.groupCircleInfos[e][i];n.circle.attr({fill:n.color})},selectLegend:function(t){var e=tui.util.isNull(t);n.forEach2dArray(this.groupCircleInfos,function(i,n,a){var s;i&&(s=e||t===a?u:h,i.circle.attr({opacity:s}))})}});t.exports=d},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s=100,o=1,r=3,u=tui.util.defineClass({render:function(t,e){var i=e.dimension;return this.paper=a(t,i.width,i.height),this.theme=e.theme||{},this.colorSpectrum=e.colorSpectrum,this.chartBackground=e.chartBackground,this.zoomable=e.zoomable,this.borderColor=this.theme.borderColor||"none",this.borderWidth=this.theme.borderWidth,this.groupBounds=e.groupBounds,this.boundMap=e.boundMap,this._bindGetBoundFunction(),this._bindGetColorFunction(),this.boxesSet=this._renderBoxes(e.seriesDataModel,e.startDepth,!!e.isPivot),this.paper},_bindGetBoundFunction:function(){this.boundMap?this._getBound=this._getBoundFromBoundMap:this._getBound=this._getBoundFromGroupBounds},_bindGetColorFunction:function(){this.colorSpectrum?this._getColor=this._getColorFromSpectrum:this.zoomable?this._getColor=this._getColorFromColorsWhenZoomable:this._getColor=this._getColorFromColors},_getBoundFromGroupBounds:function(t){return this.groupBounds[t.groupIndex][t.index].end},_getBoundFromBoundMap:function(t){return this.boundMap[t.id]},_getColorFromSpectrum:function(t){var e;return e=t.hasChild?"none":this.colorSpectrum.getColor(t.colorRatio||t.ratio)||this.chartBackground},_getColorFromColors:function(t){return t.hasChild?"none":this.theme.colors[t.group]},_getColorFromColorsWhenZoomable:function(t,e){return t.depth===e?this.theme.colors[t.group]:"none"},_renderRect:function(t,e,i){return n.renderRect(this.paper,t,{fill:e,stroke:this.borderColor,"stroke-width":i})},_getStrokeWidth:function(t,e){var i;return i=this.borderWidth?this.borderWidth:tui.util.isExisty(t)?Math.max(o,r-(t-e)):o},_renderBoxes:function(t,e,i){var n,a=this;return n=this.colorSpectrum||!this.zoomable?function(t){t.toBack()}:function(){},t.map(function(t,i){return t.map(function(t,s){var o,r,u=null,h=a._getStrokeWidth(t.depth,e);return t.groupIndex=i,t.index=s,o=a._getBound(t),o&&(r=a._getColor(t,e),u={rect:a._renderRect(o,r,h),seriesItem:t,color:r},n(u.rect)),u})},i)},_animateChangingColor:function(t,e,i){var n={"fill-opacity":tui.util.isExisty(i)?i:1};e&&(n.fill=e),t.animate(n,s)},showAnimation:function(t,e,i){var n,a=this.boxesSet[t.groupIndex][t.index];
a&&(e=!!tui.util.isUndefined(e)||e,n=e?this.theme.overColor:a.color,a.seriesItem.hasChild&&(e&&a.rect.attr({"fill-opacity":0}),a.rect.toFront()),this._animateChangingColor(a.rect,n,i))},hideAnimation:function(t,e){var i,n=this.colorSpectrum,a=this.boxesSet[t.groupIndex][t.index],o=1;a&&(a.seriesItem.hasChild?(i=null,e&&(o=0)):i=a.color,this._animateChangingColor(a.rect,i,o),setTimeout(function(){!n&&a.seriesItem.hasChild&&a.rect.toBack()},s))},resize:function(t){var e=this,i=t.dimension;this.boundMap=t.boundMap,this.groupBounds=t.groupBounds,this.paper.setSize(i.width,i.height),n.forEach2dArray(this.boxesSet,function(t,i,a){var s;t&&(s=e._getBound(t.seriesItem,i,a),s&&n.updateRectBound(t.rect,s))})}});t.exports=u},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s="gray",o=100,r=tui.util.defineClass({render:function(t,e){var i,n=e.dimension,s=e.mapModel.getMapDimension();return this.paper=i=a(t,n.width,n.height),this.sectors=this._renderMap(e),this.overColor=e.theme.overColor,i.setViewBox(0,0,s.width,s.height,!1),i},_renderMap:function(t){var e=this.paper,i=t.colorSpectrum;return tui.util.map(t.mapModel.getMapData(),function(t,a){var o=t.ratio||0,r=i.getColor(o),u=n.renderArea(e,t.path,{fill:r,opacity:1,stroke:s,"stroke-opacity":1});return u.data("index",a),{sector:u,color:r,ratio:t.ratio}})},findSectorIndex:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=e&&e.data("index"),n=!tui.util.isUndefined(i)&&this.sectors[i];return n&&!tui.util.isUndefined(n.ratio)?i:null},changeColor:function(t){var e=this.sectors[t];e.sector.animate({fill:this.overColor},o)},restoreColor:function(t){var e=this.sectors[t];e.sector.animate({fill:e.color},o)},setSize:function(t){this.paper.setSize(t.width,t.height)}});t.exports=r},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s=10,o=tui.util.defineClass({render:function(t,e,i,n){var s=a(t,e.width,e.height);return this._renderGradientBar(s,e,i,n),this.wedge=this._renderWedge(s),s},_renderGradientBar:function(t,e,i,a){var o,r,u=e.height,h=0;a?(u-=s,h=s/2,o=360,this._makeWedghPath=this._makeHorizontalWedgePath):(o=270,this._makeWedghPath=this._makeVerticalWedgePath),r={left:h,top:0,width:e.width-s,height:u},n.renderRect(t,r,{fill:o+"-"+i.start+"-"+i.end,stroke:"none"})},_renderWedge:function(t){var e=t.path(this.verticalBasePath).attr({fill:"gray",stroke:"none",opacity:0});return e},verticalBasePath:["M",16,6,"L",24,3,"L",24,9],_makeVerticalWedgePath:function(t){var e=this.verticalBasePath;return e[2]=t,e[5]=t-3,e[8]=t+3,e},horizontalBasePath:["M",5,16,"L",8,24,"L",2,24],_makeHorizontalWedgePath:function(t){var e=this.horizontalBasePath;return t+=s/2,e[1]=t,e[4]=t+3,e[7]=t-3,e},showWedge:function(t){var e=this._makeWedghPath(t);this.wedge.attr({path:e,opacity:1})},hideWedge:function(){this.wedge.attr({opacity:0})}});t.exports=o},function(t,e,i){"use strict";var n=i(122),a=window.Raphael,s=tui.util.defineClass({render:function(t,e,i,n){var s=a(t,e.width,e.height);return this.paper=s,this._renderCircles(e,i,n),s},_renderCircles:function(t,e,i){var a=this.paper,s=t.width/2;tui.util.forEachArray(i,function(i){var o=e*i,r=t.height-o-1;n.renderCircle(a,{left:s,top:r},o,{fill:"none",opacity:1,stroke:"#888","stroke-width":1})})}});t.exports=s},function(t,e,i){"use strict";var n=i(122),a=i(6),s=window.Raphael,o=8,r=3,u=tui.util.defineClass({render:function(t){var e=s(t.container,t.dimension.width,t.dimension.height);return this.paper=e,this.dimension=t.dimension,this.plotPositions=t.plotPositions,this.theme=t.theme,this.options=t.options,this.labelData=t.labelData,this._renderPlot(),this._renderLabels(),e},_renderPlot:function(){"circle"===this.options.type?this._renderCirclePlot():this._renderSpiderwebPlot(),this._renderCatergoryLines()},_renderSpiderwebPlot:function(){this._renderLines(this._getLinesPath(this.plotPositions),this.theme.lineColor)},_renderCirclePlot:function(){var t,e,i,a=this.plotPositions,s=a[0][0],o=this.theme.lineColor;for(t=1;t<a.length;t+=1)e=a[t][0],i=s.top-e.top,n.renderCircle(this.paper,s,i,{stroke:o})},_renderCatergoryLines:function(){this._renderLines(this._getLinesPath(a.pivot(this.plotPositions)),this.theme.lineColor)},_renderLabels:function(){var t=this.paper,e=this.theme,i=this.labelData;tui.util.forEachArray(i.category,function(i){var a={fill:e.label.color,"font-size":e.label.fontSize,"font-family":e.label.fontFamily,"text-anchor":i.position.anchor,"font-weight":"100","dominant-baseline":"middle"};n.renderText(t,i.position,i.text,a)}),tui.util.forEachArray(i.step,function(i){var a={fill:e.lineColor,"font-size":e.label.fontSize,"font-family":e.label.fontFamily,"text-anchor":"end","font-weight":"100","dominant-baseline":"middle"};i.position.top-=o,i.position.left-=r,n.renderText(t,i.position,i.text,a)})},_renderLines:function(t,e){var i=this.paper;return tui.util.map(t,function(t){return n.renderLine(i,t.join(" "),e,1)})},_getLinesPath:function(t){var e=this;return tui.util.map(t,function(t){return e._makeLinesPath(t)})},_makeLinesPath:function(t,e,i){var n=[],a=!1;return e=e||"top",tui.util.map(t,function(t){var s=a&&!i?"M":"L";t?(n.push([s,t.left,t[e]]),a&&(a=!1)):a=!0}),n=Array.prototype.concat.apply([],n),n[0]="M",n}});t.exports=u}]);